[{"content":"å‰è¨€ ç“¦ç‰‡ç¼“å­˜ç»„ä»¶æ˜¯ç»å¤§éƒ¨åˆ†ç“¦ç‰‡æœåŠ¡æ‰€åº”è¯¥æœ‰çš„æ¨¡å—ä¹‹ä¸€ï¼Œè€ŒGeo AtlasåŒæ ·å®ç°äº†å…¶ç“¦ç‰‡ç¼“å­˜æ¨¡å—ã€‚æœ¬æ–‡ç”¨äºæè¿°Geo Atlasä¸­çš„Cacheæ¨¡å—çš„è®¾è®¡ä¸å®ç°è¿‡ç¨‹ã€‚\nä»€ä¹ˆæ˜¯GACï¼Ÿ GACï¼Œå…¨ç§°æ˜¯Geo Atlas Cacheï¼Œæ˜¯Geo Atlasç±»åº“ä¸­çš„Cacheæ¨¡å—ï¼Œç”¨äºæä¾›çŸ¢é‡ç“¦ç‰‡çš„ç¼“å­˜åŠŸèƒ½ã€‚GACæºè‡ªGWCï¼ˆGeoWebCacheï¼‰ï¼Œæ˜¯åœ¨GWCçš„åŸºç¡€ä¸Šè¿›è¡Œäº†é€‚åº”æ€§çš„è°ƒæ•´è€Œæ¥ã€‚ç›®å‰æ”¯æŒåŸºäºå†…å­˜ã€æ–‡ä»¶ç³»ç»Ÿä¸¤ç§ç¼“å­˜æ–¹å¼ï¼Œä¸”æ­¤ä¸¤ç§ç¼“å­˜æ–¹å¼å¯ä»»æ„ç»„åˆã€‚å¯¹äºç“¦ç‰‡ç¼“å­˜å¤„ç†ç­–ç•¥ï¼Œç›®å‰æ”¯æŒSeedã€Reseedã€Truncateä¸‰ç§ï¼Œä¸GWCä¿æŒä¸€è‡´ã€‚\nGACçš„åŸºæœ¬ç†å¿µ GWCä¸­å£°æ˜å¹¶å¼ºè°ƒTileLayerçš„æ¦‚å¿µï¼Œå¹¶åŸºäºæ­¤æŠ½è±¡ï¼Œç”¨ä»¥é€‚é…æ•°æ®æ¥æºä¸ç“¦ç‰‡å­˜å‚¨ï¼ˆç¼“å­˜ï¼‰ã€‚ä¹Ÿå°±å¦‚åŒGeoServerä¸­ï¼Œä¸€ä¸ªå›¾å±‚å¦‚æœéœ€è¦æ‹¥æœ‰ç¼“å­˜èƒ½åŠ›ï¼Œé‚£ä¹ˆè¿˜éœ€è¦åˆ›å»ºä¸€ä¸ªTileLayerï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ‹¥æœ‰ç¼“å­˜çš„å›¾å±‚ï¼Œå°†ä¼šåŒæ—¶æŒæœ‰ä¸¤ä¸ªLayerï¼Œä¸€ä¸ªæ˜¯ Map Layerï¼ˆFeatureTypeï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯TileLayerã€‚ TileLayerä¸­è¿›è¡Œç“¦ç‰‡å­˜å‚¨ç›¸å…³å†…å®¹çš„é…ç½®ï¼Œå¯ä»¥éšæ„é…ç½®å­˜å‚¨å®¹å™¨å¯¹è±¡ï¼ˆæ–‡ä»¶ç³»ç»Ÿã€å¯¹è±¡å­˜å‚¨ã€æ•°æ®åº“ç­‰ï¼‰ã€‚\nè€Œç›®å‰Geo Atlas Cacheçš„å®ç°åˆ™å°†å¤§å¤§ç®€åŒ–è¿™ä¸€æ“ä½œï¼Œæ²¡æœ‰TileLayerå¯¹è±¡ï¼Œå…¨å±€å…±ç”¨åŒä¸€ä¸ªå­˜å‚¨å®¹å™¨å¯¹è±¡ï¼Œæ— éœ€ç¹ççš„å­˜å‚¨é…ç½®ï¼Œé€šè¿‡è‡ªåŠ¨è£…é…å¿«é€Ÿå¯ç”¨ç¼“å­˜ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸­å°é¡¹ç›®ä¸­æ‰€éœ€è¦çš„ã€‚\nç›®å‰å¯¹äºç“¦ç‰‡ç¼“å­˜ï¼ˆTile Cacheï¼‰çš„æ¸…ç†ï¼Œä¹Ÿå°±æ˜¯åŒGWCä¸­æä¾›çš„Seedã€Reseedã€Truncateä¸€èˆ¬ã€‚Truncateåªéœ€æŒæœ‰BlobStoreçš„å¥æŸ„å³å¯å®Œæˆï¼Œä½†Seedå’ŒReseedåˆ™éœ€å‰å¾€æ•°æ®çš„æºç«¯è·å–ç“¦ç‰‡ï¼Œè¿›è€Œæ‰å¯å®Œæˆæ“ä½œï¼Œä¹Ÿå°±æ˜¯éœ€è¦æŒæœ‰è·å–æºç«¯ç“¦ç‰‡Generateçš„å¥æŸ„æ‰å¯ã€‚æˆ–è®¸è¿™å°±æ˜¯ä¸ºä»€ä¹ˆGWCä¸­æå‡ºTileLayerçš„åŸå› ä¹‹ä¸€ä¹Ÿæœªå¯çŸ¥ ğŸ˜®ã€‚ ä¸è¿‡ï¼Œæˆ‘å´ç”±æ­¤è®¤ä¸ºGWCçš„è¾¹ç•Œä¸æ¸…æ™°ï¼Œæˆ‘è®¤ä¸ºç¼“å­˜å°±åšç¼“å­˜çš„äº‹æƒ…å°±å¯ä»¥äº†ï¼Œåº”å½“æŠŠLayerã€TileMatrixSetï¼ˆGridSetï¼‰å’ŒCacheåˆ†å¼€ã€‚ä½†å¦‚æ­¤ï¼Œè‹¥æƒ³è¦æ”¯æŒSeedå’ŒReseedè¿™ä¸¤ç§ç»™ç­–ç•¥çš„è¯ï¼Œè‡³å°‘éœ€è¦æä¾›ä¸€ä¸ªæ‹“å±•ç‚¹æ‰å¯ã€‚æˆ‘åœ¨æ­¤å°†å…¶å‘½åä¸ºTileSourceï¼Œæ˜¯ä¸ºCacheä¸Sourceï¼ˆæºç«¯ç“¦ç‰‡ï¼‰ä¹‹é—´çš„é€‚é…ç»„ä»¶ã€‚å…¶å®ï¼Œè¿™ä¸ä¹Ÿæ˜¯ä¸€ç§ç­‰åŒTileLayerçš„å­˜åœ¨ï¼Œä½†æˆ‘å¹¶ä¸é€šè¿‡Layeræ¥è¿›è¡Œå…³è”æ§åˆ¶ï¼Œä¹Ÿæ²¡æœ‰TileLayerçš„æ¦‚å¿µï¼Œç¼“å­˜å°±æ˜¯ç¼“å­˜ã€‚\nGACçš„è®¾è®¡ä¸å®ç° å› ä¸ºGeoServeræ²‰é‡çš„å†å²åŒ…è¢±ä»¥åŠå¤§è€Œå…¨çš„è‡ƒè‚¿ï¼Œæ‰€ä»¥æœ‰äº†Geo Atlasé¡¹ç›®ã€‚GACä¹Ÿå°†å»¶ç»­æ­¤ç†å¿µï¼Œå»é™¤Cacheç‰¹å®šäºLayerçš„æ¦‚å¿µï¼Œæ— éœ€ä¸ºå›¾å±‚å•ç‹¬é…ç½®ç¼“å­˜ï¼Œå› ä¸ºç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ä½¿ç”¨ç›¸åŒçš„ç¼“å­˜é…ç½®ã€‚åŒæ—¶ï¼Œä»–åº”è¯¥æ˜¯å¯ä»¥è¢«å¿«é€Ÿé›†æˆï¼Œä¸”æ˜“äºé…ç½®çš„ã€‚ä¸ºäº†æå‡ç¼“å­˜ç»„ä»¶çš„æ˜“ç”¨æ€§ã€å…¼å®¹æ€§åŠç¨³å®šæ€§ï¼Œè‡³å°‘åº”è¯¥æä¾›ä¸¤ç§ä¸åŒçš„ç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œä¸”å…¶ä¸­ä¸€ç§åº”è¯¥æ˜¯åŸºäºå†…å­˜çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯æ”¯æŒæŒä¹…åŒ–çš„ã€‚å½“æ•°æ®é‡å¾ˆå°‘æ—¶ï¼Œå¯ä»¥å…³é—­ç¼“å­˜æˆ–ä»…å¼€å¯å†…å­˜ç¼“å­˜ï¼›å½“æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œå¯ä»¥ä»…å¼€å¯æŒä¹…åŒ–ç¼“å­˜æˆ–åŒæ—¶å¼€å¯å†…å­˜ç¼“å­˜ã€‚å†…å­˜ç¼“å­˜ä¸å¯æŒä¹…åŒ–ç¼“å­˜å¯è‡ªç”±æ­é…ï¼Œä»»æ„ç»„åˆã€‚å½“ä¸¤è€…å…¨å¼€å¯æ—¶ï¼Œå¯å½¢æˆä¸¤çº§ç¼“å­˜ï¼Œæ­¤æ—¶éœ€æ³¨æ„ä¸¤çº§ç¼“å­˜é—´æ•°æ®çš„åŒæ­¥ã€‚\nGACçš„éœ€æ±‚ä¸è®¾è®¡ æ¥ä¸‹æ¥ï¼Œå†æ¬¡ç¡®å®šä¸€ä¸‹GACçš„éœ€æ±‚ï¼š\næ”¯æŒçŸ¢é‡ç“¦ç‰‡ç¼“å­˜ æä¾›ä¸¤ç±»ç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œå…¶ä¸­ä¸€ç§åº”è¯¥æ˜¯åŸºäºå†…å­˜çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯æ”¯æŒæŒä¹…åŒ–çš„ï¼Œä¸”ä¸¤è€…å¯ä»»æ„ç»„åˆï¼ŒåŒæ—¶å¼€å¯å¯å½¢æˆäºŒçº§ç¼“å­˜ç»“æ„ æä¾›Seedã€Reseedã€Truncateæ­¤ä¸‰ç§ç“¦ç‰‡ç¼“å­˜æ¸…ç†ç­–ç•¥ å…¨å±€å…±ç”¨åŒä¸€ä¸ªç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œæä¾›å¿«é€Ÿé›†æˆèƒ½åŠ› å…¶ä¸­ï¼ŒäºŒçº§ç¼“å­˜æ˜¯æ­¤å‰æ²¡æœ‰æ¥è§¦è¿‡çš„å†…å®¹ã€‚ç»“åˆè‡ªæˆ‘è‡†æƒ³ï¼Œç»™å‡ºäº†å¦‚ä¸‹è®¾æƒ³ ğŸ«£ï¼š\næ­¤äºŒçº§ç¼“å­˜ï¼Œå¯è‡ªè¡Œç¡®å®šç»„åˆæ–¹å¼ï¼Œå¹¶ééœ€è¦ä¸¤è€…åŒæ—¶å¼€å¯ã€‚éš¾ç‚¹ï¼šçŠ¶æ€åŒæ­¥ï¼ˆæ•°æ®ä¸€è‡´æ€§ï¼‰\nä¸€çº§ç¼“å­˜ï¼ˆåŸºäºå†…å­˜ï¼‰ï¼š Local Mem Cache + LRU Guava Caffeine äºŒçº§ç¼“å­˜ï¼ˆå¯æŒä¹…åŒ–ï¼‰ï¼šOuter Cache Redis File System Database GeoPackage æ¯ä¸€ä¸ªLevelä¸€ä¸ªgpkgæ–‡ä»¶ï¼Œæå‡å¹¶å‘è¯»å†™èƒ½åŠ›ï¼ˆæ”¯æŒé…ç½®ä¸ºæ‰€æœ‰Levelç”¨ä¸€ä¸ªgpkgï¼Œä½†æ˜¯ä¸æ¨èï¼‰ PostGIS ä¸è¿‡ï¼Œåœ¨ç»è¿‡ä¸€ç•ªè°ƒç ”ä¹‹åï¼Œè¿˜æ˜¯å†³å®šæŠ„GeoWebCacheçš„ä½œä¸š ğŸ˜§ã€‚ä¸€æ˜¯ç¡®å®æœ‰ä¸€å®šçš„éš¾åº¦ï¼ŒäºŒæ˜¯ç›®å‰æ—¶é—´æœ‰é™ï¼ŒGAPä¸­çš„æˆ‘æ—©å·²ç‘Ÿç‘Ÿå‘æŠ– ğŸ™„ã€‚æœ€é‡è¦çš„æ˜¯ï¼ŒGeoWebCacheä¸­çš„MemoryBlobStoreå·²ç»å®ç°äº†ä¸Šè¿°äºŒçº§ç¼“å­˜çš„éœ€æ±‚å‘€ ğŸ«¡ï¼Œå¦‚æ­¤æ“ä½œå¯ç›´æ¥è¦†ç›–æ‰å‰ä¸‰ä¸ªéœ€æ±‚ã€‚è€Œæ­¤æ—¶äºŒçº§ç¼“å­˜çš„å®ç°ç¡®å®šä¸ºï¼š\nåŸºäºå†…å­˜çš„ç¼“å­˜ï¼ˆGuavaï¼‰ åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œæ­¤MemoryBlobStoreäºŒçº§ç¼“å­˜æ˜¯å¯æ‹“å±•æ¶æ„ï¼Œåç»­å¯è‡ªè¡Œæ‹“å±•ä¸åŒçš„Providerã€‚\nğŸ’¡ å¯¹äºSeedä¸Reseedçš„å¤„ç†ï¼Œåˆ™ä¸GACçš„ç†å¿µä¸­æ‰€è¿°ä¸€è‡´ï¼Œé€šè¿‡TileSourceå¯¹å¤–æä¾›æ‹“å±•ã€‚ä¹Ÿå°±æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼ŒCacheæ¨¡å—åªæä¾›Seedä¸Reseedçš„å£°æ˜ï¼Œæ— æ³•æä¾›å…·ä½“å®ç°ï¼ˆæ— æ³•ç›´æ¥ä¸Sourceè¿›è¡Œé“¾æ¥ï¼‰ã€‚\né‚£ä¹ˆæ­¤åˆ»åªå‰©ä¸‹æœ€åä¸€ä¸ªéœ€æ±‚äº†ï¼Œå…¶ä¸»æ—¨å›´ç»•å¿«é€Ÿé…ç½®ã€æ˜“ç”¨ã€‚åœ¨æ­¤åŸºäºGeoWebCacheä¸­çš„DefaultStorageBroker ç±»è¿›è¡Œç¼“å­˜å­˜å‚¨å¯¹è±¡çš„ä»£ç†ï¼Œå…¶ç¬¦åˆGWCä¸­ç¼“å­˜å­˜å‚¨å¯¹è±¡è®¾è®¡æ¶æ„ï¼Œä¹Ÿä¸ºåç»­æä¾›äº†æ›´å¤šçš„æ‹“å±•ç‚¹ï¼ŒåŒæ—¶å°†å…¶æš´éœ²ç»™å…¨å±€ï¼Œå³å…¨å±€å…±ç”¨çš„ç¼“å­˜å­˜å‚¨å¯¹è±¡ã€‚å¯¹äºå¿«é€Ÿé›†æˆèƒ½åŠ›ï¼Œæ­¤å¤„å°†ç»“åˆSpring Bootçš„AutoConfigurationç‰¹æ€§ï¼Œä¸ºGACæä¾›è‡ªåŠ¨è£…é…èƒ½åŠ›ã€‚ä¸æ­¤åŒæ—¶ï¼Œå°†ç¼“å­˜å­˜å‚¨å¯¹è±¡çš„å¯è®¾ç½®å±æ€§é€šè¿‡é…ç½®çš„æ–¹å¼æš´éœ²å‡ºæ¥ï¼Œå¯ç›´æ¥åœ¨application.ymlæˆ–application.propertiesä¸­è¿›è¡Œé…ç½®ã€‚å…·ä½“å¯é…ç½®å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š\ngeo-atlas.cache.enabled=falseï¼ˆæ˜¯å¦å¯ç”¨ç¼“å­˜ï¼Œé»˜è®¤ä¸ºfalseï¼‰ geo-atlas.cache.inner-caching-enabled=falseï¼ˆæ˜¯å¦å¯ç”¨å†…å­˜ç¼“å­˜ï¼Œé»˜è®¤ä¸ºfalseï¼‰\ngeo-atlas.cache.inner.storage.provider=guavaï¼ˆå¯é€‰å€¼ï¼šguavaï¼Œæš‚ä¸æ”¯æŒï¼Œä¿ç•™ï¼‰\ngeo-atlas.cache.inner.storage.memory-limit=16ï¼ˆå†…å­˜å¤§å°é™åˆ¶ï¼Œå•ä½MBï¼Œé»˜è®¤16ï¼‰\ngeo-atlas.cache.inner.storage.concurrency-level=4ï¼ˆç¼“å­˜å¹¶å‘çº§åˆ«çš„é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸º4ï¼‰\ngeo-atlas.cache.inner.storage.eviction-policy=nullï¼ˆç¼“å­˜é©±é€æ”¿ç­–ï¼Œå³ç¼“å­˜æ·˜æ±°ç®—æ³•ï¼Œå¯é€‰å€¼ï¼šNULLã€LRUã€LFUã€EXPIRE_AFTER_WRITEã€EXPIRE_AFTER_ACCESSï¼Œé»˜è®¤å€¼ä¸ºNULLï¼‰\nğŸ’¡ LRUã€LFUæš‚æ—¶ä¸æ”¯æŒ\ngeo-atlas.cache.inner.storage.eviction-time=2*60ï¼ˆç¼“å­˜é©±é€æ—¶é—´çš„é»˜è®¤å€¼ï¼Œå•ä½ï¼šç§’ï¼Œé»˜è®¤ï¼š2 minutesï¼‰\ngeo-atlas.cache.persistence-enabled=falseï¼ˆæ˜¯å¦å¯ç”¨æŒä¹…åŒ–ç¼“å­˜ï¼Œé»˜è®¤ä¸ºfalseï¼‰ geo-atlas.cache.persistence.storage.provider=file-systemï¼ˆæŒä¹…åŒ–ç¼“å­˜å­˜å‚¨ç­–ç•¥å¯¹è±¡ï¼Œå¯é€‰å€¼ï¼šfile-systemã€geopackageï¼Œç°åªæ”¯æŒfile-systemï¼‰ geo-atlas.cache.persistence.storage.base-directoryï¼ˆå³æœ€ç»ˆç“¦ç‰‡æŒä¹…åŒ–çš„ç›®å½•åŸºç¡€è·¯å¾„ï¼Œé»˜è®¤è¯»å–ï¼šjava.io.tmpdirï¼Œå¯æ‹“å±•ï¼‰ geo-atlas.cache.persistence.storage.file-system.path-generator-type=defaultï¼ˆå³ç“¦ç‰‡å­˜å‚¨è·¯å¾„ç®—æ³•ï¼Œå¯é€‰å€¼ï¼šdefaultã€tmsã€xyzï¼Œé»˜è®¤ä¸ºdefaultï¼‰\ngeo-atlas.cache.persistence.storage.fs.block-size=4096ï¼ˆThe default block size is 4096 bytes.ï¼‰\nThis setting determines how the tile cache calculates disk usage. The value for this setting should be equivalent to the disk block size of the storage medium where the cache is located. The default block size is 4096 bytes.ï¼ˆæ­¤è®¾ç½®ç¡®å®šåˆ‡ç‰‡ç¼“å­˜å¦‚ä½•è®¡ç®—ç£ç›˜ä½¿ç”¨æƒ…å†µã€‚ è¯¥è®¾ç½®çš„å€¼åº”ç­‰äºç¼“å­˜æ‰€åœ¨å­˜å‚¨ä»‹è´¨çš„ç£ç›˜å—å¤§å°ã€‚ é»˜è®¤å—å¤§å°ä¸º 4096 å­—èŠ‚ã€‚ï¼‰\nğŸ’¡ ç›®å‰è¯¥è®¾ç½®åº”æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæ¯•ç«Ÿåˆæ²¡åšç£ç›˜ä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡ã€‚ ğŸ¤¨\nGACçš„å®ç° æ—¢ç„¶å†³å®šæŠ„GeoWebCacheçš„ä½œä¸šï¼Œé‚£ä¸»è¦å†…å®¹å°±æ˜¯å¯¹å…¶Cacheéƒ¨åˆ†å†…å®¹è¿›è¡Œç§»æ¤ï¼ŒåŒæ—¶å°†Geo Atlasçš„å¼€æºåè®®å˜æ›´ä¸ºLGPLï¼ˆMIT â†’ LGPLï¼‰ã€‚å½“æ‰€æœ‰å†…å®¹éƒ½è¢«è‡ªæˆ‘å¸æ”¶è½¬æ¢åï¼Œå°±å¯ä»¥è‡ªç”±æ§åˆ¶åè®®äº†ï¼Œæ¯”å¦‚å†è½¬ä¸ºMITæˆ–Apacheã€‚\nBlobStore è¿™é‡Œå¯ä»¥å…ˆçœ‹ä¸€ä¸‹BlobStoreçš„ç°æœ‰ç»“æ„è®¾è®¡ï¼ŒBlobStoreæ˜¯ç¼“å­˜å­˜å‚¨å¯¹è±¡çš„é¡¶å±‚æ¥å£ï¼ŒMemoryBlobStoreã€FileBlobStoreã€NullBlobStoreç­‰å‡æ˜¯BlobStoreçš„å…·ä½“å®ç°ã€‚è¿™é‡Œå¯ä»¥æ³¨æ„åˆ°MemoryBlobStoreä¸­æœ‰ä¸€ä¸ªstoreå±æ€§ï¼ˆç±»å‹ä¸ºBlobStoreï¼‰å’Œä¸€ä¸ªcacheProviderå±æ€§ï¼ˆç±»å‹ä¸ºCacheProviderï¼‰ï¼Œè¿™ä¹Ÿå°±æ˜¯å‰é¢æåˆ°çš„äºŒçº§ç¼“å­˜å®ç°ã€‚\nå±•å¼€MemoryBlobStoreï¼Œå¯ä»¥ä»å…¶æ„é€ å‡½æ•°å‘ç°ï¼Œé»˜è®¤æƒ…å†µä¸‹åªæä¾›äº†åŸºäºGuavaçš„å†…å­˜ç¼“å­˜ï¼ŒåŒ…è£…çš„BlobStoreæ˜¯ä¸€ä¸ªç©ºå®ç°ï¼Œä¸”åœ¨æ­¤å¤„æ³¨é‡Šï¼Œå‘ŠçŸ¥å…¶é»˜è®¤è¡Œä¸ºå’Œæç¤ºçš„æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒ…è£…çš„BlobStoreå®ä¾‹å¯¹è±¡å¯ä»¥æ˜¯BlobStoreæ¥å£çš„ä»»æ„å®ç°ï¼Œæˆ‘åœ¨æ­¤å°†ä½¿ç”¨åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„å®ç°ï¼ˆFileBlobStoreï¼‰è¿›è¡Œå¡«å……ã€‚\næœ€ç»ˆï¼Œå°†äºŒçº§ç¼“å­˜æ„å»ºçš„æ•´ä½“é€»è¾‘ç»“åˆå¯é…ç½®æ€§å°è£…äºä¸€ä¸ªæ³¨å†Œç±»ä¸­ï¼Œåœ¨æ­¤å°†å…¶å‘½åä¸ºï¼šStorageBrokerRegisterï¼Œæ­¤å³ä¸ºå…¨å±€å…±ç”¨çš„ç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\npublic class StorageBrokerRegister implements EnvironmentAware, ImportBeanDefinitionRegistrar { private static final Logger log = LoggerFactory.getLogger(StorageBrokerRegister.class); private static final String FILE_SYSTEM_PROVIDER = \u0026#34;file-system\u0026#34;; private static final String GEO_PACKAGE = \u0026#34;geo-package\u0026#34;; private Environment environment; private DefaultStorageFinder storageFinder = new DefaultStorageFinder(null); @Override public void setEnvironment(Environment environment) { this.environment = environment; } @Override public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) { // FIXME: 2024/5/10 å…¶å®ç›®å‰TransientCacheå¹¶æ²¡æœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯ï¼Œä¸è¿‡æš‚æ—¶å…ˆç•™ä¸‹ // TransientCache æ—©äºMemoryStoreå‡ºç°, å‰è€…åº”è¯¥æ˜¯2012å¹´, åè€…åº”è¯¥æ˜¯2014å¹´ TransientCache transientCache = new TransientCache(100, 1024, 2000); BlobStore blobStore = new NullBlobStore(); Boolean cacheEnabled = getApplicationValue(GeoAtlasCacheEnvKeys.getCacheEnabled(), Boolean.class, Boolean.FALSE); if (cacheEnabled) { Boolean innerCachingEnabled = getApplicationValue(GeoAtlasCacheEnvKeys.getInnerCachingEnabled(), Boolean.class, Boolean.FALSE); Boolean persistenceEnabled = getApplicationValue(GeoAtlasCacheEnvKeys.getPersistenceEnabled(), Boolean.class, Boolean.FALSE); if (innerCachingEnabled) { MemoryBlobStore memoryBlobStore = buildInnerCache(); if (persistenceEnabled) { memoryBlobStore.setStore(buildPersistenceCache()); } blobStore = memoryBlobStore; }else if (persistenceEnabled) { blobStore = buildPersistenceCache(); }else { log.warn(\u0026#34;The cache configuration can be turned on, but the memory cache and persistent cache are turned off and cannot be further configured.\u0026#34; + \u0026#34; Please check your configuration items.\u0026#34;); log.warn(\u0026#34;This blobStore configuration fails and will enter a no-cache state.\u0026#34;); } } BeanDefinitionBuilder builder = BeanDefinitionBuilder.genericBeanDefinition(DefaultStorageBroker.class); builder.addConstructorArgValue(blobStore).addConstructorArgValue(transientCache); AbstractBeanDefinition beanDefinition = builder.getBeanDefinition(); beanDefinition.setSynthetic(true); registry.registerBeanDefinition(\u0026#34;storageBroker\u0026#34;, beanDefinition); log.info(\u0026#34;The BlobStore registration is complete\u0026#34;); } ... } Seedã€Reseed\u0026amp;Truncate å¯¹äºTruncateæ¥è¯´ï¼Œç›´æ¥è¿›è¡Œå…¨é¢ç§»æ¤å³å¯ã€‚ç”±äºæ­¤å¤„ç§»é™¤äº†TileLayeræ¦‚å¿µï¼Œæ‰€ä»¥Seedä¸Reseedæ— æ³•å…¨é¢ç§»æ¤å¤„ç†ï¼Œè€Œæ˜¯ä»…ç§»æ¤å…¶æœ€ç»ˆå®ç°éƒ¨åˆ†ï¼Œå¯¹äºè¿™ä¸¤è€…ä¸æºç«¯ç“¦ç‰‡çš„é“¾æ¥åˆ™é€šè¿‡TileSourceæ¥å£æ¥å®ç°ã€‚å³é»˜è®¤æƒ…å†µä¸‹ï¼ŒGACæ— æ³•æä¾›å®Œæ•´çš„Seedä¸ReseedåŠŸèƒ½ï¼Œéœ€è¦æ¥å…¥ç«¯å®ç°TileSourceä¸­çš„seedTileæ–¹æ³•ï¼ŒGACä¸­ä»…æä¾›ä¸€ä¸ªTileSourceçš„ç©ºå®ç°ã€‚\npublic interface TileSource { /** * å³é»˜è®¤ä¸ä½¿ç”¨MetaTiles */ int[] META_TILING_FACTORS = {1,1}; /** * The size of a metatile in tiles. * * @return the {x,y} metatiling factors */ default int[] getMetaTilingFactors() { return META_TILING_FACTORS; } void seedTile(ConveyorTile tile, boolean tryCache) throws GeoAtlasCacheException, IOException; } public abstract class AbstractTileSource implements TileSource{ private final Logger log = LoggerFactory.getLogger(getClass()); protected static final ThreadLocal\u0026lt;ByteArrayResource\u0026gt; TILE_BUFFER = new ThreadLocal\u0026lt;\u0026gt;(); public void seedTile(ConveyorTile tile, boolean tryCache) throws GeoAtlasCacheException, IOException { // Cacheæ¨¡å—æ— æ³•è‡ªä¸»æ‰§è¡Œseed\u0026amp;reseedæ“ä½œï¼Œéœ€è¦é›†æˆæ–¹è‡ªè¡Œå®ç° if (log.isWarnEnabled()){ log.warn(\u0026#34;The Cache module cannot perform seed \u0026amp; reseed operations autonomously, and the integrator needs to implement it by itself.\u0026#34;); } } protected void transferTile(TileObject tile, ConveyorTile tileProto, long requestTime, boolean persistent) throws GeoAtlasCacheException { ByteArrayResource resource = this.getTileBuffer(TILE_BUFFER); // copy resource tileProto.setBlob(resource); try { writeTileToStream(tile, resource); tile.setCreated(requestTime); if (persistent){ tileProto.getStorageBroker().put(tile); } tileProto.getStorageObject().setCreated(tile.getCreated()); } catch (StorageException var18) { throw new GeoAtlasCacheException(var18); } catch (IOException e) { log.error(\u0026#34;Unable to write image tile to ByteArrayOutputStream\u0026#34;, e); } } protected ByteArrayResource getTileBuffer(ThreadLocal\u0026lt;ByteArrayResource\u0026gt; tl) { ByteArrayResource buffer = (ByteArrayResource) tl.get(); if (buffer == null) { buffer = new ByteArrayResource(16 * 1024); tl.set(buffer); } buffer.truncate(); return buffer; } public boolean writeTileToStream(final TileObject raw, Resource target) throws IOException { try (OutputStream outStream = target.getOutputStream()) { IOUtils.copy(raw.getBlob().getInputStream(), outStream); } return true; } } // GACä¸­TileSourceçš„é»˜è®¤å®ç° public class DefaultTileSource extends AbstractTileSource { } ğŸ’¡ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒGWCä¸­æœ‰ä¸€ä¸ªMetatilesæŠ€æœ¯ï¼Œæ˜¯ä¸€ä¸ªé’ˆå¯¹åœ°å›¾ç“¦ç‰‡ï¼ˆPNG|JPEGï¼‰çš„ä¼˜åŒ–æŠ€æœ¯ã€‚ä½†æ˜¯åœ¨GWCç°æœ‰çš„æ¶æ„ç»„ç»‡ä¸Šï¼ŒMetatilesæ˜¯æ— æ³•æ”¯æŒçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯çš„ï¼Œä¹Ÿå°±æ˜¯ä¼šè¿˜åŸä¸º1x1çš„ç»„åˆã€‚æ‰€ä»¥æˆ‘åœ¨æ­¤å¤„ç›´æ¥å°†Metatilesé»˜è®¤è®¾ç½®ä¸º1x1çš„ç»„åˆï¼ŒåŒæ—¶æš‚æ—¶å»é™¤äº†ç“¦ç‰‡è½¬å­˜éƒ¨åˆ†ä¸­Metatilesæ‹†åˆ†é€»è¾‘ã€‚\nTileMatrixSubsetæ‹“å±• å…ˆè®²ä¸€ä¸‹å½“æŒ‡å®šBBoxåï¼ŒTruncateã€Seedã€Reseedçš„å¤§ä½“æ‰§è¡Œé€»è¾‘ã€‚GACå¯¹äºç“¦ç‰‡æ¸…ç†ç­–ç•¥çš„æ‰§è¡Œä¸GWCä¿æŒé«˜åº¦ä¸€è‡´ï¼ŒåŒæ ·æ”¯æŒæŒ‡å®šBBoxè¿›è¡Œç“¦ç‰‡æ¸…ç†ï¼ŒBBoxç”¨äºé™å®šå¯æ¸…ç†èŒƒå›´ã€‚åœ¨å‰æ–‡ä¸­å¯¹äºTileMatrixSetå’ŒTileMatrixSubsetåšè¿‡è§£é‡Šï¼Œå‰è€…ç”¨äºå®šä¹‰ç“¦ç‰‡çŸ©é˜µé›†ï¼Œåè€…ç”¨äºåœ¨ç“¦ç‰‡çŸ©é˜µé›†ä¸­æè¿°æ•°æ®çš„å®é™…èŒƒå›´ï¼ŒåŒæ—¶é™å®šç“¦ç‰‡å¯è¯·æ±‚çš„èŒƒå›´ï¼Œæ­¤ä¸¤è€…åˆ†åˆ«å¯¹åº”GWCä¸­çš„GridSetåŠGridSubsetã€‚åœ¨GWCæºå¸¦BBoxçš„ç“¦ç‰‡æ¸…ç†ç­–ç•¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šè·å–å¯¹åº”TileLayerçš„GridSubsetï¼Œå¹¶ä¸ç»™å®šçš„BBoxè®¡ç®—ç›¸äº¤èŒƒå›´ï¼Œè€Œåå°±å¯ä»¥ç²¾ç¡®çš„ç¡®å®šå“ªäº›ç“¦ç‰‡æ˜¯éœ€è¦è¢«æ¸…ç†çš„äº†ã€‚å¯¹äºGACæ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¦‚TileLayerçš„æ¦‚å¿µï¼Œä¹Ÿæ— æ³•ä¸æºç«¯æˆ–å›¾å±‚ï¼ˆFeatureLayerï¼‰è¿›è¡Œç›´æ¥é“¾æ¥ï¼Œæ‰€ä»¥æ˜¯æ— æ³•è·å–åˆ°å›¾å±‚æ‰€æŒæœ‰çš„TileMatrixSubsetå¯¹è±¡ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚\nå½“ç„¶ï¼Œå¹¶ä¸æ˜¯è¯´æ²¡æœ‰TileMatrixSubsetå¯¹è±¡å°±æ— æ³•è¿›è¡Œç“¦ç‰‡ç¼“å­˜çš„æ¸…ç†äº†ã€‚å°±æ‹¿æˆ‘ä»¬å®é™…åº”ç”¨ä¸­å¤§éƒ¨åˆ†åœºæ™¯æ¥è¯´ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨åŸºäºWebå¢¨å¡æ‰˜æˆ–CGCS2000ç»çº¬åº¦ç­‰é—´éš”ç›´æŠ•çš„ç“¦ç‰‡çŸ©é˜µé›†ä½œä¸ºTileMatrixSetï¼Œç”¨æ•°æ®çš„å®é™…èŒƒå›´æ„å»ºTileMatrixSubsetã€‚æ­¤æ—¶å¯è®¤ä¸ºå‰è€…ä¸ºå…¨çƒèŒƒå›´ï¼Œåè€…ä¸ºå±€éƒ¨èŒƒå›´ã€‚ä½†æ— è®ºä¸å…¨çƒèŒƒå›´è¿˜æ˜¯å±€éƒ¨èŒƒå›´è¿›è¡Œç›¸äº¤è®¡ç®—ï¼Œå…¶æœ€ç»ˆè®¡ç®—ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ã€‚åªä¸è¿‡ç›´è§‰å‘Šè¯‰æˆ‘ï¼Œä½¿ç”¨å±€éƒ¨èŒƒå›´è®¡ç®—åº”è¯¥ä¼šæ›´å¿«ä¸€äº› ä¹Ÿæœªå¯çŸ¥å•Š ğŸ¤”ï¼ˆæˆ‘æ²¡æœ‰æ•°æ®æ”¯æŒï¼Œçº¯å±çå’§å’§ ğŸ˜›ï¼‰ï¼Œæ‰€ä»¥ç»§ç»­ç•™ä¸‹TileMatrixSubsetçš„æ‹“å±•ç‚¹ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒGACæ˜¯æ— æ³•è·å–åˆ°å›¾å±‚çš„TileMatrixSubsetå¯¹è±¡çš„ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨TileMatrixSetå¯¹åº”çš„èŒƒå›´è¿›è¡ŒTileMatrixSubsetçš„æ„å»ºã€‚å¯èƒ½ä½ ä¼šé—®ï¼Œæ—¢ç„¶å¯ä»¥åœ¨å…¨å±€è·å–åˆ°TileMatrixSetå¯¹è±¡ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå°±ä¸èƒ½å¦‚æ­¤å¤„ç†TileMatrixSubsetå¯¹è±¡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºTileMatrixSetæ˜¯å¼ºåˆ¶éœ€è¦æœ‰çš„ï¼Œè€Œä¸”Geo Atlasä¸­çš„TileMatrixSetå¹¶ä¸ä¸å›¾å±‚ç»‘å®šï¼Œå£°æ˜å³æ”¯æŒï¼›è€ŒTileMatrixSubsetæ˜¯å¯é€‰çš„ï¼Œä¸”æ˜¯ç‰¹å®šäºå›¾å±‚çš„ï¼Œæ‰€ä»¥æ— æ³•å¦‚æ­¤è®¾ç½®ã€‚\npublic abstract class AbstractTileSeedService implements TileSeedService{ private TileBreeder breeder; public AbstractTileSeedService(TileBreeder breeder) { this.breeder = breeder; } public void doSeed(SeedRequest request) throws GeoAtlasCacheException { TileMatrixSet matrixSet = TileMatrixSetContext.getTileMatrixSet(request.getMatrixSetId()); if (matrixSet == null) { throw new GeoAtlasCacheException(\u0026#34;TileMatrixSet not found\u0026#34;); } breeder.seed(request, getSubset(request, matrixSet)); } /** * å¿…é¡»å®ç°è·å–subsetçš„æ–¹æ³• * @param request * @param matrixSet * @return */ protected abstract TileMatrixSubset getSubset(SeedRequest request, TileMatrixSet matrixSet) throws GeoAtlasCacheException; } public class DefaultTileSeedService extends AbstractTileSeedService{ public DefaultTileSeedService(TileBreeder breeder) { super(breeder); } @Override protected TileMatrixSubset getSubset(SeedRequest request, TileMatrixSet matrixSet) throws GeoAtlasCacheException { // ç”±äºç›®å‰å¹¶ä¸å­˜åœ¨å¦‚Tile Layerçš„æ¦‚å¿µ, æ‰€ä»¥åœ¨Cacheæ¨¡å—é‡Œé¢æ— æ³•è·å–åˆ°FeatureLayerçš„TileMatrixSubset, æ‰€ä»¥è¿™é‡Œç›´æ¥è¿”å›null, // é‚£ä¹ˆå°†ä¼šä½¿ç”¨ requestä¸­ç»™å®šçš„matrixSetId æ¥åˆ›å»º TileMatrixSubset(ä¹Ÿå°±æ˜¯æ˜¯ä¸€ä¸ªèŒƒå›´ä¸TileMatrixSetç›¸åŒçš„TileMatrixSubset) // ç»§æ‰¿æ–¹å¯ä»¥è‡ªè¡Œå®ç°è¯¥æ¥å£, ä»è€Œæ³¨å…¥FeatureLayerçš„TileMatrixSubset return null; } } å¿«é€Ÿé›†æˆ æ­¤å¤„åŸºäºSpring Bootçš„AutoConfigurationç‰¹æ€§å¯¹å¤–æä¾›å¿«é€Ÿé›†æˆèƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯è¯´GACæ˜¯å…·å¤‡è‡ªåŠ¨è£…é…åŠŸèƒ½çš„ã€‚è¿™é‡Œå°†éœ€è¦è¢«è‡ªåŠ¨è£…é…çš„å†…å®¹å°è£…åˆ°ä¸€å—ï¼Œå‘½åä¸ºGeoAtlasCacheAutoConfigurationï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°spring.factoriesé…ç½®æ–‡ä»¶ä¸­ã€‚\n@ConditionalOnProperty(value = \u0026#34;geo-atlas.cache.enabled\u0026#34;, havingValue = \u0026#34;true\u0026#34;, matchIfMissing = true) @Import(StorageBrokerRegister.class) public class GeoAtlasCacheAutoConfiguration { @Bean @ConditionalOnMissingBean(value = SeederThreadPoolExecutor.class) public SeederThreadPoolExecutor seederThreadPoolExecutor() { return new SeederThreadPoolExecutor(16, 32); } @Bean @ConditionalOnMissingBean(value = TileSource.class) public TileSource tileSource() { return new DefaultTileSource(); } @Bean @ConditionalOnMissingBean(value = TileBreeder.class) public TileBreeder tileBreeder(StorageBroker storageBroker, TileSource tileSource, SeederThreadPoolExecutor stpe) { return new TileBreeder(tileSource, storageBroker, stpe); } @Bean @ConditionalOnMissingBean(value = TileSeedService.class) public TileSeedService tileSeedService(TileBreeder tileBreeder){ return new DefaultTileSeedService(tileBreeder); } @Bean @ConditionalOnMissingBean(value = TileSeedEndpoint.class) public TileSeedEndpoint tileSeedEndpoint(TileSeedService tileSeedService) { return new TileSeedEndpoint(tileSeedService); } } ğŸ’¡ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œæ­¤å¤„æ‰€è¿°çš„è‡ªåŠ¨è£…é…ï¼Œä»…ä»…åªèƒ½å®Œæˆç¼“å­˜æ¨¡å—çš„è£…é…ï¼Œå¹¶æš´éœ²å‡ºå…¨å±€å”¯ä¸€çš„BlobStoreä»£ç†å¯¹è±¡ï¼šStorageBrokerï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®Œæˆä¸å›¾å±‚æˆ–æºç«¯çš„é“¾æ¥ï¼Œéœ€è¦æ¥å…¥æ–¹è‡ªè¡Œå¤„ç†ã€‚å¯¹äºGACçš„æ¥å…¥ç¤ºä¾‹ï¼Œå¯å‚è€ƒé™„å½•éƒ¨åˆ†ã€‚\nå°ç»“ GACï¼Œå³Geo Atlas Cacheï¼Œè‡ªæ­¤å·²å…¨éƒ¨å®Œæˆã€‚é€šè¿‡GACå¼€å‘ï¼Œå¯¹äºGWCï¼ˆGeoWebCacheï¼‰çš„ç†è§£åˆå¤šäº†ä¸€äº›ğŸ«£ã€‚\näº‹åŠ¡çš„äº§ç”Ÿå¿…æœ‰å…¶åŸå› ä¸å…¶ä½¿å‘½ï¼Œå³è¦è§£å†³çš„é—®é¢˜ï¼ŒåŒæ—¶è¿˜ä¼šå—äº§ç”Ÿé˜¶æ®µçš„ç¯å¢ƒå½±å“ã€‚GACä¹‹æ‰€ä»¥å‡ºç°æ˜¯å› ä¸ºéœ€è¦æ„å»ºGeo Atlasçš„ç”Ÿæ€ï¼ŒåŒæ—¶å¸Œæœ›å¯ä»¥ä¿æŒç¼“å­˜æ¨¡å—çš„çº¯ç²¹æ€§å’Œæ˜“ç”¨æ€§ï¼Œä¸”å¯ä»¥å¿«é€Ÿè¿›è¡Œé›†æˆï¼Œä»¥ä¾¿æŠ•å…¥é¡¹ç›®å¼€å‘ä¸­ã€‚å—åˆ¶äºä¸ªäººç»å†ä¸çœ¼ç•Œçš„å½±å“ï¼ŒGACã€Geo Atlaså¹¶æ²¡æœ‰è¾¾æˆå…¶ç†æƒ³çš„çŠ¶æ€ï¼Œè™½ä¸å½±å“æ­£å¸¸çš„ä½¿ç”¨ã€‚ï¼ˆè¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªæ‚–è®ºï¼Œäººæ˜¯å¤æ‚çš„ï¼Œæˆ–è®¸æ˜¯å†¥å†¥ä¹‹ä¸­æœ‰äººå‘Šè¯‰æˆ‘ï¼Œè®©æˆ‘æœ‰äº†æ­¤æ®µæè¿°ä¹Ÿæœªå¯çŸ¥å•Š ğŸ˜‘ï¼‰\næˆ‘æ„¿é›†ä¼—å®¶ä¹‹æ‰€é•¿ï¼Œå¡‘äºGeo Atlasã€‚æœŸå¾…ä½ çš„è¿›æ­¥ï¼ŒåŠ æ²¹ï¼\nğŸ’¡ psï¼šæ›´å¤šå®ç°æƒ…å†µï¼Œè¯·å‚è§GACæºç ï¼šGeo Atlas Cache@Github\nå‚è€ƒ JavaäºŒçº§é«˜é€Ÿç¼“å­˜æ¶æ„è®¾è®¡_ç¼“å­˜_å…ƒå¹´æŠ€æœ¯æ´å¯Ÿ_InfoQå†™ä½œç¤¾åŒº\nå¤šçº§ç¼“å­˜ æ¶æ„è®¾è®¡ - ç–¯ç‹‚åˆ›å®¢åœˆ - åšå®¢å›­\nå¾®æœåŠ¡æ¶æ„ä¸­çš„å¤šçº§ç¼“å­˜è®¾è®¡è¿˜æœ‰äººä¸æ‡‚ï¼Ÿ\nå½»åº•å¼„æ‡‚æµè§ˆå™¨ç¼“å­˜ç­–ç•¥\nMBTiles ä¸ SMTiles æ ¼å¼çš„åœ°å›¾ç“¦ç‰‡\nBlobStores â€” GeoServer 2.26.x User Manual\nGeoWebCache Metatiles\né™„å½• GACçš„é›†æˆç¤ºä¾‹ æˆ‘åœ¨ogc-apiæ¨¡å—ä¸­é›†æˆäº†tile-cacheï¼ˆå³GACï¼‰ï¼Œä¸‹é¢å¯¹æœ¬æ¬¡é›†æˆåšç®€è¦æè¿°ï¼š\nç¬¬ä¸€è¦ç´ ï¼Œä¾èµ–\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.geo-atlas.component\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tile-cache\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${revision}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; å®ç°æºç«¯ï¼ˆData Sourceï¼‰äºGACçš„é“¾æ¥ \u0026amp; å®ç°TileSourceæ‹“å±•\n@Component public class DefaultTileGenerator extends AbstractTileSource implements GeoAtlasTileGenerator { private final FeatureSourceHelper featureSourceHelper; private String lockProvider; private transient LockProvider lockProviderInstance; private static final Logger log = LoggerFactory.getLogger(DefaultTileGenerator.class); public DefaultTileGenerator(FeatureSourceHelper featureSourceHelper) { this.featureSourceHelper = featureSourceHelper; } public ConveyorTile generator(ConveyorTile tile) throws IOException, GeoAtlasCacheException, OutsideCoverageException { // FIXME: 2024/5/10 å¯ä»¥å†æ¬¡æ£€æŸ¥ MimeType, åœ¨åº”ç”¨å±‚é¢æ§åˆ¶MimeTypeçš„æ”¯æŒ // checkMimeType(tile); TileMatrixSet tileMatrixSet = TileMatrixSetContext.getTileMatrixSet(tile.getGridSetId()); if (tileMatrixSet == null) { throw new IllegalArgumentException(\u0026#34;TileMatrixSet not found by identifier: \u0026#34; + tile.getGridSetId()); } // FIXME: 2024/5/10 éœ€è¦åœ¨metadataä¸­ç»™featureLayeræŒ‡å®šcoverage, å¯ä»¥é€‰æ‹©ä»æ•°æ®æºè¯»å–æˆ–è€…æ˜¯è‡ªè¡Œè®¾å®š(æ›´æ¨èè‡ªè¡Œè®¾å®š, æ€§èƒ½å‹å¥½ä¸”æ›´é€šç”¨) final TileMatrixSubset gridSubset = tile.getGridSubset(); if (gridSubset == null) { throw new IllegalArgumentException(\u0026#34;Requested gridset not found: \u0026#34; + tile.getRequest().getSchema()); } final long[] gridLoc = tile.getTileIndex(); checkNotNull(gridLoc); // Final preflight check, throws OutsideCoverageException if necessary gridSubset.checkCoverage(gridLoc); // FIXME: 2024/5/10 æš‚æ—¶ä¸å¯¹meta tilesåšæ”¯æŒ int metaX; int metaY; if (tile.getMimeType().supportsTiling()) { metaX = getMetaTilingFactors()[0]; metaY = getMetaTilingFactors()[1]; } else { metaX = metaY = 1; } ConveyorTile tileResponse; if (tile.getStorageBroker() == null) { tileResponse = getNonCachedTile(tile); }else { tileResponse = getTileResponse(tile, true, true, metaX, metaY); } // sendTileRequestedEvent(returnTile); return tileResponse; } public ConveyorTile getNonCachedTile(ConveyorTile tile) throws GeoAtlasCacheException { try { return getTileResponse(tile, false, false, 1, 1); } catch (IOException e) { throw new GeoAtlasCacheException(e); } } @Override public void seedTile(ConveyorTile tile, boolean tryCache) throws GeoAtlasCacheException, IOException { // Ignore a seed call on a tile that\u0026#39;s outside the cached grid levels range // å¿½ç•¥ç¼“å­˜ç½‘æ ¼çº§åˆ«èŒƒå›´ä¹‹å¤–çš„å›¾å—ä¸Šçš„ç§å­è°ƒç”¨ final TileMatrixSubset subset = tile.getGridSubset(); final int zLevel = (int) tile.getTileIndex()[2]; if (!subset.shouldCacheAtZoom(zLevel)) { if (log.isDebugEnabled()) { log.debug( \u0026#34;Ignoring seed call on tile \u0026#34; + tile + \u0026#34; as it\u0026#39;s outside the cacheable zoom level range\u0026#34;); } return; } int metaX = getMetaTilingFactors()[0]; int metaY = getMetaTilingFactors()[1]; if (!tile.getMimeType().supportsTiling()) { metaX = metaY = 1; } getTileResponse(tile, tryCache, true, metaX, metaY); } protected ConveyorTile getTileResponse( ConveyorTile tile, final boolean tryCache, final boolean persistent, final int metaX, final int metaY) throws GeoAtlasCacheException, IOException { if (tryCache \u0026amp;\u0026amp; tryCacheFetch(tile)) { return finalizeTile(tile); } TileObject target = null; TileRequest request = tile.getRequest(); LockProvider.Lock lock = null; try { /* ****************** Acquire lock ******************* */ lock = getLockProvider().getLock(buildLockKey(tile)); // got the lock on the tile, try again if (tryCache \u0026amp;\u0026amp; tryCacheFetch(tile)) { log.debug(\u0026#34;--\u0026gt; {} returns cache hit for {}\u0026#34;, Thread.currentThread().getName(), Arrays.toString(tile.getTileIndex())); } else { log.debug(\u0026#34;--\u0026gt; {} submitting getTile request for tile matrix location on {}\u0026#34;, Thread.currentThread().getName(), Arrays.toString(tile.getTileIndex())); long requestTime = System.currentTimeMillis(); try { FeatureSourceConveyor wrapper = featureSourceHelper.getFeatureSource(request.getNamespace(), request.getLayer()); Pyramid pyramid = findPyramid(request, wrapper.getRules()); target = pyramid.getTile(request, wrapper.getFeatureSource(), wrapper.getCrs()); // æ­¤å¤„ä¾¿å®Œæˆäº†ç“¦ç‰‡æ•°æ®å¯¹è±¡åˆ°ç“¦ç‰‡ç¼“å­˜çš„è½¬æ¢ transferTile(target, tile, requestTime, persistent); }catch (Exception e) { Throwables.throwIfInstanceOf(e, GeoAtlasCacheException.class); throw new GeoAtlasCacheException(\u0026#34;Problem communicating with GeoAtlas TileAPI\u0026#34;, e); } } } finally { if (lock != null) { lock.release(); } } return finalizeTile(tile); } ... } å®ç°TileMatrixSubsetæ‹“å±•\n@Component @ConditionalOnBean(TileBreeder.class) public class SimpleTileSeedService extends AbstractTileSeedService { private final FeatureTileMatrixSubsetContext subsetContext; private final FeatureSourceHelper featureSourceHelper; public SimpleTileSeedService(TileBreeder breeder, FeatureTileMatrixSubsetContext subsetContext, FeatureSourceHelper featureSourceHelper) { super(breeder); this.subsetContext = subsetContext; this.featureSourceHelper = featureSourceHelper; } @Override protected TileMatrixSubset getSubset(SeedRequest request, TileMatrixSet matrixSet) throws GeoAtlasCacheException { NamespaceInfo namespaceInfo = featureSourceHelper.getNamespaceInfo(request.getNamespace()); if (namespaceInfo == null) { throw new GeoAtlasCacheException(\u0026#34;namespace not found\u0026#34;); } FeatureLayerInfo featureLayerInfo = featureSourceHelper.getFeatureLayerInfo(request.getNamespace(), request.getLayerName(), namespaceInfo); if (featureLayerInfo == null){ throw new GeoAtlasCacheException(\u0026#34;layer not found\u0026#34;); } return subsetContext.getTileMatrixSubset(featureLayerInfo, matrixSet); } } ç¼“å­˜é…ç½®ï¼ˆæ­¤é…ç½®æ¥è‡ªäºï¼šgeoatlas-tile-instanceï¼‰ï¼Œå¹¶æœªå±•ç¤ºå‡ºå…¨éƒ¨é…ç½®å†…å®¹\ngeo-atlas: cache: enabled: true inner-caching-enabled: true persistence-enabled: true # é»˜è®¤æ˜¯file-system inner: storage: eviction-policy: EXPIRE_AFTER_ACCESS memory-limit: 256 persistence: storage: base-directory: ${PERSISTENCE_CACHE_DIR:/tmp/gac} ","permalink":"https://fuyi-atlas.github.io/posts/gis/what-is-gac/","summary":"å‰è¨€ ç“¦ç‰‡ç¼“å­˜ç»„ä»¶æ˜¯ç»å¤§éƒ¨åˆ†ç“¦ç‰‡æœåŠ¡æ‰€åº”è¯¥æœ‰çš„æ¨¡å—ä¹‹ä¸€ï¼Œè€ŒGeo AtlasåŒæ ·å®ç°äº†å…¶ç“¦ç‰‡ç¼“å­˜æ¨¡å—ã€‚æœ¬æ–‡ç”¨äºæè¿°Geo Atlasä¸­çš„Cacheæ¨¡å—çš„è®¾è®¡ä¸å®ç°è¿‡ç¨‹ã€‚\nä»€ä¹ˆæ˜¯GACï¼Ÿ GACï¼Œå…¨ç§°æ˜¯Geo Atlas Cacheï¼Œæ˜¯Geo Atlasç±»åº“ä¸­çš„Cacheæ¨¡å—ï¼Œç”¨äºæä¾›çŸ¢é‡ç“¦ç‰‡çš„ç¼“å­˜åŠŸèƒ½ã€‚GACæºè‡ªGWCï¼ˆGeoWebCacheï¼‰ï¼Œæ˜¯åœ¨GWCçš„åŸºç¡€ä¸Šè¿›è¡Œäº†é€‚åº”æ€§çš„è°ƒæ•´è€Œæ¥ã€‚ç›®å‰æ”¯æŒåŸºäºå†…å­˜ã€æ–‡ä»¶ç³»ç»Ÿä¸¤ç§ç¼“å­˜æ–¹å¼ï¼Œä¸”æ­¤ä¸¤ç§ç¼“å­˜æ–¹å¼å¯ä»»æ„ç»„åˆã€‚å¯¹äºç“¦ç‰‡ç¼“å­˜å¤„ç†ç­–ç•¥ï¼Œç›®å‰æ”¯æŒSeedã€Reseedã€Truncateä¸‰ç§ï¼Œä¸GWCä¿æŒä¸€è‡´ã€‚\nGACçš„åŸºæœ¬ç†å¿µ GWCä¸­å£°æ˜å¹¶å¼ºè°ƒTileLayerçš„æ¦‚å¿µï¼Œå¹¶åŸºäºæ­¤æŠ½è±¡ï¼Œç”¨ä»¥é€‚é…æ•°æ®æ¥æºä¸ç“¦ç‰‡å­˜å‚¨ï¼ˆç¼“å­˜ï¼‰ã€‚ä¹Ÿå°±å¦‚åŒGeoServerä¸­ï¼Œä¸€ä¸ªå›¾å±‚å¦‚æœéœ€è¦æ‹¥æœ‰ç¼“å­˜èƒ½åŠ›ï¼Œé‚£ä¹ˆè¿˜éœ€è¦åˆ›å»ºä¸€ä¸ªTileLayerï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ‹¥æœ‰ç¼“å­˜çš„å›¾å±‚ï¼Œå°†ä¼šåŒæ—¶æŒæœ‰ä¸¤ä¸ªLayerï¼Œä¸€ä¸ªæ˜¯ Map Layerï¼ˆFeatureTypeï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯TileLayerã€‚ TileLayerä¸­è¿›è¡Œç“¦ç‰‡å­˜å‚¨ç›¸å…³å†…å®¹çš„é…ç½®ï¼Œå¯ä»¥éšæ„é…ç½®å­˜å‚¨å®¹å™¨å¯¹è±¡ï¼ˆæ–‡ä»¶ç³»ç»Ÿã€å¯¹è±¡å­˜å‚¨ã€æ•°æ®åº“ç­‰ï¼‰ã€‚\nè€Œç›®å‰Geo Atlas Cacheçš„å®ç°åˆ™å°†å¤§å¤§ç®€åŒ–è¿™ä¸€æ“ä½œï¼Œæ²¡æœ‰TileLayerå¯¹è±¡ï¼Œå…¨å±€å…±ç”¨åŒä¸€ä¸ªå­˜å‚¨å®¹å™¨å¯¹è±¡ï¼Œæ— éœ€ç¹ççš„å­˜å‚¨é…ç½®ï¼Œé€šè¿‡è‡ªåŠ¨è£…é…å¿«é€Ÿå¯ç”¨ç¼“å­˜ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸­å°é¡¹ç›®ä¸­æ‰€éœ€è¦çš„ã€‚\nç›®å‰å¯¹äºç“¦ç‰‡ç¼“å­˜ï¼ˆTile Cacheï¼‰çš„æ¸…ç†ï¼Œä¹Ÿå°±æ˜¯åŒGWCä¸­æä¾›çš„Seedã€Reseedã€Truncateä¸€èˆ¬ã€‚Truncateåªéœ€æŒæœ‰BlobStoreçš„å¥æŸ„å³å¯å®Œæˆï¼Œä½†Seedå’ŒReseedåˆ™éœ€å‰å¾€æ•°æ®çš„æºç«¯è·å–ç“¦ç‰‡ï¼Œè¿›è€Œæ‰å¯å®Œæˆæ“ä½œï¼Œä¹Ÿå°±æ˜¯éœ€è¦æŒæœ‰è·å–æºç«¯ç“¦ç‰‡Generateçš„å¥æŸ„æ‰å¯ã€‚æˆ–è®¸è¿™å°±æ˜¯ä¸ºä»€ä¹ˆGWCä¸­æå‡ºTileLayerçš„åŸå› ä¹‹ä¸€ä¹Ÿæœªå¯çŸ¥ ğŸ˜®ã€‚ ä¸è¿‡ï¼Œæˆ‘å´ç”±æ­¤è®¤ä¸ºGWCçš„è¾¹ç•Œä¸æ¸…æ™°ï¼Œæˆ‘è®¤ä¸ºç¼“å­˜å°±åšç¼“å­˜çš„äº‹æƒ…å°±å¯ä»¥äº†ï¼Œåº”å½“æŠŠLayerã€TileMatrixSetï¼ˆGridSetï¼‰å’ŒCacheåˆ†å¼€ã€‚ä½†å¦‚æ­¤ï¼Œè‹¥æƒ³è¦æ”¯æŒSeedå’ŒReseedè¿™ä¸¤ç§ç»™ç­–ç•¥çš„è¯ï¼Œè‡³å°‘éœ€è¦æä¾›ä¸€ä¸ªæ‹“å±•ç‚¹æ‰å¯ã€‚æˆ‘åœ¨æ­¤å°†å…¶å‘½åä¸ºTileSourceï¼Œæ˜¯ä¸ºCacheä¸Sourceï¼ˆæºç«¯ç“¦ç‰‡ï¼‰ä¹‹é—´çš„é€‚é…ç»„ä»¶ã€‚å…¶å®ï¼Œè¿™ä¸ä¹Ÿæ˜¯ä¸€ç§ç­‰åŒTileLayerçš„å­˜åœ¨ï¼Œä½†æˆ‘å¹¶ä¸é€šè¿‡Layeræ¥è¿›è¡Œå…³è”æ§åˆ¶ï¼Œä¹Ÿæ²¡æœ‰TileLayerçš„æ¦‚å¿µï¼Œç¼“å­˜å°±æ˜¯ç¼“å­˜ã€‚\nGACçš„è®¾è®¡ä¸å®ç° å› ä¸ºGeoServeræ²‰é‡çš„å†å²åŒ…è¢±ä»¥åŠå¤§è€Œå…¨çš„è‡ƒè‚¿ï¼Œæ‰€ä»¥æœ‰äº†Geo Atlasé¡¹ç›®ã€‚GACä¹Ÿå°†å»¶ç»­æ­¤ç†å¿µï¼Œå»é™¤Cacheç‰¹å®šäºLayerçš„æ¦‚å¿µï¼Œæ— éœ€ä¸ºå›¾å±‚å•ç‹¬é…ç½®ç¼“å­˜ï¼Œå› ä¸ºç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ä½¿ç”¨ç›¸åŒçš„ç¼“å­˜é…ç½®ã€‚åŒæ—¶ï¼Œä»–åº”è¯¥æ˜¯å¯ä»¥è¢«å¿«é€Ÿé›†æˆï¼Œä¸”æ˜“äºé…ç½®çš„ã€‚ä¸ºäº†æå‡ç¼“å­˜ç»„ä»¶çš„æ˜“ç”¨æ€§ã€å…¼å®¹æ€§åŠç¨³å®šæ€§ï¼Œè‡³å°‘åº”è¯¥æä¾›ä¸¤ç§ä¸åŒçš„ç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œä¸”å…¶ä¸­ä¸€ç§åº”è¯¥æ˜¯åŸºäºå†…å­˜çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯æ”¯æŒæŒä¹…åŒ–çš„ã€‚å½“æ•°æ®é‡å¾ˆå°‘æ—¶ï¼Œå¯ä»¥å…³é—­ç¼“å­˜æˆ–ä»…å¼€å¯å†…å­˜ç¼“å­˜ï¼›å½“æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œå¯ä»¥ä»…å¼€å¯æŒä¹…åŒ–ç¼“å­˜æˆ–åŒæ—¶å¼€å¯å†…å­˜ç¼“å­˜ã€‚å†…å­˜ç¼“å­˜ä¸å¯æŒä¹…åŒ–ç¼“å­˜å¯è‡ªç”±æ­é…ï¼Œä»»æ„ç»„åˆã€‚å½“ä¸¤è€…å…¨å¼€å¯æ—¶ï¼Œå¯å½¢æˆä¸¤çº§ç¼“å­˜ï¼Œæ­¤æ—¶éœ€æ³¨æ„ä¸¤çº§ç¼“å­˜é—´æ•°æ®çš„åŒæ­¥ã€‚\nGACçš„éœ€æ±‚ä¸è®¾è®¡ æ¥ä¸‹æ¥ï¼Œå†æ¬¡ç¡®å®šä¸€ä¸‹GACçš„éœ€æ±‚ï¼š\næ”¯æŒçŸ¢é‡ç“¦ç‰‡ç¼“å­˜ æä¾›ä¸¤ç±»ç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œå…¶ä¸­ä¸€ç§åº”è¯¥æ˜¯åŸºäºå†…å­˜çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯æ”¯æŒæŒä¹…åŒ–çš„ï¼Œä¸”ä¸¤è€…å¯ä»»æ„ç»„åˆï¼ŒåŒæ—¶å¼€å¯å¯å½¢æˆäºŒçº§ç¼“å­˜ç»“æ„ æä¾›Seedã€Reseedã€Truncateæ­¤ä¸‰ç§ç“¦ç‰‡ç¼“å­˜æ¸…ç†ç­–ç•¥ å…¨å±€å…±ç”¨åŒä¸€ä¸ªç¼“å­˜å­˜å‚¨å¯¹è±¡ï¼Œæä¾›å¿«é€Ÿé›†æˆèƒ½åŠ› å…¶ä¸­ï¼ŒäºŒçº§ç¼“å­˜æ˜¯æ­¤å‰æ²¡æœ‰æ¥è§¦è¿‡çš„å†…å®¹ã€‚ç»“åˆè‡ªæˆ‘è‡†æƒ³ï¼Œç»™å‡ºäº†å¦‚ä¸‹è®¾æƒ³ ğŸ«£ï¼š\næ­¤äºŒçº§ç¼“å­˜ï¼Œå¯è‡ªè¡Œç¡®å®šç»„åˆæ–¹å¼ï¼Œå¹¶ééœ€è¦ä¸¤è€…åŒæ—¶å¼€å¯ã€‚éš¾ç‚¹ï¼šçŠ¶æ€åŒæ­¥ï¼ˆæ•°æ®ä¸€è‡´æ€§ï¼‰\nä¸€çº§ç¼“å­˜ï¼ˆåŸºäºå†…å­˜ï¼‰ï¼š Local Mem Cache + LRU Guava Caffeine äºŒçº§ç¼“å­˜ï¼ˆå¯æŒä¹…åŒ–ï¼‰ï¼šOuter Cache Redis File System Database GeoPackage æ¯ä¸€ä¸ªLevelä¸€ä¸ªgpkgæ–‡ä»¶ï¼Œæå‡å¹¶å‘è¯»å†™èƒ½åŠ›ï¼ˆæ”¯æŒé…ç½®ä¸ºæ‰€æœ‰Levelç”¨ä¸€ä¸ªgpkgï¼Œä½†æ˜¯ä¸æ¨èï¼‰ PostGIS ä¸è¿‡ï¼Œåœ¨ç»è¿‡ä¸€ç•ªè°ƒç ”ä¹‹åï¼Œè¿˜æ˜¯å†³å®šæŠ„GeoWebCacheçš„ä½œä¸š ğŸ˜§ã€‚ä¸€æ˜¯ç¡®å®æœ‰ä¸€å®šçš„éš¾åº¦ï¼ŒäºŒæ˜¯ç›®å‰æ—¶é—´æœ‰é™ï¼ŒGAPä¸­çš„æˆ‘æ—©å·²ç‘Ÿç‘Ÿå‘æŠ– ğŸ™„ã€‚æœ€é‡è¦çš„æ˜¯ï¼ŒGeoWebCacheä¸­çš„MemoryBlobStoreå·²ç»å®ç°äº†ä¸Šè¿°äºŒçº§ç¼“å­˜çš„éœ€æ±‚å‘€ ğŸ«¡ï¼Œå¦‚æ­¤æ“ä½œå¯ç›´æ¥è¦†ç›–æ‰å‰ä¸‰ä¸ªéœ€æ±‚ã€‚è€Œæ­¤æ—¶äºŒçº§ç¼“å­˜çš„å®ç°ç¡®å®šä¸ºï¼š\nåŸºäºå†…å­˜çš„ç¼“å­˜ï¼ˆGuavaï¼‰ åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œæ­¤MemoryBlobStoreäºŒçº§ç¼“å­˜æ˜¯å¯æ‹“å±•æ¶æ„ï¼Œåç»­å¯è‡ªè¡Œæ‹“å±•ä¸åŒçš„Providerã€‚\nğŸ’¡ å¯¹äºSeedä¸Reseedçš„å¤„ç†ï¼Œåˆ™ä¸GACçš„ç†å¿µä¸­æ‰€è¿°ä¸€è‡´ï¼Œé€šè¿‡TileSourceå¯¹å¤–æä¾›æ‹“å±•ã€‚ä¹Ÿå°±æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼ŒCacheæ¨¡å—åªæä¾›Seedä¸Reseedçš„å£°æ˜ï¼Œæ— æ³•æä¾›å…·ä½“å®ç°ï¼ˆæ— æ³•ç›´æ¥ä¸Sourceè¿›è¡Œé“¾æ¥ï¼‰ã€‚\né‚£ä¹ˆæ­¤åˆ»åªå‰©ä¸‹æœ€åä¸€ä¸ªéœ€æ±‚äº†ï¼Œå…¶ä¸»æ—¨å›´ç»•å¿«é€Ÿé…ç½®ã€æ˜“ç”¨ã€‚åœ¨æ­¤åŸºäºGeoWebCacheä¸­çš„DefaultStorageBroker ç±»è¿›è¡Œç¼“å­˜å­˜å‚¨å¯¹è±¡çš„ä»£ç†ï¼Œå…¶ç¬¦åˆGWCä¸­ç¼“å­˜å­˜å‚¨å¯¹è±¡è®¾è®¡æ¶æ„ï¼Œä¹Ÿä¸ºåç»­æä¾›äº†æ›´å¤šçš„æ‹“å±•ç‚¹ï¼ŒåŒæ—¶å°†å…¶æš´éœ²ç»™å…¨å±€ï¼Œå³å…¨å±€å…±ç”¨çš„ç¼“å­˜å­˜å‚¨å¯¹è±¡ã€‚å¯¹äºå¿«é€Ÿé›†æˆèƒ½åŠ›ï¼Œæ­¤å¤„å°†ç»“åˆSpring Bootçš„AutoConfigurationç‰¹æ€§ï¼Œä¸ºGACæä¾›è‡ªåŠ¨è£…é…èƒ½åŠ›ã€‚ä¸æ­¤åŒæ—¶ï¼Œå°†ç¼“å­˜å­˜å‚¨å¯¹è±¡çš„å¯è®¾ç½®å±æ€§é€šè¿‡é…ç½®çš„æ–¹å¼æš´éœ²å‡ºæ¥ï¼Œå¯ç›´æ¥åœ¨application.ymlæˆ–application.propertiesä¸­è¿›è¡Œé…ç½®ã€‚å…·ä½“å¯é…ç½®å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š\ngeo-atlas.cache.enabled=falseï¼ˆæ˜¯å¦å¯ç”¨ç¼“å­˜ï¼Œé»˜è®¤ä¸ºfalseï¼‰ geo-atlas.cache.inner-caching-enabled=falseï¼ˆæ˜¯å¦å¯ç”¨å†…å­˜ç¼“å­˜ï¼Œé»˜è®¤ä¸ºfalseï¼‰\ngeo-atlas.cache.inner.storage.provider=guavaï¼ˆå¯é€‰å€¼ï¼šguavaï¼Œæš‚ä¸æ”¯æŒï¼Œä¿ç•™ï¼‰\ngeo-atlas.cache.inner.storage.memory-limit=16ï¼ˆå†…å­˜å¤§å°é™åˆ¶ï¼Œå•ä½MBï¼Œé»˜è®¤16ï¼‰\ngeo-atlas.cache.inner.storage.concurrency-level=4ï¼ˆç¼“å­˜å¹¶å‘çº§åˆ«çš„é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸º4ï¼‰\ngeo-atlas.cache.inner.storage.eviction-policy=nullï¼ˆç¼“å­˜é©±é€æ”¿ç­–ï¼Œå³ç¼“å­˜æ·˜æ±°ç®—æ³•ï¼Œå¯é€‰å€¼ï¼šNULLã€LRUã€LFUã€EXPIRE_AFTER_WRITEã€EXPIRE_AFTER_ACCESSï¼Œé»˜è®¤å€¼ä¸ºNULLï¼‰\nğŸ’¡ LRUã€LFUæš‚æ—¶ä¸æ”¯æŒ","title":"Geo Atlas Cacheï¼Œä¸€ä¸ªç²¾ç®€çš„GWCç»„ä»¶"},{"content":"å‰è¨€ ä¹¦æ¥ä¸Šå›ï¼Œæœ¬ç« èŠ‚ä¸ºä¸‹ç¯‡ï¼šTileMatrixSetå®ç°åŠç›¸å…³è®¡ç®—åŸç†æ¢è®¨ã€‚\næœ¬ç« èŠ‚å°†ä»¥TileMatrixSetæ¨¡å‹çš„å…¸å‹å®ç°ï¼Œå³GeoWebCacheä¸­çš„Gridsetä½œä¸ºå¼€ç«¯ï¼Œå¯¹OGCä¸­TileMatrxSetæ¨¡å‹è¿›è¡Œå°è¯ã€‚è€Œåå¯¹TileMatrixSetç›¸å…³è®¡ç®—åŸç†è¿›è¡Œæ¢è®¨ï¼Œå¹¶ä»¥CGCS2000åˆ‡ç‰‡æ–¹æ¡ˆä¸ºä¾‹è¿›è¡ŒéªŒè¯ã€‚å¦é™„å¸¦è¯´æ˜TileMatrixSetåœ¨Geo Atlasä¸­çš„å®ç°åŠåº”ç”¨ ğŸ¤¨ã€‚\nGridset \u0026amp; TileMatrixSet è¿™é‡Œå°±ä¸å†å¯¹GeoWebCacheåšä»‹ç»äº†ï¼Œç›´æ¥åˆ‡å…¥ä¸»é¢˜ã€‚GeoWebCacheä¸­çš„Gridsetæ­£æ˜¯å¯¹åº”ç€TileMatrixSetæ¨¡å‹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹GeoWebCacheå¯¹äºGridsetçš„ç›¸å…³ä»‹ç»ï¼š\nGridsets and Gridsubsets Gridsets å’Œ Gridsubsets æ˜¯æŒ‡ GeoWebCache æ‰€æœåŠ¡çš„å›¾å±‚çš„ç©ºé—´å‚è€ƒç³»ç»Ÿï¼ˆthe spatial reference systemï¼‰ã€‚ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæ­£å¦‚ Tiles ä¸­æ‰€ä»‹ç»çš„ï¼ŒGeoWebCache ä¸å‚è€ƒç³»ç»Ÿæ— å…³ã€‚å½“ GeoWebCache å‘ WMS å‘å‡ºè¯·æ±‚æ—¶ï¼Œå®ƒä½¿ç”¨ Gridsets å’Œ Gridsubsets ä¿¡æ¯å°†å…¶å†…éƒ¨åˆ‡ç‰‡ç´¢å¼•è½¬æ¢ä¸º WMS å¯ä»¥ç†è§£çš„ç©ºé—´è¯·æ±‚ã€‚\nğŸ’¡ è¯´å®è¯ï¼Œæœ‰æ—¶å€™æˆ‘è§‰å¾—è€å¤–çš„å•°å—¦è¯æŒºå¤šçš„ï¼Œå…¶å®è¿™é‡Œå°±æ˜¯è¡¨è¾¾GeoWebCacheå°±æ˜¯ä½¿ç”¨ Gridsets å’Œ Gridsubsets å°†ç“¦ç‰‡åæ ‡è½¬æ¢ä¸ºç“¦ç‰‡å¯¹åº”çš„ç©ºé—´èŒƒå›´çš„ã€‚ä»å…¶å®ç°æ¥çœ‹ï¼Œæ­¤å¤„æ‰€è¿°çš„å†…éƒ¨åˆ‡ç‰‡ç´¢å¼•æ­£æ˜¯å¯¹åº”ç€ç“¦ç‰‡åæ ‡ç³»ã€‚\nä¸‹é¢åˆ†åˆ«å¯¹ Gridset å’Œ Gridsubset çš„æ„æˆè¿›è¡Œæè¿°ï¼Œæ­¤å¤„å¼•ç”¨åŸæ–‡ï¼š\nAÂ gridsetÂ is a global definition (i.e. not layer-specific) specifying:\nå…¨å±€å®šä¹‰å³å¯¹åº”ç€é€šç”¨çš„åˆ‡ç‰‡æ–¹æ¡ˆï¼Œæ‰€ä»¥ä¸æ˜¯ç‰¹å®šäºå±‚ï¼ˆå›¾å±‚ï¼‰çš„ã€‚\nA spatial reference system (EPSG code)\nå¯¹åº”ç€æŠ•å½±åæ ‡ç³»ã€‚\nA bounding box describing the extent, typically the maximum extent for the above reference system\næè¿°èŒƒå›´çš„è¾¹ç•Œæ¡†ï¼Œé€šå¸¸æ˜¯ä¸Šè¿°å‚è€ƒç³»ç»Ÿçš„æœ€å¤§èŒƒå›´ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ è‡ªè¡Œå®šä¹‰ï¼‰\nOne of either a list of scale denominators, resolutions, or zoom levels\næ¯”ä¾‹åˆ†æ¯ã€åˆ†è¾¨ç‡æˆ–ç¼©æ”¾çº§åˆ«åˆ—è¡¨ä¹‹ä¸€ã€‚ï¼ˆå¯¹åº”ç€å°ºåº¦åˆ†çº§ï¼‰\nThe tile dimensions in pixels (constant for all zoom levels)\nä»¥åƒç´ ä¸ºå•ä½çš„ç“¦ç‰‡å°ºå¯¸ï¼ˆå¯¹äºæ‰€æœ‰ç¼©æ”¾çº§åˆ«å‡ä¿æŒä¸å˜ï¼‰ã€‚\nğŸ’¡ è¿™ä¹Ÿæ˜¯æˆ‘åœ¨å‰æ–‡è¯´çš„ï¼Œç›®å‰å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç“¦ç‰‡çš„å°ºå¯¸åŸºæœ¬éƒ½ä½¿ç”¨åƒç´ ä½œä¸ºå•ä½è¿›è¡Œæ¢ç®—ã€‚åŒæ—¶ï¼ŒOGC TileMatrixSetä¸­æå‡ºçš„æ˜¯æ¯ä¸ªç»´åº¦ï¼ˆå°ºåº¦å±‚çº§ï¼‰ä¸‹ç“¦ç‰‡å¤§å°è¦ä¸€è‡´ï¼Œä½†æ˜¯ä¸åŒç»´åº¦çš„ç“¦ç‰‡å¤§å°å¯ä»¥ä¸ä¸€è‡´ã€‚ä¸è¿‡åœ¨GeoWebCacheå®ç°ä¸­ï¼Œè¦æ±‚å…¨ç»´åº¦éƒ½ä½¿ç”¨ç›¸åŒçš„ç“¦ç‰‡å¤§å°ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿç¬¦åˆå®é™…ä¸­ç»å¤§éƒ¨åˆ†çš„ä½¿ç”¨æƒ…å†µã€‚\n(Optional)Â Pixel size (to calculate scales). The default is 0.28mm/pixel, corresponding to 90.71428571428572 DPI.\nï¼ˆå¯é€‰ï¼‰åƒç´ å¤§å°ï¼ˆç”¨äºè®¡ç®—æ¯”ä¾‹ï¼‰ã€‚é»˜è®¤ä¸º0.28mm/åƒç´ ï¼Œå¯¹åº”90.71428571428572 DPIã€‚\nğŸ’¡ è¿™é‡Œçš„Pixel Sizeå¯¹åº”ç€Cell Sizeï¼Œå…¶ä»¥ç±³ä¸ºå•ä½ã€‚ è€Œ0.28mmçš„æ¥æºï¼Œå‰æ–‡ä¹Ÿæ›¾æåˆ°ï¼šé€šå¸¸ï¼Œè®¾å¤‡çš„çœŸå®åƒç´ å°ºå¯¸æ˜¯æœªçŸ¥çš„ï¼Œ0.28 æ¯«ç±³æ˜¯ 2005 å¹´æ™®é€šæ˜¾ç¤ºå™¨çš„å®é™…åƒç´ å°ºå¯¸ã€‚å³ä½¿å½“å‰çš„æ˜¾ç¤ºè®¾å¤‡é‡‡ç”¨å°å¾—å¤šçš„åƒç´ å°ºå¯¸ï¼Œè¯¥å€¼ä»è¢«ç”¨ä½œå‚è€ƒã€‚ æ³¨ï¼šè‡ª 20 ä¸–çºª 80 å¹´ä»£ä»¥æ¥ï¼ŒMicrosoft Windows æ“ä½œç³»ç»Ÿå·²å°†å…¶é»˜è®¤çš„æ ‡å‡†æ˜¾ç¤ºæ¯è‹±å¯¸åƒç´  (PPI) è®¾ç½®ä¸º 96ã€‚è¯¥å€¼çš„ç»“æœçº¦ä¸ºæ¯åƒç´  0.264 mmã€‚è¯¥å€¼ä¸æœ¬æ ‡å‡†ä¸­é‡‡ç”¨çš„å®é™… 0.28mm çš„ç›¸ä¼¼æ€§å¯èƒ½ä¼šé€ æˆä¸€äº›æ··ä¹±ã€‚\nå¯¹äº90.71428571428572æ•°å€¼æ¥æºï¼Œå¯ç»§ç»­å¾€ä¸‹çœ‹ï¼Œåˆ‡ç‰‡åŸç†éƒ¨åˆ†ä¼šåšè§£é‡Šã€‚\nAÂ gridsubsetÂ is a layer-specific definition specifying:\ngridsubset æ˜¯ç‰¹å®šäºå›¾å±‚çš„ï¼Œè¿™æ˜¯å› ä¸ºå…¶ä»£è¡¨ç€æ•°æ®çš„çœŸå®èŒƒå›´ã€‚ï¼ˆå¯¹åº”ç€TileMatrixSet Limitsï¼‰\nğŸ’¡ ä»GeoServerçš„å®ç°ä¸­ï¼Œå›¾å±‚çš„BBoxæ˜¯åœ¨å‘å¸ƒæ—¶ä»æ•°æ®æºå¤„è·å–çš„ï¼Œè¯¥å›¾å±‚æ•°æ®çš„BBoxå³ä¸ºgridsubsetçš„è¾¹ç•ŒèŒƒå›´\nThe gridset for the layer\nå…¶å®ï¼ŒGridset å’Œ Gridsubset é€šå¸¸æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œè‹¥æœ‰å­é›†åˆ™å¿…æœ‰åŸé›†ï¼Œä½†Gridsetæ˜¯å¯ä»¥å•ç‹¬å­˜åœ¨çš„ã€‚è¿™ä¸¤æ˜¯åœ¨åŒä¸€æŠ•å½±åæ ‡ç³»ä¸‹ï¼Œç›¸åŒå°ºåº¦åˆ†çº§ä¸‹ã€ä¸åŒBBoxï¼ˆBBoxçš„å…³ç³»æ˜¯åŒ…å«ä¸è¢«åŒ…å«çš„å…³ç³»ï¼‰çš„TileMatrixSetå®ç°ï¼Œåªä¸è¿‡ Gridsubset åŸºæœ¬ä½œä¸ºè¾…åŠ©å…ƒç´ ã€‚\n(Optional)Â The bounding box for that layer (which must be a subset of the extent of the gridSet)\nï¼ˆå¯é€‰ï¼‰è¯¥å±‚çš„è¾¹ç•Œæ¡†ï¼ˆå¿…é¡»æ˜¯gridSetèŒƒå›´çš„å­é›†ï¼‰\nğŸ’¡ å¯é€‰å°±å¾ˆçµæ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ä¹Ÿå¯ä»¥å–é»˜è®¤ï¼Œä¹Ÿå°±æ˜¯å–æŠ•å½±åæ ‡ç³»çš„èŒƒå›´ã€‚\n(Optional)Â A list of zoom levels (which must be a subset of what is defined in the gridSet)\nï¼ˆå¯é€‰ï¼‰ç¼©æ”¾çº§åˆ«åˆ—è¡¨ï¼ˆå¿…é¡»æ˜¯ gridSet ä¸­å®šä¹‰çš„å­é›†ï¼‰\nğŸ’¡ æ­¤å¤„æè¿°çš„ä¸æ˜¯å¯ä»¥è‡ªå®šä¹‰å°ºåº¦åˆ†çº§ï¼Œè€Œæ˜¯åœ¨ GridSetå®šä¹‰çš„åŸºç¡€ä¸Šçš„é™å®šã€‚æ¯”å¦‚GridSetä¸­å®šä¹‰äº†0-23çº§ï¼Œé‚£ä¹ˆsubsetåªèƒ½æ˜¯0-23çš„å­é›†ï¼Œå¯ä»¥é™å®šï¼Œä½†æ˜¯ä¸å¯ä»¥å†è¡Œå®šä¹‰ã€‚\nBy default, this information is set inÂ geowebcache.xml.\nğŸ’¡ ä»ä¸Šæ–‡çš„æè¿°ä¸­ï¼Œå¹¶æ²¡æœ‰æåŠåˆ‡ç‰‡åŸç‚¹ç›¸å…³çš„å†…å®¹ã€‚ä»å…¶å®ç°å¯çŸ¥ï¼Œå…¶é»˜è®¤ä½¿ç”¨å·¦ä¸‹è§’ä½œä¸ºåˆ‡ç‰‡åŸç‚¹è¿›è¡Œå®ç°çš„ï¼Œè¿™ä¹Ÿæ˜¯OGCçš„æå€¡ã€‚é‚£ä¸ºä»€ä¹ˆä¸åœ¨æ­¤å¤„åšå‡ºæ˜ç¤ºå‘¢ï¼Ÿä¼°è®¡æ˜¯éµä»çº¦å®šå¤§äºé…ç½®åŸåˆ™ ä¹Ÿæœªå¯çŸ¥å•Šï¼ï¼ˆè£˜åƒä¸ˆè­¦å‘ŠğŸ˜‚ï¼‰\nFrom gridsets to tiles ä»¥ä¸‹æ˜¯è§£é‡Šåœ¨ç‰¹å®šç¼©æ”¾çº§åˆ«ä¸‹çš„ç½‘æ ¼é›†å’Œå­ç½‘æ ¼é›†çš„æ„å»ºè¿‡ç¨‹ï¼Œå¹¶ç¡®å®šæ­£åœ¨è¯·æ±‚ï¼ˆå¯ä»¥è¯·æ±‚ï¼‰å“ªäº›ç“¦ç‰‡ã€‚ï¼ˆè¿™å¥ç¿»è¯‘çƒ«å˜´ğŸ™„ï¼‰\nå¯¹äºä¸Šè¿°ä»‹ç»æ¥è¯´ï¼Œæˆ‘ä»¬ç°é˜¶æ®µåªéœ€è¦ç•™æ„ä»¥ä¸‹å‡ ä¸ªåœ°æ–¹å°±å¥½ï¼Œåƒæ¯”ä¾‹å’ŒèŒƒå›´è®¡ç®—å¯æš‚ä¸ç”¨å®Œå…¨ç†è§£ã€‚\nå¯¹äºGridsetï¼Œç»™å®šçš„è¾¹ç•Œä¸ä¸€å®šæ˜¯Gridsetä¸­å„æ ¼ç½‘åŸŸçš„æœ€ç»ˆè¾¹ç•Œï¼Œåº”è¯¥è¿˜éœ€è¦æ ¹æ®è§„åˆ™è¿›è¡Œè®¡ç®—ï¼Œç»™å®šçš„è¾¹ç•Œä¸ä¸€å®šå¯ä»¥æ­£å¥½é€‚åˆï¼Œæ‰€ä»¥ä¼šå­˜åœ¨æ‹“å±•çš„æƒ…å†µã€‚GridsubsetåŒç†ã€‚è¿™ä¹Ÿä¸ä¸Šæ–‡ä¸­å…³äºTileMatrixSetåŸŸéƒ¨åˆ†å¯¹åº”ï¼šæ¯ä¸ªç“¦ç‰‡çŸ©é˜µé›†éƒ½æœ‰ä¸€ä¸ªå¯é€‰çš„è¿‘ä¼¼è¾¹ç•Œæ¡†ï¼ˆå³BBoxï¼Œä¹‹æ‰€ä»¥è¿‘ä¼¼åº”æ˜¯å› ä¸ºä¸€èˆ¬å–æ˜¯æœ€å°å¤–æ¥çŸ©å½¢MBR â†’Minimum Bounding Rectangleï¼Œå¹¶éå®Œå…¨ä¸€è‡´ã€‚MaybeğŸ¤”ï¼‰ï¼Œä½†æ¯ä¸ªç“¦ç‰‡çŸ©é˜µéƒ½æœ‰ä¸€ä¸ªç²¾ç¡®çš„è¾¹ç•Œæ¡†ï¼Œè¯¥è¾¹ç•Œæ¡†æ˜¯ä»å…¶ä»–å‚æ•°é—´æ¥æ¨å¯¼å‡ºæ¥çš„ã€‚ç”±äºå•å…ƒæ ¼å¯¹é½æ–¹å¼ä¸åŒï¼Œæ¯ä¸ªæ¯”ä¾‹ä¸‹çš„ç“¦ç‰‡çŸ©é˜µè¾¹ç•Œæ¡†é€šå¸¸ä¼šç•¥æœ‰ä¸åŒï¼ˆæ¯”å¦‚4490ç»çº¬åº¦æŠ•å½±çš„0çº§å’Œ1çº§çš„è¾¹ç•Œæ¡†å°±ä¸åŒï¼‰ã€‚\nä¸Šè¿°å†…å®¹æåˆ°ï¼Œé»˜è®¤æ˜¯å°†è¾¹ç•Œæ¡†å¯¹é½åˆ°å·¦ä¸‹è§’ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯ä½¿ç”¨å·¦ä¸‹è§’ä½œä¸ºåˆ‡ç‰‡åŸç‚¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è¿›è¡Œè®¾ç½®æ˜¯å¦ä¸å³ä¸Šè§’å¯¹å…¶ã€‚\næ³¨ï¼šæ­¤ä¸ºGeoWebCacheçš„é»˜è®¤é…ç½®ï¼ˆå·¦ä¸‹è§’ï¼‰ã€‚ åˆ‡ç‰‡åŸç‚¹ä¸åŒï¼Œé‚£ä¹ˆç“¦ç‰‡åæ ‡ä¹Ÿä¸åŒï¼Œä½†æ˜¯å¯ä»¥è¿›è¡Œç›¸äº’è½¬æ¢ã€‚\nGridsubsetå°±æ˜¯é™åˆ¶ï¼Œåªæœ‰å¤„äºGridsubsetèŒƒå›´å†…çš„åˆ‡ç‰‡ï¼Œæ‰å…è®¸è¢«è®¿é—®\nğŸ’¡ å¯¹äºä¸Šè¿°å†…å®¹ä¸­ç»™å‡ºçš„Gridsetçš„BBoxä¸Gridsubsetçš„BBoxçš„æ•°å€¼å¯ä¸ç”¨è¿‡å¤šç†ä¼šï¼Œåªè¦æ˜ç™½å›¾ç¤ºè¡¨è¾¾çš„æ„æ€å°±è¡Œã€‚\nGridset å®ç° è¿™é‡Œåªè´´GridSetå’ŒGridçš„å±æ€§éƒ¨åˆ†ä»£ç \nGridSet public class GridSet implements Info { private String name; private SRS srs; // ç“¦ç‰‡å®½åº¦ï¼Œä¸€èˆ¬ä¸º256ï¼Œåƒç´ å•ä½ private int tileWidth; // ç“¦ç‰‡é«˜åº¦ï¼Œä¸€èˆ¬ä¸º256ï¼Œåƒç´ å•ä½ private int tileHeight; /** * Whether the y-coordinate of {@link #tileOrigin()} is at the top (true) or at the bottom * (false) */ protected boolean yBaseToggle = false; /** * By default the coordinates are {x,y}, this flag reverses the output for WMTS getcapabilities */ private boolean yCoordinateFirst = false; private boolean scaleWarning = false; private double metersPerUnit; private double pixelSize; // é™å®šçš„æ ¼ç½‘è¾¹ç•Œ private BoundingBox originalExtent; private Grid[] gridLevels; private String description; /** * {@code true} if the resolutions are preserved and the scaleDenominators calculated, {@code * false} if the resolutions are calculated based on the sacale denominators. */ private boolean resolutionsPreserved; } Grid public class Grid implements Serializable, Cloneable { private static final long serialVersionUID = 1L; // çŸ©é˜µå®½åº¦ï¼Œå³æ¨ªå‘çš„ç“¦ç‰‡æ•°é‡ private long numTilesWide; // çŸ©é˜µé«˜åº¦ï¼Œå³çºµå‘çš„ç“¦ç‰‡æ•°é‡ private long numTilesHigh; // åˆ†è¾¨ç‡ private double resolution; // æ¯”ä¾‹åˆ†æ¯ private double scaleDenom; private String name; } å¯¹æ¯”OGC TileMatrixSet UML Modelå¯ä»¥å‘ç°ï¼ŒGridSetå¹¶éå®Œå…¨éµå¾ªOGCçš„æ ‡å‡†å®ç°ï¼Œå¯ä»¥åœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€å®šçš„ä¿®æ”¹ã€‚å½“ç„¶ï¼Œè¿™å’Œæˆ‘ç›®å‰çœ‹çš„TileMatrixSetæ ‡å‡†çš„ç‰ˆæœ¬ä¹Ÿæœ‰å…³ç³»ï¼ˆæ¯”å¦‚è¯´ï¼šcornerOfOriginï¼‰ã€‚\nGridSetä¸­è¦æ±‚æ‰€æœ‰å±‚çº§çš„ç“¦ç‰‡å°ºå¯¸å¤§å°ä¸å˜ï¼Œæ‰€ä»¥å°†Gridä¸­çš„tileWidthã€tileHeightã€pixelSizeæå‡åˆ°GridSetä¸­å®šä¹‰ã€‚ å‘½ååŸºæœ¬ä¸ä¸€è‡´ éƒ¨åˆ†ç®€åŒ–ï¼Œåˆåšäº†ä¸€å®šæ‹“å±•ã€‚æ¯”å¦‚CRS å˜æ›´ä¸ºSRSï¼Œä½†æ˜¯å…¼å®¹åˆ«åè®¿é—®ï¼ˆ3857ï¼Œ900913ï¼‰ï¼›æ¯”å¦‚åŒæ—¶æ”¯æŒæ¯”ä¾‹åˆ†æ¯å’Œåˆ†è¾¨ç‡æ¥è¿›è¡Œå°ºåº¦åˆ†çº§å®šä¹‰ï¼Œä¸¤è€…å¯ä»¥ç›¸äº’è½¬æ¢ã€‚ ğŸ’¡ å…¶å®ï¼Œæˆ‘ä¹Ÿè§‰å¾—æ ‡å‡†ç»™å¾—ç›¸å¯¹å¤æ‚äº†äº›ã€‚åœ¨å„è‡ªçš„åœºæ™¯ä¸‹å¯ä»¥è¿›è¡Œç®€åŒ–ï¼Œç”šè‡³éƒ¨åˆ†å†…å®¹å›ºå®šåŒ–ã€‚\nåˆ‡ç‰‡åŸç† æœ¯è¯­ DPIï¼ˆè‹±è¯­ï¼šDotsÂ PerÂ Inchï¼Œæ¯è‹±å¯¸ç‚¹æ•°ï¼‰ï¼šæ˜¯ä¸€ä¸ªé‡åº¦å•ä½ï¼Œç”¨äºç‚¹é˜µæ•°å­—å›¾åƒï¼Œæ„æ€æ˜¯æŒ‡æ¯ä¸€è‹±å¯¸é•¿åº¦ä¸­ï¼Œå–æ ·æˆ–å¯æ˜¾ç¤ºæˆ–è¾“å‡ºç‚¹çš„æ•°ç›®ã€‚å¦‚ï¼šæ‰“å°æœºè¾“å‡ºå¯è¾¾300DPIçš„åˆ†è¾¨ç‡ï¼Œè¡¨ç¤ºæ‰“å°æœºå¯ä»¥æ¯ä¸€å¹³æ–¹è‹±å¯¸çš„é¢ç§¯ä¸­å¯ä»¥è¾“å‡º300x300ï¼90000ä¸ªè¾“å‡ºç‚¹ã€‚\næ‰“å°æœºæ‰€è®¾ç½®ä¹‹åˆ†è¾¨ç‡çš„DPIå€¼è¶Šé«˜ï¼Œå°å‡ºçš„å›¾åƒä¼šè¶Šç²¾ç»†ã€‚æ‰“å°æœºé€šå¸¸å¯ä»¥è°ƒæ ¡åˆ†è¾¨ç‡ã€‚ä¾‹å¦‚æ’é’ˆæ‰“å°æœºï¼Œåˆ†è¾¨ç‡é€šå¸¸æ˜¯60è‡³90 DPIã€‚å–·å¢¨æ‰“å°æœºåˆ™å¯è¾¾300~720 DPIã€‚æ¿€å…‰æ‰“å°æœºåˆ™æœ‰600~1200 DPIã€‚\nä¸€èˆ¬æ˜¾ç¤ºå™¨ä¸º96 DPIï¼Œå°åˆ·æ‰€éœ€ä½å›¾çš„DPIæ•°åˆ™è§†å°åˆ·ç½‘çº¿æ•°ï¼ˆlpiï¼‰è€Œå®šã€‚ä¸€èˆ¬150çº¿å°åˆ·è´¨é‡éœ€è¦350 DPIçš„ä½å›¾ã€‚è€Œè¿™é‡Œçš„Dï¼ˆdotï¼‰å°±æ˜¯åƒç´ ï¼ˆpixelï¼‰ã€‚\nPPIï¼šæ¯è‹±å¯¸åƒç´ ï¼ˆè‹±è¯­ï¼šPixelsÂ PerÂ Inchï¼Œç¼©å†™ï¼šPPIï¼‰ï¼Œåˆè¢«ç§°ä¸ºåƒç´ å¯†åº¦ï¼Œæ˜¯ä¸€ä¸ªè¡¨ç¤ºæ‰“å°å›¾åƒæˆ–æ˜¾ç¤ºå™¨å•ä½é•¿åº¦ä¸Šåƒç´ æ•°é‡çš„æŒ‡æ•° (å¹¶éå•ä½é¢ç§¯çš„åƒç´ é‡)ã€‚ä¸€èˆ¬ç”¨æ¥è®¡é‡ç”µè„‘æ˜¾ç¤ºå™¨ï¼Œç”µè§†æœºå’Œæ‰‹æŒç”µå­è®¾å¤‡å±å¹•çš„ç²¾ç»†ç¨‹åº¦ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯è‹±å¯¸åƒç´ å€¼è¶Šé«˜ï¼Œå±å¹•èƒ½æ˜¾ç¤ºçš„å›¾åƒä¹Ÿè¶Šç²¾ç»†ã€‚5PPIè¡¨ç¤ºæ¯è‹±å¯¸æœ‰5ä¸ªåƒç´ ï¼Œ500PPIè¡¨ç¤ºæ¯è‹±å¯¸æœ‰500ä¸ªåƒç´ ã€‚\nå±å¹•åˆ†è¾¨ç‡ï¼šä¹Ÿå«åšåƒç´ åˆ†è¾¨ç‡ï¼Œå¸¸ç”¨å±å¹•ä¸Šæ¯è‹±å¯¸é•¿åº¦å†…åŒ…å«çš„åƒç´ æ•°é‡æ¥è¡¨è¾¾ï¼Œå³ï¼ŒPixel per Inchï¼Œå› æ­¤ç®€å†™ä¸º PPIï¼ˆæˆ– DPIï¼‰ï¼Œä¸€èˆ¬åœ°å›¾çš„é»˜è®¤å±å¹•åˆ†è¾¨ç‡æ˜¯96ã€‚æœ‰çš„åœ°æ–¹ä¹Ÿç”¨åƒç´ å¤§å°ï¼ˆpixel sizeï¼‰æ¥æè¿°å±å¹•çš„å¯åˆ†è¾¨ç‡ï¼Œå¦‚ WMTS æ ‡å‡†ä¸­çš„0.28mmï¼ˆæ ‡å‡†åŒ–æ¸²æŸ“åƒç´ å¤§å°ï¼‰ã€‚\nğŸ’¡ å‰æ–‡ä¸­å¯¹äº0.28mmçš„ç”±æ¥åšäº†æè¿°ï¼š0.28 æ¯«ç±³æ˜¯ 2005 å¹´æ™®é€šæ˜¾ç¤ºå™¨çš„å®é™…åƒç´ å°ºå¯¸ã€‚å…¶å¯¹åº”çš„DPIä¸ºï¼š25.4/0.28=90.7142857142857\npsï¼šè‡ª 20 ä¸–çºª 80 å¹´ä»£ä»¥æ¥ï¼ŒMicrosoft Windows æ“ä½œç³»ç»Ÿå·²å°†å…¶é»˜è®¤çš„æ ‡å‡†æ˜¾ç¤ºæ¯è‹±å¯¸åƒç´  (PPI) è®¾ç½®ä¸º 96ã€‚è¯¥å€¼ï¼ˆå³åƒç´ å¤§å°ï¼‰çš„ç»“æœçº¦ä¸ºæ¯åƒç´  0.264 mmï¼Œè¯¥å€¼çš„æ¥æºï¼š25.4/96=0.26458333333333334æ¯«ç±³ï¼Œå³çº¦ä¸º0.264 mm\n1 è‹±å¯¸ = 2.54Â å˜ç±³ï¼ˆcmï¼‰= 25.4Â æ¯«ç±³ï¼ˆmmï¼‰\nğŸ’¡ PPIå’ŒDPIéƒ½æ˜¯æè¿°åˆ†è¾¨ç‡ï¼ˆå±å¹•åˆ†è¾¨ç‡ã€ç©ºé—´åˆ†è¾¨ç‡æ˜¯å…¶ä¸­çš„åˆ†ç±»ï¼‰çš„å•ä½ã€‚ä¸è¿‡PPIå’ŒDPIç»å¸¸éƒ½ä¼šå‡ºç°æ··ç”¨ç°è±¡ã€‚ä½†æ˜¯ä»–ä»¬æ‰€ç”¨çš„é¢†åŸŸä¹Ÿå­˜åœ¨åŒºåˆ«ã€‚ä»æŠ€æœ¯è§’åº¦è¯´ï¼Œâ€œåƒç´ ï¼ˆpixelï¼‰â€åªå­˜åœ¨äºç”µè„‘æ˜¾ç¤ºé¢†åŸŸï¼Œè€Œâ€œç‚¹ï¼ˆdotï¼‰â€åªå‡ºç°äºæ‰“å°æˆ–å°åˆ·é¢†åŸŸã€‚æ‰€ä»¥ï¼Œç§ä»¥ä¸ºï¼Œé™¤åœ°å›¾æ‰“å°çš„åœºæ™¯å¤–ï¼Œä¸ºäº†åœ¨å±å¹•æ¸²æŸ“çš„åœ°å›¾åˆ†è¾¨ç‡åº”è¯¥ä½¿ç”¨PPIè€Œä¸æ˜¯DPIï¼Œæ¯•ç«Ÿæ­¤å¤„å¼ºè°ƒçš„æ˜¯å±å¹•åˆ†è¾¨ç‡ã€‚ğŸ¤”\nResolutionï¼ˆåœ°å›¾åˆ†è¾¨ç‡ï¼‰ï¼šåœ¨ GIS é¢†åŸŸæ‰€æåˆ°çš„åœ°å›¾åˆ†è¾¨ç‡ï¼ˆResolutionï¼‰ï¼Œä¹Ÿç§°åœ°é¢åˆ†è¾¨ç‡ï¼ˆGround Resolutionï¼‰æˆ–ç©ºé—´åˆ†è¾¨ç‡ï¼ˆSpatial Resolutionï¼‰ï¼Œè¡¨ç¤ºå±å¹•ä¸Šä¸€ä¸ªåƒç´ ï¼ˆpixelï¼‰æ‰€ä»£è¡¨çš„å®é™…åœ°é¢è·ç¦»ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªåƒç´ ä»£è¡¨å¤šå°‘åœ°å›¾å•ä½ï¼ˆåœ°å›¾å•ä½/åƒç´ ï¼‰ï¼Œåœ°å›¾å•ä½å–å†³äºæ•°æ®æ‰€ä½¿ç”¨çš„ç©ºé—´å‚è€ƒï¼ˆæ˜¯ç±³è¿˜æ˜¯åº¦ï¼‰ã€‚\nğŸ’¡ å³æŒ‡ä»£åœ°å›¾åœ¨å›¾åƒä¸­æ¯ä¸€åƒç´ ä¸‹ï¼Œè¡¨ç¤ºçš„åœ°ç†ç©ºé—´è·ç¦»ï¼ˆdistance per pixelï¼‰ã€‚å¯ä»¥æ˜¯æ¯åƒç´ å¤šå°‘ç±³ï¼ˆå¹³é¢ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¯åƒç´ å¤šå°‘åº¦ï¼ˆå½“å‰ä¸»è¦è¡¨ç¤ºç»çº¬åº¦ç›´æŠ•çš„æ–¹å¼ä¸‹çš„åº¦é‡ï¼‰\nåœ¨æ­¤å¤„ï¼Œæ˜¯ä¸€ä¸ªå…·ä½“çš„æ¦‚å¿µä¸å•ä½çš„ç»“åˆä½“ã€‚æœ¬è´¨ä¸Šå°±æ˜¯åˆ†è¾¨ç‡ï¼Œä¸PPIã€DPIå¹¶æ— å¤ªå¤§åŒºåˆ«ï¼Œåªä¸è¿‡å‰ä¸¤è€…ä»¥è‹±å¯¸ä¸ºå•ä½ï¼Œä»¥å•ä½å†…åƒç´ æ•°é‡ä¸ºåº¦é‡ï¼›æ­¤å¤„çš„dppä»¥åƒç´ ä¸ºå•ä½ï¼Œä»¥å•ä½å†…åœ°ç†ç©ºé—´è·ç¦»ä¸ºåº¦é‡ã€‚éƒ½æ˜¯ç”¨äºåˆ†è¾¨ç‡çš„è¡¨è¾¾ã€‚\næ˜¯ä¸æ˜¯å¯ä»¥å†™ä½œï¼šSpatial distance per pixelï¼ˆsdppï¼‰ã€Distance per pixelï¼ˆdppï¼‰ã€Groud distance per pixelï¼ˆgdppï¼‰ ä¹Ÿæœªå¯çŸ¥ğŸ™„\nScaleï¼ˆæ¯”ä¾‹å°ºï¼‰ï¼šåœ°å›¾æ¯”ä¾‹å°ºï¼ˆscaleï¼‰æ˜¯æŒ‡åœ°å›¾ä¸Šè·ç¦»ä¸åœ°é¢å®é™…è·ç¦»çš„æ¯”ä¾‹ï¼ˆä¹Ÿå°±æ˜¯åœ°å›¾ä¸Š1å˜ç±³è¡¨ç¤ºå®é™…çš„åœ°é¢è·ç¦»ï¼Œå˜ç±³ä½œä¸ºå•ä½ï¼‰ã€‚ä¾‹å¦‚å½“å®é™…è·ç¦»ä¸º1,000ç±³ï¼Œè€Œåœ¨åœ°å›¾ä¸Šçš„è·ç¦»ä¸º1å˜ç±³æ—¶ï¼Œåˆ™ç§°è¿™ä¸€åœ°åŒºçš„æ¯”ä¾‹å°ºæ˜¯1:100,000ã€‚ä¸€èˆ¬å°†æ¯”ä¾‹å°ºä¸º1:1è‡³1:600000çš„åœ°å›¾ç§°ä¸ºå¤§æ¯”ä¾‹å°ºåœ°å›¾ï¼Œ1:600000è‡³1:2,000,000çš„åœ°å›¾ç§°ä¸ºä¸­æ¯”ä¾‹å°ºåœ°å›¾ï¼Œ1:2000000è‡³1:âˆçš„åœ°å›¾ç§°ä¸ºå°æ¯”ä¾‹å°ºåœ°å›¾ã€‚åœ¨è®¡ç®—åœ°å›¾æ¯”ä¾‹å°ºçš„æ—¶å€™ï¼Œé€šå¸¸ç”¨åˆ°åœ°å›¾åˆ†è¾¨ç‡å’Œå±å¹•åˆ†è¾¨ç‡è¿™ä¸¤ä¸ªå‚æ•°ã€‚\næ¯”ä¾‹å°ºæ˜¯é€šè¿‡åœ°é¢åˆ†è¾¨ç‡ï¼ˆResolutionï¼‰å’Œå±å¹•åˆ†è¾¨ç‡ï¼ˆPPIï¼‰ç”±å¦‚ä¸‹å…¬å¼æ¥å®šä¹‰çš„ï¼š\nResolutionï¼šå³åœ°å›¾åˆ†è¾¨ç‡ã€åœ°é¢åˆ†è¾¨ç‡ï¼Œæ˜¯æŒ‡ä¸€ä¸ªåƒç´ (pixel)æ‰€ä»£è¡¨çš„å®é™…åœ°é¢è·ç¦»(ç±³ï¼Œæ­¤å¤„éœ€è¦å°†å•ä½è½¬æ¢ä¸ºç±³è¿›è¡Œè®¡ç®—) PPIï¼šå±å¹•åˆ†è¾¨ç‡åº¦é‡å•ä½ï¼Œæ˜¯æŒ‡å±å¹•ä¸Šæ¯è‹±å¯¸é•¿åº¦å†…åŒ…å«çš„åƒç´ æ•°é‡ï¼Œç›®å‰åŸºæœ¬ä¸Šéƒ½æ˜¯96 0.0254(m/inch)æ˜¯æŒ‡ç±³ä¸è‹±å¯¸çš„å•ä½è½¬æ¢ å¯ä»¥ç”¨è¿™ä¸ªå…¬å¼ï¼Œå¯¹æ¯”ä¾‹å°º(scale)å’Œåˆ†è¾¨ç‡(resolution)è¿›è¡Œæ¢ç®—ã€‚\nå…¶ä¸­ï¼ŒWMTS 1.0.0æ ‡å‡†ä¸­æ²¡æœ‰è§„å®šå±å¹•åˆ†è¾¨ç‡ï¼ˆpixel/inchï¼‰ï¼Œè€Œæ˜¯ç”¨åƒå…ƒå¤§å°ï¼ˆ0.28mm=0.00028mï¼‰æ¥ç•Œå®šçš„ï¼ŒäºŒè€…çš„æ¢ç®—å…³ç³»æ˜¯ï¼š\nppi = 1 inch/(pixelSize(m)/0.0254) æ‰€ä»¥ï¼Œå¯¹äº WMTS 1.0.0æ¥å£ï¼ˆä¹Ÿæ˜¯GeoWebCacheçš„é»˜è®¤çŠ¶æ€ï¼‰ï¼ŒPPIä¸ºï¼š\n1 inch/(0.00028m/0.0254(m/inch))=0.0254/0.00028=90.71428571428572â‰ˆ90.714 ğŸ’¡ å¦‚æœé‡åˆ°ä½¿ç”¨çš„ç©ºé—´å‚è€ƒå•ä½ä¸ºåº¦ï¼Œæ¯”å¦‚ä½¿ç”¨ç»çº¬åº¦ç›´æŠ•æ—¶ï¼Œé‚£ä¹ˆå°±éœ€è¦å°†åº¦è½¬æ¢ä¸ºç±³è¿›è¡Œè®¡ç®—ã€‚è¯¥å€¼ä¸OGCä¸­çš„metersPerUnitå¯¹åº”ï¼Œè®¡ç®—æ–¹å¼ä¸ºï¼šèµ¤é“å¤„å‘¨é•¿/360.0ã€‚CGCS2000|WGS84çš„è½¬æ¢å‚æ•°ä¸ºï¼š6378137.0 * 2.0 * Math.PI / 360.0=111319.49079327358 ç±³/åº¦\næ­¤æ®µå†…å®¹å‚è€ƒè‡ªè¶…å›¾çš„æ¯”ä¾‹å°ºä¸åˆ†è¾¨ç‡ä¸€æ–‡ï¼Œä¸”ä¸åœ°ç†ä¿¡æ¯å…¬å…±æœåŠ¡å¹³å°ç”µå­åœ°å›¾æ•°æ®è§„èŒƒä¸­æ•°æ®ä¸­æ˜¾ç¤ºæ¯”ä¾‹å°ºè®¡ç®—å…¬å¼è¿›è¡Œæ¯”è¾ƒï¼Œç¡®å®šä¸€è‡´ã€‚\næ ¼ç½‘åˆ’åˆ† å‡†ç¡®è¯´ï¼Œåº”è¯¥æ˜¯è§„åˆ™æ ¼ç½‘åˆ’åˆ†ã€‚ä¹Ÿå°±æ˜¯åœ¨ç‰¹å®šçš„æ¯”ä¾‹ï¼ˆå°ºåº¦ä¸‹ï¼‰å¯¹ç»™å®šçš„èŒƒå›´ï¼ŒæŒ‰ç…§æŒ‡å®šçš„ç“¦ç‰‡è§„æ ¼è¿›è¡Œè§„åˆ™åˆ’åˆ†ï¼Œå½¢æˆå¹³é“ºç½‘æ ¼ï¼Œå³ç“¦ç‰‡çŸ©é˜µï¼ˆTileMatrixï¼‰ï¼Œé€šå¸¸ä»¥çŸ©é˜µçš„å®½å’Œé«˜æ¥è¡¨ç¤ºã€‚è€Œç“¦ç‰‡çŸ©é˜µé›†ï¼ˆTileMatrixSetï¼‰æ˜¯ç”±ä¸€ç»„ä»¥ä¸åŒæ¯”ä¾‹å®šä¹‰çš„åˆ‡ç‰‡çŸ©é˜µç»„æˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦å…ˆæœ‰ä¸€ç»„æ¯”ä¾‹é›†åˆï¼ˆå°ºåº¦åˆ†çº§é›†åˆï¼‰ã€‚\nps: å½“ç„¶ä¹Ÿå¯ä»¥è‡ªè¡Œä»ç»™å®šçš„èŒƒå›´è¿›è¡Œè®¡ç®—ã€‚\nåœ¨æ­¤ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åœ°ç†ä¿¡æ¯å…¬å…±æœåŠ¡å¹³å°ç”µå­åœ°å›¾æ•°æ®è§„èŒƒä¸­åœ°å›¾åˆ†çº§æˆ–è€…æ˜¯å¤©åœ°å›¾çš„åˆ†çº§ï¼Œå°±ç±»ä¼¼äºOGCä¸­æåˆ°çš„Well-Known Scale Setã€‚\næ¬²è¦ç»§ç»­è¿›è¡Œæ ¼ç½‘åˆ’åˆ†ï¼Œåœ¨ç¡®å®šæ¯”ä¾‹åˆ†çº§ï¼ˆå°ºåº¦åˆ†çº§ï¼‰çš„åŸºç¡€ä¸Šï¼Œè¿˜éœ€è¦ç¡®å®šå¦‚ä¸‹å‡ ä¸ªå‚æ•°ï¼š\ncrsï¼šåæ ‡å‚è€ƒç³»ç»Ÿï¼Œå³æ ¼ç½‘æ‰€ä½¿ç”¨çš„ç©ºé—´å‚è€ƒ extentï¼šæ ¼ç½‘èŒƒå›´ï¼Œé€šå¸¸æ˜¯æ‰€ç”¨å‚è€ƒç³»ç»Ÿçš„æœ€å¤§èŒƒå›´ PPIï¼šä¸€èˆ¬é»˜è®¤ä½¿ç”¨96ï¼Œä¸è¿‡OGCä½¿ç”¨90.71428571428572 Tile Sizeï¼šä¸€èˆ¬é»˜è®¤ä½¿ç”¨256 x 256ï¼Œåƒç´ ä¸ºå•ä½ CornerOfOriginï¼šåŸç‚¹è§’ï¼Œé€šå¸¸ä¸ºå·¦ä¸Šè§’ï¼ŒTMSæƒ¯ç”¨çš„åˆ™æ˜¯å·¦ä¸‹è§’ ç›®å‰å›½å†…å¸¸ç”¨çš„å¤§èŒƒå›´ç“¦ç‰‡çŸ©é˜µé›†ï¼ˆé€šç”¨ç“¦ç‰‡çŸ©é˜µé›†ï¼‰æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯åŸºäºWebå¢¨å¡æ‰˜æŠ•å½±ã€å’ŒåŸºäºCGCS2000å¤§åœ°åæ ‡ç³»ç­‰é—´éš”ç›´æŠ•ï¼ˆç»çº¬åº¦ç›´æŠ•ï¼‰ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹åŸºäºWebå¢¨å¡æ‰˜æŠ•å½±çš„ç“¦ç‰‡çŸ©é˜µé›†çš„æ ¼ç½‘åˆ’åˆ†è¿‡ç¨‹ï¼ˆä¹Ÿå°±æ˜¯TileMatrixSetçš„æ„å»ºè¿‡ç¨‹ï¼‰ï¼Œå‚æ•°åˆ™å–ä¸Šè¿°çš„é»˜è®¤å€¼æˆ–é€šç”¨å€¼ã€‚\nåŸºäºWebå¢¨å¡æ‰˜æŠ•å½±çš„ç“¦ç‰‡çŸ©é˜µé›†çš„æ ¼ç½‘åˆ’åˆ† å¢¨å¡æ‰˜æŠ•å½±ï¼Œæ˜¯ç­‰è§’æ­£è½´åœ†æŸ±æŠ•å½±ï¼Œç”±è·å…°åœ°å›¾å­¦å®¶å¢¨å¡æ‰˜(G.Mercator)äº1569å¹´åˆ›ç«‹ã€‚å‡æƒ³ä¸€ä¸ªä¸åœ°è½´æ–¹å‘ä¸€è‡´çš„åœ†æŸ±åˆ‡æˆ–å‰²äºåœ°çƒï¼ŒæŒ‰ç­‰è§’æ¡ä»¶ï¼Œå°†ç»çº¬ç½‘ï¼ˆåœ°çƒæ¤­çƒé¢ä¸Šçš„ç»çº¬çº¿ï¼‰æŠ•å½±äºåœ†æŸ±é¢ä¸Šï¼Œå¹¶æ²¿åœ†æŸ±æ¯çº¿åˆ‡å¼€å±•ä¸ºå¹³é¢åï¼Œå³å¾—æœ¬æŠ•å½±ã€‚ä»å…¶å®šä¹‰å¯çŸ¥ï¼Œå¢¨å¡æ‰˜æŠ•å½±å…·æœ‰ä¸¤ç§å½¢æ€ï¼Œåˆ†åˆ«æ˜¯åˆ‡åœ†æŸ±æŠ•å½±åŠå‰²åœ†æŸ±æŠ•å½±ï¼Œå…¶ä¸­ï¼Œæœ€æ—©ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ˜¯åˆ‡åœ†æŸ±æŠ•å½±ï¼ˆåƒæˆ‘ä»¬å¹³æ—¶æ‰€è¿°çš„å¢¨å¡æ‰˜æŠ•å½±åŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‡ä»£ç­‰è§’æ­£è½´åˆ‡åœ†æŸ±æŠ•å½±ï¼‰ã€‚\nğŸ’¡ å¢¨å¡æ‰˜æŠ•å½±ï¼ˆç­‰è§’æ­£è½´åˆ‡åœ†æŸ±æŠ•å½±ï¼‰ä»¥èµ¤é“ä½œä¸ºæ ‡å‡†çº¬çº¿ï¼Œä»¥é¦–å­åˆçº¿ï¼ˆæœ¬åˆå­åˆçº¿ï¼‰ä¸ºä¸­å¤®ç»çº¿ï¼Œå…¶äº¤ç‚¹ä¸ºåæ ‡åŸç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ•å½±å±•å¼€çš„æ¯çº¿å¯¹åº”æ¤­çƒé¢çš„180Â°ç»çº¿ï¼ˆåˆç§°ä¸ºé€†å­åˆçº¿æˆ–å¯¹å‘å­åˆçº¿ï¼ˆantimeridianï¼‰ï¼Œæ˜¯æœ¬åˆå­åˆçº¿å‘ä¸œæˆ–å‘è¥¿180åº¦çš„ç»çº¿ï¼Œæ—¢ä¸ºä¸œç»180Â°ï¼Œåˆä¸ºè¥¿ç»180Â°ï¼‰\nWeb å¢¨å¡æ‰˜æŠ•å½±æ˜¯å¢¨å¡æ‰˜æŠ•å½±ï¼ˆç­‰è§’æ­£è½´åˆ‡åœ†æŸ±æŠ•å½±ï¼‰çš„ä¸€ç§å˜ä½“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ web åœ°å›¾å’Œåœ¨çº¿æœåŠ¡çš„äº‹å®æ ‡å‡†ã€‚å¯¹äºå°æ¯”ä¾‹å°ºåœ°å›¾ï¼Œå®ƒä¸æ ‡å‡†çš„å¢¨å¡æ‰˜ç”¨çš„å…¬å¼ä¸€æ ·ã€‚ä½†Webå¢¨å¡æ‰˜åœ¨æ‰€æœ‰æ¯”ä¾‹å°ºä¸‹éƒ½ä½¿ç”¨çƒé¢å…¬å¼ï¼Œä½†å¤§æ¯”ä¾‹å°ºçš„å¢¨å¡æ‰˜åœ°å›¾é€šå¸¸ä½¿ç”¨æŠ•å½±çš„æ¤­çƒé¢å½¢å¼ã€‚è¿™ç§å·®å¼‚åœ¨å…¨çƒæ¯”ä¾‹å°ºä¸‹æ˜¯å¯Ÿè§‰ä¸åˆ°çš„ï¼Œä½†ä¼šå¯¼è‡´å±€éƒ¨åœ°åŒºçš„åœ°å›¾ç¨å¾®åç¦»åŒä¸€æ¯”ä¾‹å°ºçš„çœŸæ­£çš„æ¤­çƒé¢å¢¨å¡æ‰˜åœ°å›¾ã€‚ è™½ç„¶Webå¢¨å¡æ‰˜çš„å…¬å¼æ˜¯å¢¨å¡æ‰˜çš„çƒé¢å½¢å¼ï¼Œä½†åœ°ç†åæ ‡å¿…é¡»å¾—ä»¥WGS 84æ¤­çƒé¢åŸºå‡†è·å¾—ã€‚æ­¤å·®å¼‚ä¼šå¯¼è‡´æŠ•å½±ç•¥å¾®ä¸ç¬¦åˆæ­£å½¢æŠ•å½±ã€‚\nğŸ’¡ Webå¢¨å¡æ‰˜æŠ•å½±åœ¨æŠ€æœ¯å®ç°ä¸Šä¸ºäº†ç®€åŒ–è®¡ç®—ï¼Œå‡è®¾åœ°çƒæ˜¯ä¸€ä¸ªçƒä½“ï¼Œè€Œéä¸¥æ ¼çš„æ¤­çƒä½“ã€‚è¿™ä½¿å¾—å®ƒæ—¢ä¸æ˜¯ä¸¥æ ¼çš„æ¤­çƒé¢æŠ•å½±ï¼Œä¹Ÿä¸æ˜¯ä¸¥æ ¼çš„çƒé¢æŠ•å½±ï¼ŒEPSGçš„å®šä¹‰è¯´è¿™ä¸ªæŠ•å½±â€œä½¿ç”¨æ¤­çƒåæ ‡ç³»çš„çƒé¢æ¼”åŒ–â€ã€‚å®ƒæ˜¯å»ºç«‹åœ¨åœ°çƒè¡¨é¢çš„WGS84æ¤­çƒé¢æ¨¡å‹å®šä¹‰çš„åœ°ç†åæ ‡ä¸Šçš„ï¼Œä½†åœ¨æŠ•å½±çš„æ—¶å€™å´ä»¿ä½›åæ ‡æ˜¯å®šä¹‰åœ¨çƒé¢ä¸Šçš„ã€‚\nWebå¢¨å¡æ‰˜æŠ•å½±çš„èŒƒå›´ï¼š[-20037508.3427892, -20037508.3427892, 20037508.3427892, 20037508.3427892]ï¼Œç»æŠ•å½±åæ‰€å¾—æŠ•å½±é¢çš„æŠ•å½±åæ ‡ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nğŸ’¡ Webå¢¨å¡æ‰˜æŠ•å½±åº”æ˜¯åŸºäºå¢¨å¡æ‰˜ï¼ˆç­‰è§’æ­£è½´åˆ‡åœ†æŸ±æŠ•å½±ï¼‰çš„å˜ä½“ï¼Œå…¶åŒæ ·ä»¥èµ¤é“ä¸ºæ ‡å‡†çº¬çº¿ï¼Œæœ¬åˆå­åˆçº¿ä¸ºä¸­å¤®ç»çº¿ï¼Œä¸¤è€…äº¤ç‚¹ä¸ºåæ ‡åŸç‚¹ï¼Œå‘ä¸œå’Œå‘åŒ—ä¸ºæ­£ã€‚\næ­¤æ—¶éœ€è¦å†æ¬¡æ”¾å‡ºTileMatrixSetçš„ç¤ºæ„å›¾äº†ï¼Œå› ä¸ºè¦å¼€å§‹è¿›è¡Œæ ¼ç½‘åˆ’åˆ†ï¼Œå¹¶æ„å»ºç“¦ç‰‡çŸ©é˜µé›†äº†ï¼Œæœ‰å›¾å¥½ç†è§£äº›ã€‚\nå†æ¬¡ç¡®å®šä¸€ä¸‹å‚æ•°å€¼ï¼š\ncrsï¼š3857|900913 extentï¼š[-20037508.3427892, -20037508.3427892, 20037508.3427892, 20037508.3427892] PPIï¼š96 Tile Sizeï¼š256 x 256 CornerOfOriginï¼šå·¦ä¸Šè§’ Scale Setï¼šå¤©åœ°å›¾ï¼Œå› ä¸Šè¿°åœ°å›¾åˆ†çº§ç¼ºå°‘çŸ©é˜µæ•°é‡ï¼Œæ‰€ä»¥æ”¹ç”¨å¤©åœ°å›¾ï¼Œä¸è¿‡æ¯”ä¾‹éƒ½æ˜¯ä¸€è‡´çš„ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¤©åœ°å›¾çš„åˆ†çº§æ˜¯ä»1çº§å¼€å§‹çš„ï¼Œ1çº§ä»¥2x2çš„åˆ†å¸ƒå…±è®¡4å¼ ç“¦ç‰‡ã€‚ä»æ­¤å¤„çœ‹å…¶ç¼ºå°‘0çº§ã€‚æˆ‘ä»¬å¯ä»¥è¡¥å……ä¸€ä¸‹ï¼Œå¹¶å¯è¿›è¡Œæ ¸å¯¹ã€‚ç›®å‰åœ°å›¾æ¯”ä¾‹åˆ†çº§é€šå¸¸éƒ½é‡‡ç”¨2çš„å€ç‡è¿›è¡Œåˆ‡ç‰‡ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰çº§æ¯”ä¾‹æ˜¯ä¸‹ä¸€çº§çš„2å€ã€‚ç¬¬0çº§ç”¨ä¸€å¼ ç“¦ç‰‡ï¼ˆ256x256ï¼‰è¡¨ç¤ºå…¨éƒ¨èŒƒå›´ï¼Œé‚£ä¹ˆåœ¨æ­¤å¯ä»¥è®¡ç®—ï¼š\n// 0çº§çš„åˆ†è¾¨ç‡ä¸ºï¼ˆExtent Width / tile sizeï¼‰ (20037508.3427892 * 2)/256=156543.03392804062 // 0çº§æ¯”ä¾‹å°ºä¸ºï¼ˆæ ¹æ®ä¸Šè¿°æä¾›çš„æ¯”ä¾‹å°ºè®¡ç®—å…¬å¼è¿›è¡Œè®¡ç®—ï¼‰ 1: (156543.03392804062 * 96/0.0254)=1: 5.916587109091299E8 // æ ¸å¯¹ä¸€ä¸‹1çº§çš„åˆ†è¾¨ç‡å’Œæ¯”ä¾‹å°º 156543.03392804062/2=78271.51696402031 5.916587109091299E8/2=2.958293554545649E8 è¿™é‡Œå¯ä»¥å‘ç°æˆ‘ä»¬ç®—å‡ºæ¥çš„1çº§çš„æ¯”ä¾‹å°ºçš„æœ€åä¸¤ä½å°æ•°ä¸å¤©åœ°å›¾çš„æœ‰ç‚¹å·®åˆ«ï¼ˆå…¶å®ä½¿ç”¨ä¸Šåº”æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼‰ï¼ŒåŸå› æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„èŒƒå›´å…¶å®æ˜¯ç›¸å¯¹ä¸ç²¾ç¡®çš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨WGS84æ¤­çƒä½“çš„èµ¤é“åœˆä½œä¸ºèŒƒå›´æ¥è®¡ç®—ï¼ˆé¿å…å°æ•°ä½ä¿ç•™é—®é¢˜å¯¼è‡´è®¡ç®—ä¸ä¸€è‡´é—®é¢˜ï¼‰\n// 0çº§çš„åˆ†è¾¨ç‡ä¸º (20037508.3427892 * 2)/256=156543.03392804097 // 0çº§æ¯”ä¾‹å°ºä¸º 1: (((6378137.0 * 2.0 * Math.PI)/256) * 96/0.0254)=1: 5.916587109091312E8 // æ ¸å¯¹ä¸€ä¸‹1çº§çš„åˆ†è¾¨ç‡å’Œæ¯”ä¾‹å°º 156543.03392804097/2=78271.51696402048 5.916587109091312E8/2=2.958293554545656E8 è¿™ä¸€æ¬¡å‘ç°ï¼Œ1çº§çš„æ¯”ä¾‹å°ºä¸å¤©åœ°å›¾çš„å®Œå…¨ä¸€è‡´äº†ã€‚ä¹‹æ‰€ä»¥ä»0çº§å¼€å§‹è¯´æ˜ï¼Œè¿™æ˜¯å› ä¸ºå½“æ²¡æœ‰ç»™å®šæ¯”ä¾‹åˆ†çº§çš„æ—¶å€™ï¼Œå¯ä»¥è‡ªè¡ŒåŸºäºç»™å®šçš„èŒƒå›´å’Œ2çš„å€ç‡çš„æ–¹å¼è®¡ç®—åˆ†çº§ã€‚å½“ç»™å®šåˆ†çº§ï¼Œåˆ™å¯ç›´æ¥åŸºäºåˆ†çº§åšåç»­è®¡ç®—ã€‚å…¶ä¸­é‡ç‚¹ï¼Œå°±æ˜¯è®¡ç®—æ¯ä¸€ä¸ªåˆ†çº§ä¸‹ï¼ŒçŸ©é˜µçš„å®½åº¦å’Œé«˜åº¦ï¼ˆä»¥æ­¤æ¥ä½œä¸ºçŸ©é˜µæè¿°ï¼‰ã€‚æˆ‘ä»¬åœ¨æ­¤åŸºäºå¤©åœ°å›¾çš„æ¯”ä¾‹å°ºåˆ†çº§è¿›è¡Œ1-5çº§çš„ç“¦ç‰‡çŸ©é˜µè®¡ç®—ï¼Œå¹¶è¿›è¡Œå¯¹æ¯”éªŒè¯ï¼ˆåˆ†è¾¨ç‡çš„è®¡ç®—æ–¹å¼ç”±æ¯”ä¾‹å°ºè®¡ç®—å…¬å¼åæ¨ï¼‰ã€‚\n// Extent Width: (6378137.0 * 2.0 * Math.PI)=4.007501668557849E7 // 1çº§æ¯”ä¾‹å°ºï¼š2.958293554545656E8 // 1çº§çŸ©é˜µ 2x2 resolution=(2.958293554545656E8*0.0254)/96=78271.51696402048 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=4.007501668557849E7/(256*78271.51696402048)=2 // èŒƒå›´çš„é«˜(Webå¢¨å¡æ‰˜æŠ•å½±å¹³é¢æ˜¯æ­£æ–¹å½¢, æ‰€ä»¥å®½é«˜ä¸€è‡´) / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=4.007501668557849E7/(256*78271.51696402048)=2 // 2çº§æ¯”ä¾‹å°ºï¼š1.479146777272828E8 // 2çº§çŸ©é˜µ 4x4 resolution=(1.479146777272828E8*0.0254)/96=39135.75848201024 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=4.007501668557849E7/(256*39135.75848201024)=4 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=4.007501668557849E7/(256*39135.75848201024)=4 // 3çº§æ¯”ä¾‹å°ºï¼š7.39573388636414E7 // 3çº§çŸ©é˜µ 8x8 resolution=(7.39573388636414E7*0.0254)/96=19567.87924100512 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=4.007501668557849E7/(256*19567.87924100512)=8 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=4.007501668557849E7/(256*19567.87924100512)=8 // 4çº§æ¯”ä¾‹å°ºï¼š3.69786694318207E7 // 4çº§çŸ©é˜µ 16x16 resolution=(3.69786694318207E7*0.0254)/96=9783.93962050256 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=4.007501668557849E7/(256*9783.93962050256)=16 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=4.007501668557849E7/(256*9783.93962050256)=16 // 5çº§æ¯”ä¾‹å°ºï¼š1.848933471591035E7 // 5çº§çŸ©é˜µ 32x32 resolution=(1.848933471591035E7*0.0254)/96=4891.96981025128 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=4.007501668557849E7/(256*4891.96981025128)=32 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=4.007501668557849E7/(256*4891.96981025128)=32 ç»è¿‡å†æ¬¡å¯¹æ¯”ï¼Œå¯ç¡®å®šæ­¤è®¡ç®—ä¸å¤©åœ°å›¾ä»¥åŠç”µå­åœ°å›¾è§„èŒƒä¸­çš„åœ°å›¾åˆ†çº§æ•°æ®ä¸€è‡´ã€‚ä¸”å·²ç»å®Œæˆæ ¼ç½‘åˆ’åˆ†åŠ¨ä½œï¼Œæ˜¯çš„ï¼Œå…¶å®å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ç¡®å®šå¥½å‚æ•°åï¼Œç›´æ¥è¿›è¡ŒçŸ©é˜µæ„å»ºï¼ˆæ ¼ç½‘åˆ’åˆ†ï¼‰å°±å¥½äº†ï¼ˆçŸ©é˜µå®½ï¼Œé«˜è®¡ç®—ï¼‰ã€‚\nå¦‚æœä½ éœ€è¦ä»èŒƒå›´å»è®¡ç®—æ¯”ä¾‹åˆ†çº§çš„è¯ï¼Œéœ€è¦æ³¨æ„çš„ï¼Œæœ¬æ¬¡ç»™å®šçš„èŒƒå›´æ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ï¼Œæ˜¯ç›¸å½“è§„æ•´çš„ï¼Œå› ä¸ºWebå¢¨å¡æ‰˜çš„æŠ•å½±é¢ç»“æœæ˜¯ä¸€ä¸ªæ­£æ–¹å½¢çš„å¹³é¢åŒºåŸŸã€‚æ‰€ä»¥å¯¹äºæ–¹å½¢ç“¦ç‰‡æ¥è¯´ï¼Œå…¶åœ¨æ­£æ–¹å½¢çš„åŒºåŸŸä¸‹æ¨ªçºµæ–¹å‘çš„åˆ†è¾¨ç‡æ˜¯ä¸€è‡´çš„ã€‚å¦‚æœç»™å®šçš„åŒºåŸŸæ˜¯é•¿æ–¹å½¢æˆ–è€…å…¶ä»–çš„å½¢çŠ¶ï¼Œåˆ™å¯èƒ½éœ€è¦è¿›è¡Œä¸€å®šçš„èŒƒå›´è°ƒæ•´ï¼Œä»¥ä¿è¯æ–¹å½¢ç“¦ç‰‡åœ¨æ¨ªçºµæ–¹å‘ä¸Šçš„åˆ†è¾¨ç‡æ˜¯ç»Ÿä¸€çš„ï¼ŒåŒæ—¶çŸ©é˜µåœ¨æ¨ªçºµæ–¹å‘ä¸Šæ•°é‡æ˜¯æ•´æ•°ï¼ˆæ•´é™¤çš„ï¼‰ã€‚\nåŸºäºCGCS2000ç»çº¬åº¦æŠ•å½±çš„ç“¦ç‰‡çŸ©é˜µé›†çš„æ ¼ç½‘åˆ’åˆ† ç»çº¬åº¦ç­‰é—´éš”ç›´æŠ•ï¼šè‹±æ–‡å«æ³•æ˜¯Platte Carre projectionï¼Œæ˜¯ç­‰è·çŸ©å½¢æŠ•å½±ï¼ˆEquirectangular projectionï¼‰åŸºå‡†ç‚¹çº¬åº¦å–0Â°ï¼ˆèµ¤é“ï¼‰æ—¶çš„ç‰¹æ®Šæƒ…å†µã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯ç›¸åŒçš„ç»çº¬åº¦é—´éš”åœ¨å±å¹•ä¸Šçš„é—´è·ç›¸ç­‰ï¼Œæ²¡æœ‰å¤æ‚çš„åæ ‡å˜æ¢ã€‚æˆ‘ä»¬å¯ç®€å•çš„ç†è§£ä¸ºï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­ï¼Œå°†èµ¤é“ä½œä¸ºXè½´ï¼Œå­åˆçº¿ï¼ˆæœ¬åˆå­åˆçº¿ï¼‰ä½œä¸ºYè½´ï¼Œç„¶åæŠŠæœ¬æ¥åº”è¯¥åœ¨å—åŒ—ä¸¤æç›¸äº¤çš„ç»çº¿ä¸€æ ¹ä¸€æ ¹å±¡ç›´äº†ï¼Œæˆä¸ºäº†äº’ç›¸å¹³è¡Œçš„ç»çº¿ï¼Œè€Œæ¯æ¡çº¬çº¿çš„é•¿åº¦ä¹Ÿåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å˜ä¸ºä¸èµ¤é“ç­‰é•¿ã€‚\nå†æ¬¡ç¡®å®šä¸€ä¸‹å‚æ•°å€¼ï¼š\ncrsï¼š4490 extentï¼š[-180.0 -90.0, 180.0 90.0] PPIï¼š96 Tile Sizeï¼š256 x 256 CornerOfOriginï¼šå·¦ä¸Šè§’ Scale Setï¼šå¤©åœ°å›¾ã€‚ åœ¨è¿™é‡Œæˆ‘ä»¬ç›´æ¥è¿›è¡Œ1-5çº§çš„ç“¦ç‰‡çŸ©é˜µè®¡ç®—éªŒè¯ï¼Œç”±äºå½“å‰æ˜¯æŠ•å½±ä½¿ç”¨ç»çº¬åº¦å•ä½ï¼Œéœ€è¦éœ€è¦å°†é»˜è®¤çš„ç±³è½¬æ¢ä¸ºåº¦ï¼š\n// EPSG_4490_TO_METERS: 6378137.0 * 2.0 * Math.PI / 360.0=111319.49079327358 // 1çº§æ¯”ä¾‹å°ºï¼š2.958293554545656E8 // 1çº§çŸ©é˜µ 2x1 resolution=(2.958293554545656E8*0.0254/111319.49079327358)/96=0.703125 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=360/(256*0.703125)=2 // èŒƒå›´çš„é«˜(Webå¢¨å¡æ‰˜æŠ•å½±å¹³é¢æ˜¯æ­£æ–¹å½¢, æ‰€ä»¥å®½é«˜ä¸€è‡´) / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=180/(256*0.703125)=1 // 2çº§æ¯”ä¾‹å°ºï¼š1.479146777272828E8 // 2çº§çŸ©é˜µ 4x2 resolution=(1.479146777272828E8*0.0254/111319.49079327358)/96=0.3515625 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=360/(256*0.3515625)=4 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=180/(256*0.3515625)=2 // 3çº§æ¯”ä¾‹å°ºï¼š7.39573388636414E7 // 3çº§çŸ©é˜µ 8x4 resolution=(7.39573388636414E7*0.0254/111319.49079327358)/96=0.17578125 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=360/(256*0.17578125)=8 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=180/(256*0.17578125)=4 // 4çº§æ¯”ä¾‹å°ºï¼š3.69786694318207E7 // 4çº§çŸ©é˜µ 16x8 resolution=(3.69786694318207E7*0.0254/111319.49079327358)/96=0.087890625 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=360/(256*0.087890625)=16 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=180/(256*0.087890625)=8 // 5çº§æ¯”ä¾‹å°ºï¼š1.848933471591035E7 // 5çº§çŸ©é˜µ 32x16 resolution=(1.848933471591035E7*0.0254/111319.49079327358)/96=0.0439453125 // èŒƒå›´çš„å®½ / ç“¦ç‰‡å¯¹åº”çš„å®½ matrixWidth=360/(256*0.0439453125)=32 // èŒƒå›´çš„é«˜ / ç“¦ç‰‡å¯¹åº”çš„é«˜ matrixHigh=180/(256*0.0439453125)=16 CGCS2000ç»çº¬åº¦ç­‰é—´éš”ç›´æŠ•åæ‰€å¾—æŠ•å½±å¹³é¢å°±æ˜¯ä¸€ä¸ªé•¿æ–¹å½¢ï¼Œå®½ä¸º360Â°ï¼Œé«˜ä¸º180Â°ã€‚å‡å¦‚æ­¤æ—¶è¦ä»¥èŒƒå›´è¿›è¡Œæ¯”ä¾‹åˆ†çº§è®¡ç®—çš„è¯ï¼Œä»¥256x256ç“¦ç‰‡æ¥è®¡ç®—å•å¼ ç“¦ç‰‡è¦†ç›–å®Œæ•´åŒºåŸŸçš„æƒ…å†µï¼ˆå³0çº§ï¼ŒçŸ©é˜µ1x1çš„æƒ…å†µï¼‰ä¼šå‘ç°æ¨ªçºµæ–¹å‘ä¸Šçš„åˆ†è¾¨ç‡ä¸ä¸€è‡´ï¼Œä¸”æ¨ªå‘æ°å¥½æ˜¯çºµå‘çš„2å€ã€‚åœ¨GeoWebCacheä¸­ï¼Œå…¶é»˜è®¤ä»¥å°è¾¹ï¼ˆå³åˆ†è¾¨ç‡è¾ƒä½çš„ä¸€è¾¹ï¼‰ä¸ºä¸»ï¼Œé€šè¿‡ä¸€å®šè§„åˆ™å¯¹èŒƒå›´è¿›è¡Œè°ƒæ•´ï¼ˆå³å¯»æ‰¾ä¸€ä¸ªåŒæ—¶é€‚åˆæ¨ªçºµæ–¹å‘çš„åˆ†è¾¨ç‡ï¼Œè€ŒååŸºäºæ­¤è®¡ç®—æ–°çš„èŒƒå›´ï¼‰ã€‚å¯¹äº[-180,-90,180,90]è¿™ä¸ªèŒƒå›´ï¼Œæœ€ç»ˆç›´æ¥ä»¥çºµå‘çš„åˆ†è¾¨ç‡ï¼ˆ0.703125ï¼‰ä¸ºä¸»è¿›è¡ŒèŒƒå›´è°ƒæ•´ï¼Œå› æ¨ªå‘åˆ†è¾¨ç‡æ°å¥½æ˜¯çºµå‘çš„2å€ï¼Œæ‰€ä»¥æœ€ç»ˆèŒƒå›´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚\nresX=360/256=1.40625 resY=180/256=0.703125 å½“ç„¶ï¼ŒGeoWebCacheä¸­ä¸ä»…åªæœ‰è¿™ä¸€ç§æ„å»ºTileMatrixSetçš„ç­–ç•¥ï¼Œä»¥èŒƒå›´è¿›è¡Œæ„å»ºçš„æ›´é€‚åˆæ²¡æœ‰æä¾›æ¯”ä¾‹åˆ†çº§çš„æƒ…å†µï¼Œå…¶å®ƒçš„è¿˜æœ‰ç»™å®šåŸºæ¯”ä¾‹åˆ†æ¯ï¼ˆåˆ†è¾¨ç‡æˆ–æ¯”ä¾‹å°ºï¼‰çš„æ–¹å¼ï¼Œæˆ–æ˜¯ç»™å®šå®Œæ•´çš„æ¯”ä¾‹åˆ†çº§é›†åˆã€‚\nğŸ’¡ å†å›é¡¾ä¸€ä¸‹ä¸ŠèŠ‚é™„å½•ä¸­æåˆ°çš„4326ç“¦ç‰‡çŸ©é˜µé›†å…¶0é›†æ˜¯2x1ï¼Œåœ¨è¿™ä¸ªTileMatrixSetä¸­ï¼Œæ ‡è¯†ç¬¦ä¸ºâ€œ-1â€çš„TileMatrixåªæœ‰ä¸€ä¸ªå›¾å—ï¼Œæœ‰128è¡Œç•™ç©ºã€‚å› æ­¤ï¼Œè®¸å¤šå®æ–½è€…ä¸æƒ³æä¾›è¿™ä¸€çº§åˆ«ï¼ˆåŒ…æ‹¬ INSPIRE æŠ€æœ¯æŒ‡å—ï¼‰ï¼Œè€Œæ˜¯æ›´å–œæ¬¢ä»ä»…ç”¨ 2 ä¸ªç“¦ç‰‡ï¼ˆä¸€ä¸ªç”¨äºè´Ÿç»åº¦ï¼Œä¸€ä¸ªç”¨äºæ­£ç»åº¦ï¼‰è¡¨ç¤ºä¸–ç•Œçš„ TileMatrix å¼€å§‹ã€‚\næ‰€ä»¥GeoWebCacheä»¥èŒƒå›´è¿›è¡ŒTileMatrixSetæ„å»ºçš„ç¨‹åºä¸­ï¼Œå…¶ä»¥å°è¾¹ä¸ºä¸»å¿…ç„¶ä¼šå¯¼è‡´å¦‚CGCS2000ï¼ˆæˆ–WGS84ï¼‰ç»çº¬åº¦ç›´æŠ•çš„æ–¹å¼ä¸å­˜åœ¨æœ‰å•å¼ ç“¦ç‰‡è¦†ç›–å…¨éƒ¨åŒºåŸŸçš„å±‚çº§ã€‚\næ­¤æ®µå†…å®¹è¾ƒä¸ºç²—ç³™ï¼Œä¸»è¦ä»¥è¯´æ˜å…¶è®¡ç®—åŸç†ä¸ºä¸»ã€‚å¦‚æœä½ å¯¹æ­¤éƒ¨åˆ†å†…å®¹æ„Ÿå…´è¶£ï¼Œå¯ä»¥å»çœ‹ä¸€ä¸‹GeoWebCacheä¸­GridSetFactoryç±»çš„å®ç°ï¼Œæˆ–è€…æ˜¯å»çœ‹Geo Atlasä¸­TileMatrixSetFactoryç±»çš„å®ç°ï¼ˆæˆ‘åŠ äº†éƒ¨åˆ†ä¸­æ–‡æ³¨é‡Š â˜ºï¸ï¼‰\nå…³äºåƒç´ å¤§å°ï¼ˆPixel Sizeï¼‰çš„å½±å“ å¯¹äºåœ°å›¾åˆ†è¾¨ç‡ï¼ˆResolutionï¼‰å’Œæ¯”ä¾‹å°ºï¼ˆScaleï¼‰æ¥è¯´ï¼Œå…¶å®åƒç´ å¤§å°ï¼ˆpixel sizeï¼‰å½±å“çš„åªæœ‰æ¯”ä¾‹å°ºã€‚æ‰€ä»¥å³ä½¿æ˜¯ä½¿ç”¨ä¸åŒçš„åƒç´ å¤§å°æ„å»ºçš„ç“¦ç‰‡çŸ©é˜µé›†ï¼Œåªè¦å…¶åœ°å›¾åˆ†è¾¨ç‡æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆç“¦ç‰‡å°±å¯æ­£ç¡®çš„å åŠ åœ¨ä¸€èµ·ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·¦ä¾§æ˜¯æˆ‘åœ¨GeoServerï¼ˆ0.28mmï¼‰ä¸­é…ç½®çš„CGCS2000ç»çº¬åº¦æŠ•å½±çš„ç“¦ç‰‡çŸ©é˜µé›†ï¼ˆGeo Atlasä¸­4490åŒç†è¿›è¡Œé…ç½®ï¼‰ï¼Œå³ä¸‹åˆ™ä¸ºå¤©åœ°å›¾ï¼ˆ0.26458mmï¼‰çš„CGCS2000ç»çº¬åº¦æŠ•å½±çš„ç“¦ç‰‡çŸ©é˜µé›†ã€‚\nåæ ‡è½¬æ¢ï¼ˆtile coordinates â†” crsï¼‰ æ­¤å¤„æ‰€æåæ ‡è½¬æ¢å³ä¸ºæè¿°å¦‚ä½•å°†ç“¦ç‰‡åæ ‡ç³»ä¸å…¶å¯¹åº”çš„ç©ºé—´åæ ‡ç³»è¿›è¡Œç›¸äº’è½¬æ¢ã€‚å¯¹äºå¤§åœ°åæ ‡ç³»æˆ–æŠ•å½±åæ ‡ç³»è‚¯å®šæ˜¯ç†Ÿæ‚‰çš„ï¼Œè¿™é‡Œå¯¹ç“¦ç‰‡åæ ‡ç³»å†æ¬¡è¿›è¡Œè¯´æ˜ä¸‹ã€‚\nä¸Šå›¾å‡ä¸ºåˆ‡ç‰‡åŸç‚¹ä¸ºå·¦ä¸Šè§’çš„ç“¦ç‰‡çŸ©é˜µé›†çš„ç“¦ç‰‡åæ ‡ç³»ï¼Œå¦‚æœåˆ‡ç‰‡åŸç‚¹åœ¨å·¦ä¸‹è§’ï¼Œé‚£ä¹ˆtileCol è½´ä¸å˜ï¼Œè€ŒtileRowè½´ç”±ä¸‹æŒ‡å‘ä¸Šï¼Œä¸å½“å‰å›¾ç¤ºçš„tileRowè½´æ–¹å‘ç›¸åã€‚ç“¦ç‰‡åæ ‡ä»0å€¼å¼€å§‹ï¼Œåˆ‡ç‰‡åŸç‚¹å¤„çš„ç“¦ç‰‡åæ ‡ä¸º(0, 0)ã€‚\nå¯¹äºä¸¤ç§åæ ‡çš„è½¬æ¢ï¼Œå…¶å®ä¸Šæ–‡é™„å½•éƒ¨åˆ†ä¹Ÿæœ‰åšç®€è¦è¯´æ˜ï¼Œä¸è¿‡ä»…ä»…åªæ˜¯ä¼ªä»£ç ï¼Œå¦‚ä»Šæˆ‘ä»¬å°±ç›´æ¥çœ‹ä»£ç å§ã€‚\nğŸ’¡ æ³¨ï¼šä»¥ä¸‹æ‰€å±•ç¤ºå†…å®¹å‡æŒ‡ä»£åˆ‡ç‰‡åŸç‚¹åœ¨å·¦ä¸Šè§’çš„æƒ…å†µã€‚\nTile Coordinates â†’ Crs BBox ç“¦ç‰‡åæ ‡ tileRowï¼Œå¯¹åº”Y tileColï¼Œå¯¹åº”X tileZoomï¼Œå¯¹åº”Z ç“¦ç‰‡åæ ‡ç³»è½¬å…¶å¯¹åº”çš„ç©ºé—´åæ ‡ç³»ï¼ˆå³ç“¦ç‰‡å æ®çš„ç©ºé—´èŒƒå›´ï¼‰çš„é€»è¾‘å…¶å®å¾ˆå¥½ç†è§£ã€‚æ­£å¦‚æ ¼ç½‘åˆ’åˆ†æ˜¯éœ€è¦åŸºäºæŸä¸ªæŠ•å½±åæ ‡ç³»ä¸‹è¿›è¡Œï¼Œåˆ’åˆ†çš„åŒæ—¶ä¹Ÿæ˜¯å°†æŠ•å½±ç©ºé—´è½¬æ¢ä¸ºç“¦ç‰‡çŸ©é˜µç©ºé—´ï¼Œç°åœ¨åªéœ€è¦åå‘æ¨ç®—å›å»å³å¯ã€‚ä¹Ÿå°±æ˜¯ï¼Œéœ€è¦è®¡ç®—å‡ºç“¦ç‰‡çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’å¯¹åº”çš„æŠ•å½±åæ ‡ã€‚\néœ€è¦æä¾›çš„å‚æ•°ï¼š\nåˆ‡ç‰‡åŸç‚¹æ–¹ä½ä»¥åŠæŠ•å½±åæ ‡ï¼šå¦‚ä¸‹è¡¨ç¤ºçš„åˆ‡ç‰‡åŸç‚¹æ˜¯å·¦ä¸Šè§’ æ¯ä¸ªå±‚æ¬¡çš„åˆ†è¾¨ç‡ä»¥åŠç“¦ç‰‡å®½é«˜ public BoundingBox boundsFromIndex(long[] tileIndex) { final int tileZ = (int) tileIndex[2]; TileMatrix matrix = getMatrix(tileZ); long tileX = tileIndex[0]; long tileY; // è®¡ç®—ç“¦ç‰‡åœ¨æ¨ªå‘ä¸Šå æ®äº†å¤šå°‘åœ°å›¾å•ä½ï¼Œæ¯”å¦‚256åœ¨å½“å‰å±‚çº§è¡¨ç¤ºå¤šå°‘ç±³æˆ–åº¦ double width = matrix.getResolution() * (double) matrix.getTileWidth(); double height = matrix.getResolution() * (double) matrix.getTileHeight(); double[] tileOrigin = this.tileOrigin(); BoundingBox tileBounds; // æ­¤å¤„å‡å®šä¼ é€’çš„ç“¦ç‰‡åæ ‡å±äºgoogleä½“ç³»çš„ç“¦ç‰‡åæ ‡ç³»ï¼Œå³åŸç‚¹åœ¨å·¦ä¸Šè§’ if (CornerOfOrigin.TOP_LEFT.equals(this.cornerOfOrigin)) { tileY = tileIndex[1]; // (minx, miny, maxx, maxy) tileBounds = new BoundingBox(tileOrigin[0] + width * (double) tileX, tileOrigin[1] - height * (double) (tileY + 1L), tileOrigin[0] + width * (double) (tileX + 1L), tileOrigin[1] - height * (double) tileY); } else { throw new IllegalArgumentException(\u0026#34;Unsupported corner of origin: \u0026#34; + this.cornerOfOrigin); } return tileBounds; } ğŸ’¡ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨æ­¤è¡¨ç¤ºBBoxç”¨çš„æ˜¯å·¦ä¸‹è§’å’Œå³ä¸Šè§’çš„æ–¹å¼ã€‚æ­¤ç§æ€è€ƒæ–¹å¼ä¸åˆ‡ç‰‡åŸç‚¹åœ¨å·¦ä¸Šè§’çš„ç“¦ç‰‡åæ ‡ç³»æœ‰äº›ä¸å¤ªç»Ÿä¸€ï¼Œæ€»ä¹‹æœ‰ç‚¹åˆ«æ‰­ã€‚æˆ–è®¸å½“åˆ‡ç‰‡åŸç‚¹åœ¨å·¦ä¸Šè§’æ—¶ï¼Œä½¿ç”¨å·¦ä¸Šè§’ä¸å³ä¸‹è§’è¡¨ç¤ºBBoxå¯¹äºæ€è€ƒæ›´å‹å¥½äº› ä¹Ÿæœªå¯çŸ¥å•Š ğŸ™„\nè¿™éš¾é“å°±æ˜¯OGCåˆå§‹æå€¡ä½¿ç”¨å·¦ä¸‹è§’ä½œä¸ºåˆ‡ç‰‡åŸç‚¹çš„ç†ç”±å—ï¼Ÿä¸€æ–¹é¢å·¦ä¸‹è§’æ²¿æ¨ªçºµæ–¹å‘éƒ½æ˜¯é€æ¸å¢å¤§ï¼Œæ›´ç¬¦åˆäººä»¬çš„æ€è€ƒï¼›å¦ä¸€æ–¹é¢ï¼Œå¯¹äºBBoxçš„æè¿°å¤šä½¿ç”¨å·¦ä¸‹è§’å’Œå³ä¸Šè§’ï¼ŸğŸ¤¨\nCrs BBox â†’ Tile Coordinates ä¸Šæ–‡é™„å½•æåˆ°çš„BBOXè½¬ç“¦ç‰‡åæ ‡ç³»ï¼Œæ˜¯è·å–åˆ°ä¸€ç³»åˆ—çš„ç“¦ç‰‡åæ ‡ç³»ã€‚ä¹Ÿå°±æ˜¯ç»™å®šBBoxï¼Œç„¶åè·å–åˆ°å¯¹ç”¨çš„ç“¦ç‰‡åæ ‡èŒƒå›´ã€‚ä½†æ˜¯é™„å½•ä¸­å¹¶æœªæåˆ°å…³äºæ¯”ä¾‹å±‚çº§çš„å†…å®¹ï¼Œä¸è¿‡é€»è¾‘æ˜¯æ‰€æœ‰å±‚çº§éƒ½æ˜¯å…±ç”¨çš„ã€‚\né‚£ä¹ˆåœ¨æ­¤åŸºäºGeoWebCacheçš„å®ç°ï¼Œæä¾›ä¸¤ç±»BBox â†’ Tile Coordinatesçš„è½¬æ¢æ–¹æ³•ã€‚ä¸€ç±»æ˜¯è·å–ä¸ç»™å®šèŒƒå›´æœ€æ¥è¿‘çš„ç“¦ç‰‡åæ ‡ç³»ï¼Œå¦ä¸€ç±»åˆ™æ˜¯ä¸Šæ–‡é™„å½•æåˆ°çš„ä¸€ç³»åˆ—çš„ç“¦ç‰‡åæ ‡ç³»ã€‚\nClosestIndex æ­¤æ–¹æ³•ä¸ºè·å–ä¸ç»™å®šèŒƒå›´æœ€æ¥è¿‘çš„ç“¦ç‰‡åæ ‡ç³»ï¼Œå…¶ä»…ä»…é€‚ç”¨äºå°†ä¸€ä¸ªæ­£ç¡®çš„ç“¦ç‰‡çš„BBoxè½¬æ¢ä¸ºç“¦ç‰‡åæ ‡ï¼Œä¸é€‚ç”¨äºä»»æ„çš„BBoxï¼ˆå³éšæ„æ„é€ çš„BBoxï¼‰ã€‚\n// é¦–å…ˆæ˜¯æ‰¾åˆ°ä¸ç»™å®šçš„BBoxæœ€åŒ¹é…çš„TileMatrixçš„ç´¢å¼•ï¼Œå®ƒéå†æ‰€æœ‰å±‚çº§çš„ç“¦ç‰‡çŸ©é˜µï¼Œ // è®¡ç®—æ¯ä¸ªå±‚çº§çš„åˆ†è¾¨ç‡è¯¯å·®ï¼Œå¹¶é€‰æ‹©è¯¯å·®æœ€å°çš„å±‚çº§ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æ£€æŸ¥åˆ†è¾¨ç‡çš„ä¸€è‡´æ€§ï¼Œ // ç¡®ä¿ä¸ä¹‹å‰çš„æœ€ä½³åˆ†è¾¨ç‡ç›¸å·®ä¸è¶…è¿‡10%ã€‚ protected long[] closestIndex(BoundingBox tileBounds) throws MatrixMismatchException { double wRes = tileBounds.getWidth() / getMatrix(0).getTileWidth(); // ä¿å­˜æœ€å°çš„åˆ†è¾¨ç‡è¯¯å·®ï¼Œåˆå§‹å€¼ä¸ºæœ€å¤§åŒç²¾åº¦å€¼ï¼ˆæ— é™å¤§ï¼‰ double bestError = Double.MAX_VALUE; // ä¿å­˜æœ€ä½³çš„ç“¦ç‰‡çŸ©é˜µå±‚çº§ç´¢å¼•ï¼Œåˆå§‹å€¼ä¸º-1 int bestLevel = -1; // ä¿å­˜æœ€ä½³çš„åˆ†è¾¨ç‡ï¼Œåˆå§‹å€¼ä¸º-1.0 double bestResolution = -1.0; for (int i = 0; i \u0026lt; getNumLevels(); i++) { TileMatrix grid = getMatrix(i); double error = Math.abs(wRes - grid.getResolution()); if (error \u0026lt; bestError) { bestError = error; bestResolution = grid.getResolution(); bestLevel = i; } else { break; } } if (Math.abs(wRes - bestResolution) \u0026gt; (0.1 * wRes)) { throw new ResolutionMismatchException(wRes, bestResolution); } return closestIndex(bestLevel, tileBounds); } protected long[] closestIndex(int level, BoundingBox tileBounds) throws MatrixAlignmentMismatchException { TileMatrix grid = getMatrix(level); double width = grid.getResolution() * grid.getTileWidth(); double height = grid.getResolution() * grid.getTileHeight(); double x = (tileBounds.getMinX() - tileOrigin()[0]) / width; double y = (tileOrigin()[1] - tileBounds.getMaxY()) / height; long posX = Math.round(x); long posY = Math.round(y); if (Math.abs(x - posX) \u0026gt; 0.1 || Math.abs(y - posY) \u0026gt; 0.1) { throw new MatrixAlignmentMismatchException(x, posX, y, posY); } long[] ret = {posX, posY, level}; return ret; } ClosestRectangle æ­¤æ–¹æ³•å¯¹åº”ä¸Šæ–‡é™„å½•æåˆ°çš„å°†ç»™å®šBBoxè½¬æ¢ä¸ºå¯¹åº”çš„ä¸€ç³»åˆ—çš„ç“¦ç‰‡åæ ‡ç³»ã€‚å…¶åŒæ ·æ˜¯å…ˆæ‰¾åˆ°ä¸ç»™å®šçš„BBoxæœ€åŒ¹é…çš„TileMatrixçš„ç´¢å¼•ï¼Œè€Œåè®¡ç®—å¯¹åº”ç´¢å¼•å±‚çº§ä¸‹BBoxå¯¹åº”çš„ç“¦ç‰‡åæ ‡èŒƒå›´ã€‚è¯¥æ–¹æ³•é€‚ç”¨äºä»»æ„èŒƒå›´ã€‚\npublic long[] closestRectangle(BoundingBox rectangleBounds) { double rectWidth = rectangleBounds.getWidth(); double rectHeight = rectangleBounds.getHeight(); double bestError = Double.MAX_VALUE; int bestLevel = -1; // Now we loop over the resolutions until for (int i = 0; i \u0026lt; getNumLevels(); i++) { TileMatrix grid = getMatrix(i); double countX = rectWidth / (grid.getResolution() * grid.getTileWidth()); double countY = rectHeight / (grid.getResolution() * grid.getTileHeight()); double error = Math.abs(countX - Math.round(countX)) + Math.abs(countY - Math.round(countY)); if (error \u0026lt; bestError) { bestError = error; bestLevel = i; } else if (error \u0026gt;= bestError) { break; } } return closestRectangle(bestLevel, rectangleBounds); } protected long[] closestRectangle(int level, BoundingBox rectangeBounds) { TileMatrix grid = getMatrix(level); double width = grid.getResolution() * grid.getTileWidth(); double height = grid.getResolution() * grid.getTileHeight(); long minX = (long) Math.floor((rectangeBounds.getMinX() - tileOrigin()[0]) / width); long minY = (long) Math.floor((tileOrigin()[1] - rectangeBounds.getMaxY()) / height); long maxX = (long) Math.ceil(((rectangeBounds.getMaxX() - tileOrigin()[0]) / width)); long maxY = (long) Math.ceil(((tileOrigin()[1] - rectangeBounds.getMinY()) / height)); // We substract one, since that\u0026#39;s the tile at that position long[] ret = {minX, minY, maxX - 1, maxY - 1, level}; return ret; } TileMatrixSet in Geo Atlas å…¶å®åœ¨Geo Atlasï¼Œç”¨äºæ„å»ºçŸ¢é‡åˆ‡ç‰‡æœåŠ¡çš„JavaåŸºç¡€åº“ä¸€æ–‡ä¸­ä¹Ÿæ›¾æåˆ°ï¼ŒPyramidã€IO(in Library)ã€Tile Cacheæ¨¡å—å‡æ¥è‡ªGeoWebCacheï¼Œæ˜¯å¯¹å…¶è¿›è¡Œäº†æ‹†è§£å’Œå°‘é‡å˜æ›´ã€‚TileMatrixSetå°±æ˜¯æ¥è‡ªäºGeoWebCacheçš„GridSetï¼Œåœ¨æ­¤å¤„å¯¹å…¶è¿›è¡Œäº†å°‘é‡ä¿®æ”¹ï¼š\nåˆ‡ç‰‡åŸç‚¹ä¿®æ”¹ä¸ºå·¦ä¸Šè§’ï¼ˆGeoWebCacheé»˜è®¤è¿˜æ˜¯ä½¿ç”¨å·¦ä¸‹è§’ä½œä¸ºåˆ‡ç‰‡åŸç‚¹ï¼Œä¸è¿‡ä¹Ÿæ”¯æŒé…ç½®ä¸ºå·¦ä¸Šè§’ï¼‰\nå°†æ„é€ GridSetçš„SRSå˜æ›´ä¸ºçš„CRSï¼ˆä¸å†å‰²è£‚ï¼‰\né»˜è®¤æä¾›3857\u0026amp;4490ï¼ˆå…¶å®3857å°±æ˜¯900913ï¼Œåªä¸è¿‡GeoToolsåŸç”Ÿå¹¶æ²¡æœ‰æä¾›900913çš„åæ ‡ç³»å£°æ˜ï¼›æ­¤å¤„4490æ˜¯éµå¾ªå¤©åœ°å›¾CGCS2000ç»çº¬åº¦ç­‰é—´éš”ç›´æŠ•çš„å°ºåº¦åˆ†çº§æ„å»ºï¼ŒåŒ…å«0çº§ï¼‰\nTileMatrixSet WORLD_EPSG_3857 = TileMatrixSetFactory.createTileMatrixSet( projectedName, CRS.decode(\u0026#34;EPSG:3857\u0026#34;, true), BoundingBox.WORLD3857, CornerOfOrigin.TOP_LEFT, TileMatrixSetFactory.DEFAULT_LEVELS, null, TileMatrixSetFactory.DEFAULT_PIXEL_SIZE_METER, 256, 256, false); TileMatrixSet WORLD_EPSG_4490 = TileMatrixSetFactory.createTileMatrixSet( projectedName, CRS.decode(\u0026#34;EPSG:4490\u0026#34;, true), BoundingBox.WORLD4490, CornerOfOrigin.TOP_LEFT, 1.40625d, // å¤©åœ°å›¾ç»çº¬åº¦æŠ•å½±0çº§çš„åˆ†è¾¨ç‡ TileMatrixSetFactory.DEFAULT_LEVELS, TileMatrixSetFactory.EPSG_4326_TO_METERS, TileMatrixSetFactory.CGCS2000_PIXEL_SIZE_METER, 256, 256, false); å‘½åå˜æ›´ï¼Œå°†GridSetå˜æ›´ä¸ºTileMatrixSetï¼ŒGridå˜æ›´ä¸ºTileMatrixã€‚ç†ç”±æ˜¯ï¼šæ›´ç¬¦åˆç“¦ç‰‡çŸ©é˜µçš„å‘½åï¼ŒåŒæ—¶OGCä¸­ä¹Ÿæ˜¯å¦‚æ­¤å‘½åçš„ã€‚\nå°ç»“ ä¸‹ç¯‡å°è¯•ç€å¯¹TileMatrixSetçš„ç›¸å…³è®¡ç®—åŸç†è¿›è¡Œæ¢è®¨è¯´æ˜ï¼Œæ–‡ä¸­å…ˆåæè¿°äº†TileMatrixSetåœ¨GeoWebCacheåŠGeo Atlasä¸­çš„å®ç°ï¼ŒåŒæ—¶ç»“åˆå¤©åœ°å›¾æä¾›çš„ä¸¤ç§æŠ•å½±ï¼ˆWebå¢¨å¡æ‰˜ä»¥åŠCGCS2000ç»çº¬åº¦ç­‰é—´éš”ç›´æŠ•ï¼‰ä¸‹çš„ç“¦ç‰‡çŸ©é˜µé›†è¿›è¡Œè®¡ç®—éªŒè¯ã€‚æ•´ä½“çœ‹æ¥ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰äº›æ··ä¹±ï¼Œè®¡ç®—åŸç†éƒ¨åˆ†çš„è¯´æ˜ä¸å¤Ÿæ¸…æ™°ï¼Œæœªè¾¾æˆå¿ƒä¸­æƒ³è¦çš„æ ‡å‡†ï¼ˆå¸ƒå±€åˆç†ã€å‰åè¿è´¯ã€é€»è¾‘åˆ†æ˜ã€å±‚å±‚é€’è¿›ã€æœ—æœ—ä¸Šå£ï¼Œä¹Ÿæœªå¯çŸ¥å•Š ğŸ˜’ï¼‰ï¼Œå†æ¥å†å‰å§ï¼ ğŸ™„\nä¸ªäººç†è§£å§‹ç»ˆæœ‰é™ï¼Œå¦‚æœ‰å­˜åœ¨åé¢‡çš„æ–¹æ³•ï¼Œè¿˜å¸Œæœ›å¤§å®¶å¤šå¤šæŒ‡æ•™ ğŸ˜¬ğŸ¤ï¼\nå‚è€ƒ ç”µå­åœ°å›¾æ•°æ®è§„èŒƒ å†è°ˆTileMatrixSetï¼ŒäºŒç»´ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„çš„æ ‡å‡†å®šä¹‰ï¼ˆä¸Šï¼‰ Gridsets and Gridsubsets æ¯”ä¾‹å°ºä¸åˆ†è¾¨ç‡ å›½å†…ä¸»è¦åœ°å›¾ç“¦ç‰‡åæ ‡ç³»å®šä¹‰åŠè®¡ç®—åŸç† åˆ‡ç‰‡åœ°å›¾å…ƒä¿¡æ¯é…ç½®è¯´æ˜ Webå¢¨å¡æ‰˜æŠ•å½± ESRI-å¢¨å¡æ‰˜æŠ•å½± ç™¾åº¦ç™¾ç§‘-å¢¨å¡æ‰˜æŠ•å½± æœªç»æŠ•å½±çš„åœ°ç†åæ ‡ç³»å¦‚ä½•æ˜¾ç¤ºä¸ºå¹³é¢åœ°å›¾ ","permalink":"https://fuyi-atlas.github.io/posts/gis/what-is-tilematrixset-calculation-principle/","summary":"å‰è¨€ ä¹¦æ¥ä¸Šå›ï¼Œæœ¬ç« èŠ‚ä¸ºä¸‹ç¯‡ï¼šTileMatrixSetå®ç°åŠç›¸å…³è®¡ç®—åŸç†æ¢è®¨ã€‚\næœ¬ç« èŠ‚å°†ä»¥TileMatrixSetæ¨¡å‹çš„å…¸å‹å®ç°ï¼Œå³GeoWebCacheä¸­çš„Gridsetä½œä¸ºå¼€ç«¯ï¼Œå¯¹OGCä¸­TileMatrxSetæ¨¡å‹è¿›è¡Œå°è¯ã€‚è€Œåå¯¹TileMatrixSetç›¸å…³è®¡ç®—åŸç†è¿›è¡Œæ¢è®¨ï¼Œå¹¶ä»¥CGCS2000åˆ‡ç‰‡æ–¹æ¡ˆä¸ºä¾‹è¿›è¡ŒéªŒè¯ã€‚å¦é™„å¸¦è¯´æ˜TileMatrixSetåœ¨Geo Atlasä¸­çš„å®ç°åŠåº”ç”¨ ğŸ¤¨ã€‚\nGridset \u0026amp; TileMatrixSet è¿™é‡Œå°±ä¸å†å¯¹GeoWebCacheåšä»‹ç»äº†ï¼Œç›´æ¥åˆ‡å…¥ä¸»é¢˜ã€‚GeoWebCacheä¸­çš„Gridsetæ­£æ˜¯å¯¹åº”ç€TileMatrixSetæ¨¡å‹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹GeoWebCacheå¯¹äºGridsetçš„ç›¸å…³ä»‹ç»ï¼š\nGridsets and Gridsubsets Gridsets å’Œ Gridsubsets æ˜¯æŒ‡ GeoWebCache æ‰€æœåŠ¡çš„å›¾å±‚çš„ç©ºé—´å‚è€ƒç³»ç»Ÿï¼ˆthe spatial reference systemï¼‰ã€‚ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæ­£å¦‚ Tiles ä¸­æ‰€ä»‹ç»çš„ï¼ŒGeoWebCache ä¸å‚è€ƒç³»ç»Ÿæ— å…³ã€‚å½“ GeoWebCache å‘ WMS å‘å‡ºè¯·æ±‚æ—¶ï¼Œå®ƒä½¿ç”¨ Gridsets å’Œ Gridsubsets ä¿¡æ¯å°†å…¶å†…éƒ¨åˆ‡ç‰‡ç´¢å¼•è½¬æ¢ä¸º WMS å¯ä»¥ç†è§£çš„ç©ºé—´è¯·æ±‚ã€‚\nğŸ’¡ è¯´å®è¯ï¼Œæœ‰æ—¶å€™æˆ‘è§‰å¾—è€å¤–çš„å•°å—¦è¯æŒºå¤šçš„ï¼Œå…¶å®è¿™é‡Œå°±æ˜¯è¡¨è¾¾GeoWebCacheå°±æ˜¯ä½¿ç”¨ Gridsets å’Œ Gridsubsets å°†ç“¦ç‰‡åæ ‡è½¬æ¢ä¸ºç“¦ç‰‡å¯¹åº”çš„ç©ºé—´èŒƒå›´çš„ã€‚ä»å…¶å®ç°æ¥çœ‹ï¼Œæ­¤å¤„æ‰€è¿°çš„å†…éƒ¨åˆ‡ç‰‡ç´¢å¼•æ­£æ˜¯å¯¹åº”ç€ç“¦ç‰‡åæ ‡ç³»ã€‚\nä¸‹é¢åˆ†åˆ«å¯¹ Gridset å’Œ Gridsubset çš„æ„æˆè¿›è¡Œæè¿°ï¼Œæ­¤å¤„å¼•ç”¨åŸæ–‡ï¼š\nAÂ gridsetÂ is a global definition (i.e. not layer-specific) specifying:\nå…¨å±€å®šä¹‰å³å¯¹åº”ç€é€šç”¨çš„åˆ‡ç‰‡æ–¹æ¡ˆï¼Œæ‰€ä»¥ä¸æ˜¯ç‰¹å®šäºå±‚ï¼ˆå›¾å±‚ï¼‰çš„ã€‚\nA spatial reference system (EPSG code)\nå¯¹åº”ç€æŠ•å½±åæ ‡ç³»ã€‚\nA bounding box describing the extent, typically the maximum extent for the above reference system","title":"å†è°ˆTileMatrixSetï¼ŒäºŒç»´ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„çš„æ ‡å‡†å®šä¹‰ï¼ˆä¸‹ï¼‰"},{"content":"å‰è¨€ å…¶å®ï¼Œåœ¨æ­¤å‰çŸ¢é‡é‡‘å­—å¡”æŠ€æœ¯ç ”ç©¶ä¸€æ–‡ä¸­å·²ç»å¤§è‡´æåŠäº†ç“¦ç‰‡é‡‘å­—å¡”ä¸TileMatrixSetçš„å…³ç³»ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åœ¨è¿™é‡Œå†æ¬¡è¯´æ˜å‘¢ï¼Ÿä¸»è¦æ˜¯å‰æ–‡æ›´ä¾§é‡äºçŸ¢é‡é‡‘å­—å¡”çš„æ¦‚å¿µå®šä¹‰ï¼Œå¯¹äºTileMatrixSetçš„æè¿°è¿‡å°‘ï¼Œæ‰€ä»¥æ‰ä¼šå†æ¬¡å¯¹TileMatrixSetè¿›è¡Œè¯´æ˜ã€‚æœ¬æ–‡å°†åŸºäº OGC Two Dimensional Tile Matrix Set æ ‡å‡†å¯¹TileMatrixSetè¿›è¡Œç ”ç©¶æ¢è®¨ï¼Œå°†ä¾§é‡äºè¯´æ˜å…¶åŸºæœ¬æ„æˆè¦ç´ çš„å®šä¹‰ä»¥åŠæ•´ä½“çš„æŠ€æœ¯å®ç°ã€‚è€ŒGeoWebCacheä¸­çš„GridSetä½œä¸ºå…¸å‹å®ç°ï¼Œæœ¬æ–‡å°†ä¼šå¯¹å…¶è¿›è¡Œå†æ¬¡è¯´æ˜ï¼Œä»¥å°è¯OGC å…³äºTileMatrixSetçš„å®šä¹‰ã€‚ç”±äºå†…å®¹è¾ƒå¤šï¼Œæœ¬æ–‡å°†åˆ†ä¸ºä¸‹ä¸Šä¸¤ä¸ªç¯‡ç« è¿›è¡Œæè¿°ã€‚ä¸Šç¯‡æ˜¯å¯¹TileMatrixSetä»¥åŠå…¶æ„æˆè¦ç´ çš„åŸºæœ¬æ¦‚å¿µè¿›è¡Œæè¿°ï¼Œè€Œä¸‹ç¯‡åˆ™æ˜¯å¯¹GeoWebCacheä¸­çš„GridSetå®ç°è¿›è¡Œç ”ç©¶ï¼ŒåŒæ—¶ç»“åˆæˆ‘å›½CGCS2000åˆ‡ç‰‡æ–¹æ¡ˆå¯¹TileMatrixSetæ ¼ç½‘åˆ’åˆ†è®¡ç®—åŸç†è¿›è¡Œæ¢è®¨ï¼Œå¦é™„å¸¦è¯´æ˜Geo Atlasä¸­å…³äºæ­¤æ¨¡å—çš„å®ç°ç»†èŠ‚ã€‚\næœ¬ç« èŠ‚ä¸ºä¸Šç¯‡ï¼šTileMatrixSetåŠå…¶æ„æˆè¦ç´ çš„åŸºæœ¬æ¦‚å¿µã€‚\nä»€ä¹ˆæ˜¯TileMatrixSetï¼Ÿ TileMatrixSetï¼Œå³Tile Matrix Setï¼Œæºè‡ª OGC Two Dimensional Tile Matrix Set(ç›®å‰å·²æ›´æ–°åˆ°v2)ã€‚è¯¥æ ‡å‡†å®šä¹‰äº†ç“¦ç‰‡çŸ©é˜µé›†çš„è§„åˆ™å’Œè¦æ±‚ï¼Œä½œä¸ºä¸€ç§åŸºäºä¸€ç»„è§„åˆ™ç½‘æ ¼å¯¹ç©ºé—´è¿›è¡Œç´¢å¼•çš„æ–¹å¼ï¼Œè¿™äº›è§„åˆ™ç½‘æ ¼ä¸ºåæ ‡å‚è€ƒç³»ç»Ÿä¸­æœ‰é™æ¯”ä¾‹åˆ—è¡¨å®šä¹‰äº†ä¸€ä¸ªåŸŸï¼ˆç“¦ç‰‡çŸ©é˜µï¼‰ã€‚\nğŸ’¡ The OGC Two Dimensional Tile Matrix Set and Tile Set Metadata Standard defines the rules and requirements for a tile matrix set as a way to index space based on a set of regular grids defining a domain (tile matrix) for a limited list of scales in a Coordinate Reference System.\nåœ¨ç“¦ç‰‡çŸ©é˜µé›†ä¸­ï¼Œæ¯ä¸ªç“¦ç‰‡çŸ©é˜µè¢«åˆ’åˆ†ä¸ºè§„åˆ™çš„ç“¦ç‰‡ã€‚åœ¨ç“¦ç‰‡çŸ©é˜µé›†åˆä¸­ï¼Œç“¦ç‰‡å¯ä»¥ç”±ç“¦ç‰‡åˆ—ã€ç“¦ç‰‡è¡Œå’Œç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦ï¼ˆå³çŸ©é˜µé›†æ ‡è¯†ä¸å±‚æ ‡è¯†ï¼‰æ¥å”¯ä¸€åœ°æ ‡è¯†ã€‚\nğŸ’¡ In a tile matrix set, each tile matrix is divided into regular tiles. In a tile matrix set, a tile can be univocally identified by a tile column, a tile row, and a tile matrix identifier.\nå†æ¥çœ‹çœ‹Tiles APIä¸­çš„æè¿°ï¼šè¯¥æ ‡å‡†å®šä¹‰äº†ç”¨äºæŒ‡å®šç“¦ç‰‡çŸ©é˜µé›†å’Œæè¿°ç“¦ç‰‡é›†çš„é€»è¾‘æ¨¡å‹å’Œç¼–ç ã€‚ä¸€ä¸ªç“¦ç‰‡çŸ©é˜µé›†ä»£è¡¨ä¸€ç§åˆ‡ç‰‡æ–¹æ¡ˆï¼Œå®ƒä½¿å¾—åº”ç”¨ç¨‹åºèƒ½å¤ŸåŸºäºåæ ‡å‚è€ƒç³»ç»Ÿ (CRS) ä¸­ä¸ºå¤šä¸ªå°ºåº¦ï¼ˆæ¯”ä¾‹åˆ†çº§ï¼‰å®šä¹‰çš„ä¸€ç»„è§„åˆ™ç½‘æ ¼æ¥åˆ†åŒºå’Œç´¢å¼•ç©ºé—´ã€‚\nğŸ’¡ That Standard defines logical models and encodings for specifying tile matrix sets and describing tile sets. A tile matrix set is a tiling scheme that enables an application to partition and index space based on a set of regular grids defined for multiple scales in a Coordinate Reference System (CRS).\nä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥è·å–åˆ°å¦‚ä¸‹å‡ ä¸ªä¿¡æ¯ï¼š\nå®ƒæ˜¯ç”¨äºå¯¹ç©ºé—´è¿›è¡Œåˆ†åŒºå’Œç´¢å¼•çš„ä¸€ç§æ–¹å¼æ–¹æ³• åŸºäºæŸä¸ªåæ ‡å‚è€ƒç³»ç»Ÿï¼Œå¹¶åŸºäºè¯¥åæ ‡å‚è€ƒç³»ç»ŸæŒæœ‰çš„ä¸€ç»„æœ‰é™æ¯”ä¾‹åˆ—è¡¨ï¼ˆå°ºåº¦åˆ†çº§ï¼‰ è¡¨ç°ä¸ºä¸€ç»„è§„åˆ™æ ¼ç½‘ï¼Œä¸”è¯¥ç»„æ ¼ç½‘ä¸æœ‰é™å°ºåº¦åˆ†çº§åˆ—è¡¨ä¸€ä¸€å¯¹åº” åŸºäºæ­¤ï¼Œå¯ä»¥ç¡®å®šTileMatrixSetæ­£æ˜¯å¯¹åº”ç€ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ã€‚TileMatrixSetåŸºäºçš„åæ ‡ç³»å¯¹åº”ç€ç“¦ç‰‡é‡‘å­—å¡”çš„ç“¦ç‰‡æŠ•å½±åæ ‡ç³»ï¼Œæ ¼ç½‘è¡¨è¾¾å¯¹åº”ç€ç“¦ç‰‡ç»„ç»‡ç»“æ„ä¸ç“¦ç‰‡åæ ‡ç³»ï¼Œæœ‰é™å°ºåº¦åˆ†çº§å¯¹åº”ç“¦ç‰‡é‡‘å­—å¡”å°ºåº¦åˆ†å±‚ã€‚ä»ç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹æ¥è¯´ï¼ŒTileMatrixSetåŸºäºå¤šå°ºåº¦åˆ†çº§å®ç°é‡‘å­—å¡”çš„å¤šå°ºåº¦åˆ†å±‚è¡¨è¾¾ï¼Œå¹¶åŸºäºæ­¤ä¸ºæ¯ä¸€ä¸ªå°ºåº¦å®šä¹‰äº†ä¸€ä¸ªè¾¹ç•Œï¼Œè€ŒååŸºäºä¸€å®šè§„åˆ™è¿›è¡Œæ ¼ç½‘åˆ’åˆ†è¿›è€Œå½¢æˆä¸€ä¸ªåŸŸï¼ˆç“¦ç‰‡çŸ©é˜µï¼‰ï¼Œæ­¤ä¸ºåˆ†å—ã€‚\nå¯¹äºåˆ†å±‚ä»¥åŠåˆ†å±‚åˆ†å—çš„å·®å¼‚å¯å‚è§å¦‚ä¸‹ä¸¤å›¾ï¼š\næœ¯è¯­ Cellï¼ˆå•å…ƒï¼‰ minimum geometrical spaces delimited by the grid lines of a regular grid.\nç”±è§„åˆ™ç½‘æ ¼çš„ç½‘æ ¼çº¿ç•Œå®šçš„æœ€å°å‡ ä½•ç©ºé—´ã€‚\nNote 1 : in 2D spaces, cells are often referred as pixels.\nåœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œå•å…ƒé€šå¸¸ç§°ä¸ºåƒç´ ã€‚\nNote 2 : In this standard, the term pixel is reserved to the individual elements of a visualization device. Tiles are composed by regular grid cells that can be made partially coincident with the pixels of a visualization device for display purposes.\nåœ¨æœ¬æ ‡å‡†ä¸­ï¼Œæœ¯è¯­â€œåƒç´ â€ä¸“æŒ‡å¯è§†åŒ–è®¾å¤‡çš„å•ä¸ªå…ƒç´ ã€‚ç“¦ç‰‡ç”±è§„åˆ™ç½‘æ ¼å•å…ƒç»„æˆï¼Œè¿™äº›ç½‘æ ¼å•å…ƒå¯ä»¥éƒ¨åˆ†ä¸å¯è§†åŒ–è®¾å¤‡çš„åƒç´ é‡åˆï¼Œä»¥ç”¨äºæ˜¾ç¤ºç›®çš„ã€‚\nRaster Tileï¼ˆæ …æ ¼åˆ‡ç‰‡ï¼‰ tile that contains information in a gridded form. Commonly the values of the grid represent colors of each cell in the grid for immediate pictorial representation on visualization devices, but can also be coverage subsets.\nåŒ…å«ç½‘æ ¼å½¢å¼ä¿¡æ¯çš„åˆ‡ç‰‡ã€‚é€šå¸¸ï¼Œç½‘æ ¼çš„å€¼è¡¨ç¤ºç½‘æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼çš„é¢œè‰²ï¼Œä»¥ä¾¿åœ¨å¯è§†åŒ–è®¾å¤‡ä¸Šç«‹å³è¿›è¡Œå›¾å½¢è¡¨ç¤ºï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯è¦†ç›–å­é›†ã€‚\nğŸ’¡ Coverageï¼šè¡¨ç¤ºç©ºé—´ä¸Šå˜åŒ–çš„ç°è±¡ï¼ˆå¯ä»¥æ˜¯ç¦»æ•£çš„æˆ–è¿ç»­çš„ï¼‰ã€‚è¦†ç›–å¯ä»¥æ˜¯å¤šç§å½¢å¼çš„æ•°æ®ï¼Œä¾‹å¦‚æ …æ ¼ã€ç‚¹äº‘ã€å¤šè¾¹å½¢ç­‰ã€‚ç”¨äºæè¿°å’Œå­˜å‚¨ç©ºé—´ç°è±¡çš„å˜åŒ–ï¼Œå¯ä»¥æ˜¯æ¸©åº¦ã€é™æ°´é‡ã€é«˜ç¨‹ç­‰ã€‚ä¾‹å¦‚ï¼Œæ•°å­—é«˜ç¨‹æ¨¡å‹ï¼ˆDEMï¼‰æ˜¯ä¸€ç§è¦†ç›–ï¼Œè¡¨ç¤ºåœ°å½¢çš„é«˜ç¨‹ã€‚å¯ä»¥ä»¥å¤šç§æ ¼å¼å­˜å‚¨ï¼ŒåŒ…æ‹¬ NetCDFã€GeoTIFFã€HDF ç­‰ã€‚\nCoverage Subsetsï¼šè¿™æŒ‡çš„æ˜¯ä»æ›´å¤§çš„è¦†ç›–æ•°æ®é›†ä¸­æå–ç‰¹å®šéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æ‹¥æœ‰ä¸€ä¸ªå…¨çƒæ¸©åº¦æ•°æ®é›†ï¼Œä½†åªéœ€è¦è¦†ç›–æ¬§æ´²çš„å­é›†ã€‚å­é›†æå–ä½¿ä½ å¯ä»¥æå–å¹¶å¤„ç†ä½ éœ€è¦çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œé€šå¸¸åŸºäºç©ºé—´æˆ–æ—¶é—´æ ‡å‡†ã€‚\næ …æ ¼æ˜¯Coverageçš„ä¸€ç§ç‰¹å®šå½¢å¼ï¼Œè¡¨ç¤ºä¸ºä¸€ä¸ªç½‘æ ¼ï¼Œæ¯ä¸ªç½‘æ ¼å•å…ƒï¼ˆåƒç´ ï¼‰éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚æ …æ ¼æ•°æ®é€šå¸¸ç”¨äºè¡¨ç¤ºè¿ç»­çš„ç©ºé—´ç°è±¡ã€‚æ …æ ¼æ•°æ®å¹¿æ³›ç”¨äºé¥æ„Ÿå›¾åƒã€åœŸåœ°è¦†ç›–åˆ†ç±»ã€æ°”è±¡æ•°æ®ç­‰ã€‚ä¾‹å¦‚ï¼Œå«æ˜Ÿå›¾åƒæ˜¯ä¸€ç§å¸¸è§çš„æ …æ ¼æ•°æ®ï¼Œæ¯ä¸ªåƒç´ è¡¨ç¤ºè¯¥ä½ç½®çš„åå°„ç‡å€¼ã€‚æ …æ ¼æ•°æ®é€šå¸¸ä»¥å›¾åƒæ ¼å¼å­˜å‚¨ï¼Œä¾‹å¦‚ GeoTIFFã€JPEGã€PNG ç­‰ï¼Œä¹Ÿå¯ä»¥ä»¥ç½‘æ ¼æ ¼å¼å­˜å‚¨ï¼Œä¾‹å¦‚ ASCII Gridã€ESRI Grid ç­‰ã€‚\nps: æœ¬æ®µå†…å®¹æ¥è‡ªChatGPT\nspace partitioningï¼ˆç©ºé—´åˆ†åŒºï¼‰ process of dividing a geometric space (usually a Euclidean space) into two or more disjoint subsets (see also partition of a set). Space partitioning divides a space into non-overlapping regions. Any point in the space can then be identified to lie in exactly one of the regions.\nå°†å‡ ä½•ç©ºé—´ï¼ˆé€šå¸¸æ˜¯æ¬§å‡ é‡Œå¾—ç©ºé—´ï¼‰åˆ’åˆ†ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªä¸ç›¸äº¤å­é›†çš„è¿‡ç¨‹ï¼ˆå¦è¯·å‚è§é›†åˆçš„åˆ’åˆ†ï¼‰ã€‚ç©ºé—´åˆ†åŒºå°†ç©ºé—´åˆ’åˆ†ä¸ºä¸é‡å çš„åŒºåŸŸã€‚ç„¶åå¯ä»¥è¯†åˆ«ç©ºé—´ä¸­çš„ä»»ä½•ç‚¹æ°å¥½ä½äºå…¶ä¸­ä¸€ä¸ªåŒºåŸŸ\ntessellationï¼ˆç»†åˆ†æ›²é¢ï¼‰ partitioning of a space into a set of conterminous subspaces having the same dimension as the space being partitioned.\nå°†ç©ºé—´åˆ’åˆ†ä¸ºä¸€ç»„ä¸è¢«åˆ’åˆ†ç©ºé—´å…·æœ‰ç›¸åŒç»´åº¦çš„è¿ç»­å­ç©ºé—´ã€‚\nNote 1 : A tessellation composed of congruent regular polygons or polyhedra is a regular tessellation. One composed of regular, but non-congruent polygons or polyhedra is a semiregular tessellation. Otherwise the tessellation is irregular.\nç”±å…¨ç­‰çš„æ­£å¤šè¾¹å½¢æˆ–å¤šé¢ä½“ç»„æˆçš„é•¶åµŒæ˜¯æ­£åˆ™é•¶åµŒã€‚ç”±è§„åˆ™ä½†ä¸å…¨ç­‰çš„å¤šè¾¹å½¢æˆ–å¤šé¢ä½“ç»„æˆçš„ä¸€ç§æ˜¯åŠè§„åˆ™é•¶åµŒã€‚å¦åˆ™é•¶åµŒæ˜¯ä¸è§„åˆ™çš„ã€‚\nğŸ’¡ tessellationï¼šå°†äºŒç»´åŒºåŸŸåˆ’åˆ†ä¸ºå¤šè¾¹å½¢å—ï¼Œæˆ–å°†ä¸‰ç»´åŒºåŸŸåˆ’åˆ†ä¸ºå¤šé¢ä½“å—ï¼Œè¿™æ ·å°±ä¸ä¼šå­˜åœ¨å›¾å½¢é‡å å’Œä»»ä½•é—´éš™ã€‚ï¼ˆæ¥è‡ªESRIçš„GISå­—å…¸ï¼‰\nTileï¼ˆç“¦ç‰‡ï¼‰ In the context of a 2D tile matrix, a tile is one of the rectangular regions of space, which can be uniquely identified by an integer row and column, making up the tile matrix.\nåœ¨ 2D ç“¦ç‰‡çŸ©é˜µçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œç“¦ç‰‡æ˜¯ç©ºé—´çš„çŸ©å½¢åŒºåŸŸä¹‹ä¸€ï¼Œå¯ä»¥é€šè¿‡æ„æˆç“¦ç‰‡çŸ©é˜µçš„æ•´æ•°è¡Œå’Œåˆ—æ¥å”¯ä¸€æ ‡è¯†ã€‚\nIn the context of a geospatial data tile set, a tile contains data for such a partition of space as part of an overall set of tiles for that tiled geospatial data.\nåœ¨åœ°ç†ç©ºé—´æ•°æ®ç“¦ç‰‡é›†çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œç“¦ç‰‡åŒ…å«è¿™æ ·çš„ç©ºé—´åˆ†åŒºçš„æ•°æ®ï¼Œä½œä¸ºè¯¥ç“¦ç‰‡åœ°ç†ç©ºé—´æ•°æ®çš„æ•´ä¸ªç“¦ç‰‡ç»„çš„ä¸€éƒ¨åˆ†\nNote 2 : Tiles are useful to efficiently request, transfer, cache, display, store and process geospatial data for a specific resolution and area of interest, providing deterministic performance and scalability for arbitrarily large datasets.\nç“¦ç‰‡å¯æœ‰æ•ˆåœ°è¯·æ±‚ã€ä¼ è¾“ã€ç¼“å­˜ã€æ˜¾ç¤ºã€å­˜å‚¨å’Œå¤„ç†ç‰¹å®šåˆ†è¾¨ç‡å’Œæ„Ÿå…´è¶£åŒºåŸŸçš„åœ°ç†ç©ºé—´æ•°æ®ï¼Œä¸ºä»»æ„å¤§çš„æ•°æ®é›†æä¾›ç¡®å®šæ€§çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚\nNote 3: Tiles can contain a variety of data types, such as grid-based pictorial representations (map tiles), coverage subsets (coverage tiles), or feature-based representations (vector tiles).\nç“¦ç‰‡å¯ä»¥åŒ…å«å¤šç§æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚åŸºäºç½‘æ ¼çš„ç“¦ç‰‡è¡¨ç¤ºï¼ˆæ …æ ¼åœ°å›¾ç“¦ç‰‡ï¼‰ã€è¦†ç›–å­é›†ï¼ˆè¦†ç›–ç“¦ç‰‡ï¼‰æˆ–åŸºäºç‰¹å¾çš„è¡¨ç¤ºï¼ˆçŸ¢é‡ç“¦ç‰‡ï¼‰ã€‚\nTiling Schemaï¼ˆåˆ‡ç‰‡æ–¹æ¡ˆï¼‰ scheme that defines how space is partitioned into individual tiles, potentially featuring multiple levels of detail (each tiling at a different granularity to reflect a different resolution or scale).\nå®šä¹‰å¦‚ä½•å°†ç©ºé—´åˆ’åˆ†ä¸ºå„ä¸ªç“¦ç‰‡çš„æ–¹æ¡ˆï¼Œå¯èƒ½å…·æœ‰å¤šä¸ªç»†èŠ‚å±‚æ¬¡ï¼ˆæ¯ä¸ªå±‚æ¬¡ç“¦ç‰‡çš„ç²’åº¦ä¸åŒï¼Œä»¥åæ˜ ä¸åŒçš„åˆ†è¾¨ç‡æˆ–æ¯”ä¾‹ï¼‰\nA tiling scheme defines the spatial reference system and the geometric properties of each tile defined by the scheme. Those properties include which space each tile occupies, i.e. its extent, as well as a tile coordinate origin if a particular corner of origin convention is established.\nåˆ‡ç‰‡æ–¹æ¡ˆå®šä¹‰äº†ç©ºé—´å‚è€ƒç³»ç»Ÿä»¥åŠè¯¥æ–¹æ¡ˆå®šä¹‰çš„æ¯ä¸ªåˆ‡ç‰‡çš„å‡ ä½•å±æ€§ã€‚è¿™äº›å±æ€§ï¼ˆå‡ ä½•å±æ€§ï¼‰åŒ…æ‹¬æ¯ä¸ªåˆ‡ç‰‡å æ®çš„ç©ºé—´ï¼Œå³å…¶èŒƒå›´ï¼Œä»¥åŠåˆ‡ç‰‡åæ ‡åŸç‚¹ï¼ˆå¦‚æœå»ºç«‹äº†ç‰¹å®šçš„åŸç‚¹çº¦å®šè§’ï¼‰ã€‚\nğŸ’¡ psï¼šéš¾é“ä¸åº”è¯¥å¼ºåˆ¶è¦æ±‚ï¼Œå¿…é¡»è¿›è¡Œåˆ‡ç‰‡åæ ‡åŸç‚¹çš„æŒ‡å®šå—ï¼Ÿæ— è®ºæ˜¯å·¦ä¸Šè§’è¿˜æ˜¯å·¦ä¸‹è§’è¿˜æ˜¯å…¶ä»–ğŸ¤”\nTile Matrixï¼ˆç“¦ç‰‡çŸ©é˜µï¼‰ tiling grid in a given 2D coordinate reference system, associated to a specific scale and partitioning space into regular conterminous tiles, each of which being assigned a unique identifier.\nåœ¨ç»™å®šçš„äºŒç»´åæ ‡å‚è€ƒç³»ç»Ÿä¸­å¹³é“ºç½‘æ ¼ï¼Œä¸ç‰¹å®šæ¯”ä¾‹ç›¸å…³è”ï¼Œå¹¶å°†ç©ºé—´åˆ’åˆ†ä¸ºè§„åˆ™çš„è¿ç»­ç“¦ç‰‡ï¼Œæ¯å—ç“¦ç‰‡éƒ½è¢«åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚\nNote 1 to entry: Each tile of a tile matrix is uniquely identifiable by a row and a column integer indices. The number of rows is referred to as the matrix height, while the maximum number of columns is referred to as the matrix width (the number of columns can vary for different rows in variable width tile matrices).\nç“¦ç‰‡çŸ©é˜µçš„æ¯å—ç“¦ç‰‡éƒ½å¯ä»¥é€šè¿‡è¡Œå’Œåˆ—æ•´æ•°ç´¢å¼•æ¥å”¯ä¸€æ ‡è¯†ã€‚è¡Œæ•°ç§°ä¸ºçŸ©é˜µé«˜åº¦ï¼Œè€Œæœ€å¤§åˆ—æ•°ç§°ä¸ºçŸ©é˜µå®½åº¦ï¼ˆå¯å˜å®½åº¦ç“¦ç‰‡çŸ©é˜µä¸­çš„ä¸åŒè¡Œçš„åˆ—æ•°å¯èƒ½ä¸åŒï¼‰ã€‚\nğŸ’¡ ç“¦ç‰‡çŸ©é˜µï¼Œå¯¹åº”çš„æ˜¯ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ä¸­çš„é‡‘å­—å¡”åˆ†å±‚ï¼Œæ˜¯åœ¨ç‰¹å®šæ¯”ä¾‹ï¼ˆå°ºåº¦ï¼‰ä¸‹ï¼ŒåŸºäºæŸç§è§„åˆ™è¿›è¡Œæ ¼ç½‘åˆ’åˆ†åå½¢æˆçš„ä¸€ä¸ªåŸŸã€‚\nTile Matrix Setï¼ˆç“¦ç‰‡çŸ©é˜µé›†ï¼‰ tiling scheme consisting of a set of tile matrices defined at different scales covering approximately the same area and having a common coordinate reference system.\nåˆ‡ç‰‡æ–¹æ¡ˆç”±ä¸€ç»„ä»¥ä¸åŒæ¯”ä¾‹å®šä¹‰çš„åˆ‡ç‰‡çŸ©é˜µç»„æˆï¼Œè¦†ç›–å¤§è‡´ç›¸åŒçš„åŒºåŸŸå¹¶å…·æœ‰å…¬å…±åæ ‡å‚è€ƒç³»ã€‚\nğŸ’¡ Tile Matrix Setå³ä¸ºåˆ‡ç‰‡æ–¹æ¡ˆï¼ˆTiling Schemaï¼‰çš„ä¸€ç§å…·ä½“å®ç°ï¼Œæ•…åœ¨æ­¤å¯å°†å…¶ç§°ä¸ºåˆ‡ç‰‡æ–¹æ¡ˆã€‚è¿™ä¹Ÿå¯¹åº”ç€OGC Tiles APIä¸­æ‰€è¿°ï¼šä¸€ä¸ªç“¦ç‰‡çŸ©é˜µé›†ä»£è¡¨ä¸€ç§åˆ‡ç‰‡æ–¹æ¡ˆï¼ˆA tile matrix set is a tiling schemeï¼‰\nTile Indexing Schemeï¼ˆç“¦ç‰‡ç´¢å¼•æ–¹æ¡ˆï¼‰ scheme allowing to uniquely reference a tile in a tiling scheme by the use of a unique identifier (or set of identifiers), and reversely, which unique identifier (or unique set of identifiers) corresponds to a space satisfying the geometric properties of a specific tile.\nå…è®¸é€šè¿‡ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆæˆ–æ ‡è¯†ç¬¦é›†ï¼‰æ¥å”¯ä¸€å¼•ç”¨åˆ‡ç‰‡æ–¹æ¡ˆä¸­çš„ç“¦ç‰‡çš„æ–¹æ¡ˆï¼Œåä¹‹äº¦ç„¶ï¼Œè¯¥å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆæˆ–å”¯ä¸€æ ‡è¯†ç¬¦é›†ï¼‰å¯¹åº”äºæ»¡è¶³ç‰¹å®šç“¦ç‰‡çš„å‡ ä½•å±æ€§çš„ç©ºé—´ã€‚\nğŸ’¡ ç“¦ç‰‡ç´¢å¼•æ–¹æ¡ˆå¯¹åº”ç“¦ç‰‡åæ ‡ç³»ï¼Œä¸Šé¢æè¿°çš„æ˜¯ç“¦ç‰‡åæ ‡ç³»ï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦æˆ–æ ‡è¯†ç¬¦é›†ï¼Œå¦‚ï¼šxã€yã€zï¼‰ä¸åŸºäºç©ºé—´å‚è€ƒä¸‹ç“¦ç‰‡å æ®çš„ç©ºé—´ï¼ˆå³å…¶èŒƒå›´ï¼ŒBBoxï¼‰ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œå¯ä»¥ç›¸äº’è½¬æ¢ã€‚\nTile Setï¼ˆåˆ‡ç‰‡é›†ï¼‰ a set of tiles resulting from tiling data according to a particular tiling scheme.\næ ¹æ®ç‰¹å®šåˆ‡ç‰‡æ–¹æ¡ˆç”±åˆ‡ç‰‡æ•°æ®ç”Ÿæˆçš„ä¸€ç»„åˆ‡ç‰‡ã€‚\nğŸ’¡ ä»ä½¿ç”¨ä¸Šæ¥è¯´ï¼Œå¯ä»¥æ˜¯é€»è¾‘çš„ï¼ˆé€»è¾‘å­˜åœ¨ï¼Œä½†è¿˜æœªç”Ÿæˆçš„ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰©ç†å­˜åœ¨çš„ã€‚\nTile Set Metadataï¼ˆåˆ‡ç‰‡é›†å…ƒæ•°æ®ï¼‰ additional metadata beyond the common properties defining the tile set. Such metadata could be an abstract, the owner, the author, or other common metadata.\né™¤äº†å®šä¹‰åˆ‡ç‰‡é›†çš„å…¬å…±å±æ€§ä¹‹å¤–çš„å…¶ä»–å…ƒæ•°æ®ã€‚æ­¤ç±»å…ƒæ•°æ®å¯ä»¥æ˜¯æ‘˜è¦ã€æ‰€æœ‰è€…ã€ä½œè€…æˆ–å…¶ä»–å¸¸è§å…ƒæ•°æ®ã€‚\nmetadata describing common properties defining a tile set, layers and styles used to produce the tile set, the limits of the tile matrix with actual data and common metadata such as abstract, owner, author, etc.\næè¿°å®šä¹‰åˆ‡ç‰‡é›†çš„å…¬å…±å±æ€§çš„å…ƒæ•°æ®ã€ç”¨äºç”Ÿæˆåˆ‡ç‰‡é›†çš„å›¾å±‚å’Œæ ·å¼ã€å…·æœ‰å®é™…æ•°æ®çš„ç“¦ç‰‡çŸ©é˜µçš„é™åˆ¶ä»¥åŠå…¬å…±å…ƒæ•°æ®ï¼ˆä¾‹å¦‚æ‘˜è¦ã€æ‰€æœ‰è€…ã€ä½œè€…ç­‰ï¼‰ã€‚\nğŸ’¡ æ€»çš„æ¥è¯´ï¼Œåˆ‡ç‰‡é›†å…ƒæ•°æ®æä¾›æœ‰å…³åˆ‡ç‰‡é›†çš„é¢„æœŸç”¨é€”ä»¥åŠå…¶ä¸­åŒ…å«çš„åŸç‚¹ã€è®¿é—®é™åˆ¶ã€åˆ‡ç‰‡æ–¹æ¡ˆã€å›¾å±‚ã€è¦ç´ å±æ€§ä»¥åŠå…¬å…±å…ƒæ•°æ®ï¼ˆä¾‹å¦‚æ‘˜è¦ã€æ‰€æœ‰è€…ã€ä½œè€…ç­‰ï¼‰ä¿¡æ¯\nVector Tileï¼ˆçŸ¢é‡åˆ‡ç‰‡ï¼‰ tile that contains vector information that has been generalized (simplified) at the tile scale resolution and clipped by the tile boundaries.\nåŒ…å«å·²æŒ‰ç“¦ç‰‡æ¯”ä¾‹åˆ†è¾¨ç‡æ¦‚æ‹¬ï¼ˆç®€åŒ–ï¼‰å¹¶ç”±ç“¦ç‰‡è¾¹ç•Œè£å‰ªçš„çŸ¢é‡ä¿¡æ¯çš„åˆ‡ç‰‡ã€‚\nğŸ’¡ å®é™…æƒ…å†µä¸‹ï¼Œå¦‚GeoServeræ‰€æ”¯æŒçš„çŸ¢é‡åˆ‡ç‰‡ï¼Œå…¶å¯¹äºçŸ¢é‡æ•°æ®çš„æ¦‚æ‹¬ï¼ˆç®€åŒ–ï¼‰åšçš„å¹¶ä¸å¥½ã€‚\nWell-Known Scale Setï¼ˆé€šç”¨æ¯”ä¾‹é›†ï¼‰ well-known combination of a coordinate reference system and a set of scales that a tile matrix set declares support for.\nä¼—æ‰€å‘¨çŸ¥çš„åæ ‡å‚è€ƒç³»ç»Ÿå’Œç“¦ç‰‡çŸ©é˜µé›†å£°æ˜æ”¯æŒçš„ä¸€ç»„æ¯”ä¾‹çš„ç»„åˆã€‚\nğŸ’¡ å…¶å®å°±æ˜¯ä¸€äº›é€šç”¨çš„ï¼Œå…¬çŸ¥çš„æ¯”ä¾‹å°ºåˆ†çº§æ–¹æ¡ˆï¼Œæ¯”å¦‚ï¼šåŸºäºWebå¢¨å¡æ‰˜æŠ•å½±çš„æ¯”ä¾‹å°ºåˆ†çº§ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä»…ä»…åªæœ‰æ¯”ä¾‹å°ºåˆ†çº§ï¼Œåªæ˜¯TileMatrixSetçš„ä¸€éƒ¨åˆ†ï¼Œä¸¤ä¸ªå¹¶ä¸ç›¸ç­‰ã€‚\næ„æˆè¦ç´ çš„åŸºæœ¬ç†å¿µä¸æ¨¡å‹å®šä¹‰ æ­¤å¤„ä¸»è¦æè¿°åœ¨äºŒç»´ç©ºé—´ä¸­ï¼ŒTileMatrixSetçš„æ„æˆè¦ç´ ä¸é€»è¾‘æ¨¡å‹å®šä¹‰ã€‚\nä»TileMatrixSetçš„å®šä¹‰ï¼ˆåˆ‡ç‰‡æ–¹æ¡ˆç”±ä¸€ç»„ä»¥ä¸åŒæ¯”ä¾‹å®šä¹‰çš„åˆ‡ç‰‡çŸ©é˜µç»„æˆï¼Œè¦†ç›–å¤§è‡´ç›¸åŒçš„åŒºåŸŸå¹¶å…·æœ‰å…¬å…±åæ ‡å‚è€ƒç³»ï¼‰å¯çŸ¥ï¼ŒTile Matrixã€å°ºåº¦åˆ†çº§é›†åˆä»¥åŠç“¦ç‰‡åæ ‡ç³»å°±æ˜¯TileMatrixSetçš„ä¸»è¦æ„æˆè¦ç´ ã€‚\nTile Matrix å¯ä»¥ä¸ºç“¦ç‰‡å®šä¹‰ä¸¤ä¸ªä¸»è¦ç”¨ä¾‹ï¼šå­˜å‚¨å’Œå¯è§†åŒ–ã€‚å½“ç“¦ç‰‡åœ¨å¯è§†åŒ–è®¾å¤‡ä¸­æ¸²æŸ“æ—¶ï¼Œç©ºé—´ä»¥åƒç´ ä¸ºå•ä½è¿›è¡Œé‡åŒ–ï¼Œå¹¶ä»¥å°ºå¯¸ä¸ºç‰¹å¾ï¼Œå°±ä¼šå‡ºç°æ¯”ä¾‹çš„æ¦‚å¿µã€‚ç„¶åï¼Œå‰ä¸¤ä¸ªç©ºé—´ç»´åº¦çš„CRSå•ä½çš„ç“¦ç‰‡å¤§å°å’Œå¯è§†åŒ–è®¾å¤‡åƒç´ çš„å¤§å°å˜å¾—ç›¸å…³ã€‚ä¸¤ä¸ªç©ºé—´ç»´åº¦ä¸è®¾å¤‡çš„åƒç´ è½´å¯¹é½ã€‚\nåœ¨æ …æ ¼ç“¦ç‰‡ä¸­ï¼Œå®šä¹‰äº†ä¸ç“¦ç‰‡çŸ©é˜µé‡åˆä½†æ›´å¯†é›†çš„ç¬¬äºŒä¸ªè§„åˆ™ç½‘æ ¼ï¼ˆå•å…ƒå°ºå¯¸è¾ƒå°ï¼Œä½†ä¸ºè¯¥å°ºå¯¸çš„ç²¾ç¡®çº¦æ•°ï¼‰ã€‚è¿™ä¸ªæ–°çš„æ›´é«˜åˆ†è¾¨ç‡ç½‘æ ¼çš„æ¯ä¸ªç½‘æ ¼å•å…ƒç§°ä¸ºç½‘æ ¼å•å…ƒã€‚ç½‘æ ¼å•å…ƒæ˜¯é€šè¿‡ä½¿ç”¨ç“¦ç‰‡ä¸­æ¸²æŸ“å•å…ƒçš„æ•°é‡ï¼ˆç“¦ç‰‡å®½åº¦å’Œç“¦ç‰‡é«˜åº¦ï¼‰å°†åŸå§‹ç“¦ç‰‡å¹³å‡åˆ’åˆ†ä¸ºç½‘æ ¼å•å…ƒæ¥å®šä¹‰çš„ã€‚åœ¨å¸¸è§çš„å¹³é“º 2D å¯è§†åŒ–å®¢æˆ·ç«¯ä¸­ï¼Œç½‘æ ¼å•å…ƒçš„ä¸€éƒ¨åˆ†ä¸è®¾å¤‡åƒç´ é‡åˆï¼Œå¹¶ä¸”ç½‘æ ¼çš„è¿™ä¸€éƒ¨åˆ†åœ¨è®¾å¤‡ä¸­æ¸²æŸ“ï¼šç¬¬äºŒä¸ªç½‘æ ¼åœ¨æ­¤è¢«å‘½åä¸ºå¤–æ¨è®¾å¤‡ç½‘æ ¼ã€‚æ¢å¥è¯è¯´ï¼Œç“¦ç‰‡åœ¨ CRS çš„æ¯ä¸ªç»´åº¦ä¸Šè¢«åˆ’åˆ†ä¸ºå¤šä¸ªå•å…ƒï¼Œå…¶æ–¹å¼åˆ›å»ºçš„å•å…ƒåœ¨å¯è§†åŒ–æœŸé—´å°†å˜å¾—ä¸å¯è§†åŒ–è®¾å¤‡çš„åƒç´ å®Œå…¨ç›¸åŒã€‚\nğŸ’¡ ç¬¬äºŒä¸ªè§„åˆ™ç½‘æ ¼ï¼ˆå¤–æ¨è®¾å¤‡ç½‘æ ¼ï¼‰æ˜¯ä¸€ä¸ªæ›´é«˜åˆ†è¾¨ç‡çš„ç½‘æ ¼ï¼Œç›¸æ¯”åŸå§‹ç“¦ç‰‡çŸ©é˜µï¼Œå®ƒæ›´å¯†é›†ã€‚é€šè¿‡å°†åŸå§‹ç“¦ç‰‡åˆ’åˆ†ä¸ºå¤šä¸ªæ›´å°çš„ç½‘æ ¼å•å…ƒï¼ˆ256x256 â†’ 64x64ï¼‰ï¼Œè¿™äº›ç½‘æ ¼å•å…ƒåœ¨å¯è§†åŒ–è®¾å¤‡ä¸Šä¸è®¾å¤‡åƒç´ é‡åˆï¼Œä»è€Œåœ¨å¯è§†åŒ–è¿‡ç¨‹ä¸­æä¾›æ›´é«˜çš„åˆ†è¾¨ç‡å’Œæ›´æ¸…æ™°çš„æ˜¾ç¤ºæ•ˆæœã€‚è¿™ç§æ–¹æ³•ç¡®ä¿äº†åœ°å›¾æˆ–å›¾åƒåœ¨ä¸åŒè®¾å¤‡ä¸Šçš„æ¸²æŸ“æ•ˆæœè¾¾åˆ°æœ€ä½³ã€‚\næ€»æ„Ÿè§‰è¿™æ˜¯åœ¨è¦æ±‚ç“¦ç‰‡çš„å®ç°ç«¯éœ€è¦æ»¡è¶³ä¸åŒè®¾å¤‡çš„æ¸²æŸ“å…¼å®¹æ€§ã€‚\nTile Matrix çš„æ„æˆè¦ç´  åŸç‚¹ï¼šè§„åˆ™ç½‘æ ¼è¦†ç›–çš„è¾¹ç•Œæ¡†çš„äºŒç»´ç©ºé—´ä¸­çš„åŸç‚¹å’ŒåŸç‚¹è§’ï¼ˆä¾‹å¦‚ï¼Œæ•´æ•°åæ ‡ä¸º0çš„å·¦ä¸Šè§’çš„CRSåæ ‡ï¼‰ã€‚è¿™æ˜¯åˆ‡ç‰‡é›†åŸç‚¹ï¼Œå®šä¹‰æ•´ä¸ªåˆ‡ç‰‡é›†çš„ç©ºé—´åŸç‚¹å‚è€ƒç‚¹çš„ä½ç½®ã€‚\nç“¦ç‰‡å¤§å°ï¼šCRS æ¯ä¸ªç»´åº¦çš„ç“¦ç‰‡å¤§å°ï¼ˆä»¥ CRS å•ä½è¡¨ç¤ºï¼‰\nè¿™é‡Œéšå«çš„æ˜¯æ¯ä¸ªç»´åº¦ï¼ˆå°ºåº¦å±‚çº§ï¼‰ä¸‹ç“¦ç‰‡å¤§å°è¦ä¸€è‡´ï¼Œä½†æ˜¯ä¸åŒç»´åº¦çš„ç“¦ç‰‡å¤§å°å¯ä»¥ä¸ä¸€è‡´ã€‚ä¸è¿‡åœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒåŸºæœ¬ä¸Šå…¨ç»´åº¦éƒ½ä½¿ç”¨ç›¸åŒçš„ç“¦ç‰‡å¤§å°ã€‚åŒæ—¶ï¼Œç“¦ç‰‡çš„å¤§å°åŸºæœ¬éƒ½ä½¿ç”¨åƒç´ ä½œä¸ºå•ä½è¿›è¡Œæ¢ç®—ã€‚\nä»¥ç“¦ç‰‡å•ä½è¡¨ç¤ºçš„ç“¦ç‰‡çŸ©é˜µçš„å¤§å°ï¼ˆå³ç“¦ç‰‡æ•°é‡ï¼‰ï¼Œç”¨äºå°é—­ï¼ˆå…³é—­ï¼Œåˆå›´ï¼‰ç“¦ç‰‡ç©ºé—´çš„è¾¹ç•Œæ¡†ã€‚é€šå¸¸ï¼Œå‰ä¸¤ä¸ªç»´åº¦çš„å¤§å°ç§°ä¸ºçŸ©é˜µå®½åº¦å’ŒçŸ©é˜µé«˜åº¦ã€‚\næ¯”ä¾‹ï¼ˆè¡¨ç¤ºä¸ºæ¯”ä¾‹åˆ†æ¯ï¼‰ï¼Œå¯ä»¥åŸºäºç»™å®šçš„BBoxè¿›è¡Œè®¡ç®—\nç”±äºæœåŠ¡æ— æ³•é¢„æµ‹å®¢æˆ·ç«¯å¯è§†åŒ–è®¾å¤‡çš„åƒç´ å¤§å°ï¼Œå› æ­¤åœ¨æœ¬æ ‡å‡†ä¸­ï¼Œæ¯”ä¾‹åˆ†æ¯æ˜¯é’ˆå¯¹â€œæ ‡å‡†åŒ–æ¸²æŸ“åƒç´ å¤§å°â€0.28 mm x 0.28 mmï¼ˆæ¯«ç±³ï¼‰å®šä¹‰çš„ã€‚è¯¥å®šä¹‰ä¸ Web åœ°å›¾æœåŠ¡ WMS 1.3.0 OGC 06-042 å’Œåæ¥è¢« WMTS 1.0 OGC 07-057r7 é‡‡ç”¨çš„ç¬¦å·ç¼–ç  (SE) å®ç°è§„èŒƒ 1.1.0 OGC 05-077r4 ä¸­ä½¿ç”¨çš„å®šä¹‰ç›¸åŒã€‚é€šå¸¸ï¼Œè®¾å¤‡çš„çœŸå®åƒç´ å°ºå¯¸æ˜¯æœªçŸ¥çš„ï¼Œ0.28 æ¯«ç±³æ˜¯ 2005 å¹´æ™®é€šæ˜¾ç¤ºå™¨çš„å®é™…åƒç´ å°ºå¯¸ã€‚å³ä½¿å½“å‰çš„æ˜¾ç¤ºè®¾å¤‡é‡‡ç”¨å°å¾—å¤šçš„åƒç´ å°ºå¯¸ï¼Œè¯¥å€¼ä»è¢«ç”¨ä½œå‚è€ƒã€‚\nè‡ª 20 ä¸–çºª 80 å¹´ä»£ä»¥æ¥ï¼ŒMicrosoft Windows æ“ä½œç³»ç»Ÿå·²å°†å…¶é»˜è®¤çš„æ ‡å‡†æ˜¾ç¤ºæ¯è‹±å¯¸åƒç´  (PPI) è®¾ç½®ä¸º 96ã€‚è¯¥å€¼çš„ç»“æœçº¦ä¸ºæ¯åƒç´  0.264 mmã€‚è¯¥å€¼ä¸æœ¬æ ‡å‡†ä¸­é‡‡ç”¨çš„å®é™… 0.28mm çš„ç›¸ä¼¼æ€§å¯èƒ½ä¼šé€ æˆä¸€äº›æ··ä¹±ã€‚\nç°ä»£æ˜¾ç¤ºè®¾å¤‡ï¼ˆå±å¹•ï¼‰çš„åƒç´ éå¸¸å°ï¼Œä»¥è‡³äºæ“ä½œç³»ç»Ÿå…è®¸å®šä¹‰å¤§äº 1 çš„å‘ˆç°æ¯”ä¾‹å› å­ï¼ˆä¾‹å¦‚ 150%ï¼‰ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œè®¾å¤‡åƒç´ çš„å®é™…å¤§å°ä¸æ“ä½œç³»ç»Ÿä½¿ç”¨çš„å¤§å°ä¸åŒã€‚\né€šå¸¸ï¼ŒçŸ©é˜µå®½åº¦æ˜¯æ’å®šçš„ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨å•ä¸ªæ ‡å‡†åŒ–æ¸²æŸ“å•å…ƒå°ºå¯¸çš„ä¸¤ä¸ªç»´åº¦çš„å•ä¸ªæ¯”ä¾‹å› å­ä¼šå¯¼è‡´å•å…ƒåœ¨å‰ä¸¤ä¸ªç»´åº¦ä¸­å…·æœ‰ç›¸åŒçš„å°ºå¯¸ã€‚è¿™é€šå¸¸ç§°ä¸ºæ–¹å½¢åƒç´ ã€‚\nğŸ’¡ ä¿æŒçŸ©é˜µå®½åº¦æ’å®šï¼Œå¹¶åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šä½¿ç”¨å•ä¸ªæ ‡å‡†åŒ–æ¸²æŸ“å•å…ƒå°ºå¯¸çš„æ¯”ä¾‹å› å­ï¼Œå¯ä»¥ç¡®ä¿åƒç´ åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šå…·æœ‰ç›¸åŒçš„å°ºå¯¸ï¼Œå³æ–¹å½¢åƒç´ ã€‚æ–¹å½¢åƒç´ ä¿è¯äº†æ•°æ®åœ¨ç©ºé—´åˆ†æä¸­çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ï¼Œé¿å…äº†ç”±äºåƒç´ å°ºå¯¸ä¸ä¸€è‡´è€Œå¯¼è‡´çš„å›¾åƒå˜å½¢å’Œæ•°æ®è¯¯å·®ã€‚è¿™åœ¨ GISã€é¥æ„Ÿå’Œå…¶ä»–ç©ºé—´æ•°æ®å¤„ç†åº”ç”¨ä¸­æ˜¯è‡³å…³é‡è¦çš„ã€‚\nä¸è¿‡ï¼ŒWMS å¯ä»¥å…è®¸éæ–¹å½¢åƒç´ ï¼ˆå°½ç®¡è®¸å¤šå®ç°æ— æ³•æ­£ç¡®æ”¯æŒéæ–¹å½¢åƒç´ ï¼‰ã€‚\nç“¦ç‰‡ç©ºé—´ å¯¹äºäºŒç»´ç©ºé—´çš„æƒ…å†µï¼Œå½“ç»™å®šç“¦ç‰‡çŸ©é˜µçš„ CRS åæ ‡å·¦ä¸Šè§’ç‚¹ï¼ˆtileMatrixMinXã€tileMatrixMaxYï¼‰ã€ç“¦ç‰‡çŸ©é˜µçš„ç“¦ç‰‡å•ä½å®½å’Œé«˜ï¼ˆmatrixWidthã€matrixHeightï¼‰ã€ç“¦ç‰‡ä¸­çš„æ¸²æŸ“å•å…ƒæ ¼å€¼ï¼ˆtileWidthã€tileHeightï¼‰ã€å°†åæ ‡å‚è€ƒç³» (CRS) å•ä½è½¬æ¢ä¸ºç±³çš„ç³»æ•°ï¼ˆmetersPerUnitï¼‰å’Œæ¯”ä¾‹å°ºï¼ˆ1ï¼šscaleDenominatorï¼‰ï¼Œç“¦ç‰‡çŸ©é˜µè¾¹ç•Œæ¡†çš„å³ä¸‹è§’ï¼ˆtileMatrixMaxXã€tileMatrixMinYï¼‰å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼è®¡ç®—ï¼š\nğŸ’¡ metersPerUnit (crs)ï¼š å°†åæ ‡å‚è€ƒç³»ç»Ÿ (CRS) å•ä½è½¬æ¢ä¸ºç±³çš„ç³»æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯å°†ç»™å®šçš„CRSä¸­ä¸€ä¸ªå•ä½è½¬æ¢ä¸ºç±³çš„ç³»æ•°ã€‚æ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯åœ¨æŒ‡å®šçš„CRSä¸­ï¼Œä¸€ä¸ªå•ä½è¡¨ç¤ºå¤šå°‘ç±³ã€‚ç›®å‰å¸¸ç”¨çš„å°±ä¸¤ç§æŠ•å½±ï¼Œä¸€æ˜¯ä»¥ç±³ä¸ºå•ä½çš„ï¼ˆå³metersPerUnitä¸º1ï¼‰ï¼›å…¶æ¬¡æ˜¯ä»¥åº¦ä¸ºå•ä½çš„ç»çº¬åº¦æŠ•å½±ï¼ˆmetersPerUnitè¡¨ç¤ºä¸º1åº¦ä»£è¡¨å¤šå°‘ç±³ï¼Œå³ï¼š360/èµ¤é“å‘¨é•¿ï¼Œä¸åŒCRSä½¿ç”¨ä¸åŒçš„æ¤­çƒä½“ï¼Œæ‰€ä»¥å…¶èµ¤é“å‘¨é•¿ä¹Ÿä¼šå­˜åœ¨ä¸€å®šå·®å¼‚ã€‚ï¼‰ä¾‹å¦‚ï¼ŒWGS84 metersPerUnit (crs) ä¸º 111319.4908 ç±³/åº¦ã€‚\nç“¦ç‰‡çŸ©é˜µä¸­çš„æ¯ä¸ªç“¦ç‰‡å‡ç”±å…¶ç“¦ç‰‡åˆ—ç´¢å¼•å’Œç“¦ç‰‡è¡Œç´¢å¼•æ¥æ ‡è¯†ï¼Œè¿™äº›ç´¢å¼•çš„ 0,0 åŸç‚¹ä½äºç“¦ç‰‡çŸ©é˜µçš„ä¸€ä¸ªè§’ã€‚å½“ä½¿ç”¨å·¦ä¸Šè§’æ—¶ï¼ŒtileColå‘å³å¢åŠ ï¼ŒTileRowå‘åº•éƒ¨å¢åŠ ï¼Œå¦‚å›¾5æ‰€ç¤ºï¼ˆå·¦ä¸‹è§’ä¹Ÿå¯ä»¥ç”¨ä½œåŸç‚¹ï¼Œä½¿TileRowå‘é¡¶éƒ¨å¢åŠ ï¼‰ã€‚\nå›¾å—çŸ©é˜µå¯ä»¥å®ç°ä¸ºæ–‡ä»¶å¤¹ä¸­çš„ä¸€ç»„å›¾åƒæ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼ŒPNG æˆ– JPEGï¼‰ï¼Œæ¯ä¸ªæ–‡ä»¶ä»£è¡¨ä¸€ä¸ªå›¾å—ã€‚\nTIFF è§„èŒƒ v6 çš„ç¬¬ 6 èŠ‚ä»¥ä¸æœ¬æ ‡å‡†ä¸­ç›¸åŒçš„æ–¹å¼å®šä¹‰äº† 2D å›¾å—ã€‚åˆ‡ç‰‡çŸ©é˜µä¸­çš„æ‰€æœ‰åˆ‡ç‰‡éƒ½å¯ä»¥å­˜å‚¨åœ¨å•ä¸ª TIFF æ–‡ä»¶ä¸­ã€‚ TIFF æ–‡ä»¶ä»…åŒ…å«ä¸€ç»„å…±äº«å…¬å…±å•ä¸€æ¯”ä¾‹çš„è¿ç»­å›¾å—ã€‚\nTile Matrix Set æ ¹æ®éœ€è¦åœ¨å®¢æˆ·ç«¯å±å¹•ä¸­è¡¨ç¤ºçš„æ¯”ä¾‹èŒƒå›´ï¼Œå•ä¸ªç“¦ç‰‡çŸ©é˜µï¼ˆå³å•å±‚æ¬¡çš„çŸ©é˜µï¼‰æ˜¯ä¸åˆ‡å®é™…çš„ï¼Œå¹¶ä¸”å¯èƒ½ä¼šè¿«ä½¿è½¯ä»¶åœ¨æ¸²æŸ“ä¹‹å‰èŠ±è´¹å¤ªå¤šæ—¶é—´æ¥ç®€åŒ–/æ¦‚æ‹¬æ•°æ®é›†ã€‚ï¼ˆå› ä¸ºå®ƒä»…ä»…æ˜¯å®ç°äº†æ•°æ®æ¨ªå‘ä¸Šçš„åˆ†å—ï¼Œå¹¶æ²¡æœ‰å…¶ä»–çš„åŠ æˆï¼Œè¿™ä¹Ÿæ˜¯å¤šå°ºåº¦åˆ†çº§å‡ºç°çš„åŸå› ï¼‰\né€šå¸¸ï¼Œä¼šé€æ­¥å®šä¹‰å¤šä¸ªç“¦ç‰‡çŸ©é˜µï¼Œä»¥è¦†ç›–åº”ç”¨ç¨‹åºæ‰€éœ€çš„é¢„æœŸæ¯”ä¾‹èŒƒå›´ã€‚ç“¦ç‰‡çŸ©é˜µé›†æ˜¯ç”±ä¸€ç»„ç“¦ç‰‡çŸ©é˜µç»„æˆçš„åˆ‡ç‰‡æ–¹æ¡ˆï¼Œé’ˆå¯¹ç‰¹å®šæ¯”ä¾‹è¿›è¡Œäº†ä¼˜åŒ–ï¼ˆæ‰€è°“ä¼˜åŒ–å³ä¸ºæ¦‚æ‹¬|ç®€åŒ–ç­‰å¤„ç†ï¼Œä½¿å¾—æ•°æ®å¯ä»¥æ›´å¥½ã€æ›´å¿«çš„æ˜¾ç¤ºï¼‰ï¼Œå¹¶ç”±ç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦æ ‡è¯†ã€‚æ¯ä¸ªç“¦ç‰‡çŸ©é˜µé›†éƒ½æœ‰ä¸€ä¸ªå¯é€‰çš„è¿‘ä¼¼è¾¹ç•Œæ¡†ï¼ˆå³BBoxï¼Œä¹‹æ‰€ä»¥è¿‘ä¼¼åº”æ˜¯å› ä¸ºä¸€èˆ¬å–æ˜¯æœ€å°å¤–æ¥çŸ©å½¢MBR â†’Minimum Bounding Rectangleï¼Œå¹¶éå®Œå…¨ä¸€è‡´ã€‚MaybeğŸ¤”ï¼‰ï¼Œä½†æ¯ä¸ªç“¦ç‰‡çŸ©é˜µéƒ½æœ‰ä¸€ä¸ªç²¾ç¡®çš„è¾¹ç•Œæ¡†ï¼Œè¯¥è¾¹ç•Œæ¡†æ˜¯ä»å…¶ä»–å‚æ•°é—´æ¥æ¨å¯¼å‡ºæ¥çš„ã€‚ç”±äºå•å…ƒæ ¼å¯¹é½æ–¹å¼ä¸åŒï¼Œæ¯ä¸ªæ¯”ä¾‹ä¸‹çš„ç“¦ç‰‡çŸ©é˜µè¾¹ç•Œæ¡†é€šå¸¸ä¼šç•¥æœ‰ä¸åŒï¼ˆæ¯”å¦‚4490ç»çº¬åº¦æŠ•å½±çš„0çº§å’Œ1çº§çš„è¾¹ç•Œæ¡†å°±ä¸åŒï¼‰ã€‚\nç“¦ç‰‡çŸ©é˜µåœ¨ç“¦ç‰‡çŸ©é˜µé›†ä¸­å…·æœ‰å”¯ä¸€çš„å­—æ¯æ•°å­—æ ‡è¯†ç¬¦ã€‚ä¸€äº›åŸºäºç“¦ç‰‡çš„å®ç°æ›´å–œæ¬¢ä½¿ç”¨ç¼©æ”¾çº§åˆ«ç¼–å·æˆ–ç»†èŠ‚çº§åˆ«æŒ‡å®š (LoD)ï¼Œå…¶ä¼˜ç‚¹æ˜¯å»ºè®®ç“¦ç‰‡çŸ©é˜µåˆ—è¡¨ä¸­çš„æŸç§é¡ºåºã€‚æœ¬æ ‡å‡†ä¸ä½¿ç”¨ç¼©æ”¾çº§åˆ«æ¦‚å¿µï¼Œä½†ä¸ºäº†åœ¨æ›´å–œæ¬¢æ•°å­—ç¼©æ”¾çº§åˆ«çš„å®ç°ä¸­è½»æ¾é‡‡ç”¨æœ¬æ ‡å‡†ï¼Œé™„ä»¶ D ä¸­å®šä¹‰çš„è®¸å¤šç“¦ç‰‡çŸ©é˜µé›†ä½¿ç”¨æ•°å­—ä½œä¸ºç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç“¦ç‰‡çŸ©é˜µé›†ä¸­å®šä¹‰çš„ç“¦ç‰‡çŸ©é˜µåˆ—è¡¨ä¸­çš„ç´¢å¼•é¡ºåºä»ç„¶å¯ä»¥åœ¨å†…éƒ¨ç”¨ä½œç¼©æ”¾çº§åˆ«æ’åºã€‚\nåœ¨ä¸€äº›å…¶ä»–æ ‡å‡†ä¸­ï¼Œç“¦ç‰‡çŸ©é˜µé›†æ¦‚å¿µç§°ä¸ºå›¾åƒé‡‘å­—å¡”ğŸ˜¯ï¼Œå¦‚ OGC KML 2.2 OGC 07-147r2 æ ‡å‡†çš„ç¬¬ 11.6 æ¡ä¸­æ‰€ç¤ºã€‚ JPEG2000 (ISO/IEC 15444-1) å’Œ JPIP (ISO/IEC 15444-9) ä¹Ÿä½¿ç”¨ç±»ä¼¼çš„ç©ºé—´åˆ’åˆ†ï¼Œç§°ä¸ºåˆ†è¾¨ç‡çº§åˆ«ã€‚ç„¶è€Œï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œé‡‘å­—å¡”æ˜¯è‡ªå®šä¹‰çš„ï¼Œä»æ›´è¯¦ç»†çš„ç“¦ç‰‡çŸ©é˜µï¼ˆä½¿ç”¨æ–¹å½¢ç“¦ç‰‡ï¼‰å¼€å§‹ï¼Œå¹¶é€šè¿‡è¿ç»­èšåˆå‰ä¸€ä¸ªå°ºåº¦çš„ 4 ä¸ªç“¦ç‰‡æ¥æ„é€ ä¸‹ä¸€ä¸ªå°ºåº¦çš„ç“¦ç‰‡ï¼Œä¾æ­¤ç±»æ¨ï¼ˆè§å›¾ 6ï¼‰ ï¼Œå¹¶å°†å‰ä¸€ä¸ªå°ºåº¦çš„æ¯ 4 ä¸ªè¿ç»­å€¼æ’å€¼åˆ°ä¸‹ä¸€ä¸ªå°ºåº¦çš„ä¸€ä¸ªå€¼ä¸­ã€‚è¯¥æ–¹æ³•æ¶‰åŠæ›´ä¸¥æ ¼çš„ç»“æ„ï¼Œè¯¥ç»“æ„å…·æœ‰ä¸äºŒçš„å¹‚ç›¸å…³çš„æ¯”ä¾‹ä»¥åŠä¸è¾ƒä½æ¯”ä¾‹åˆ†æ¯ä¸Šçš„å›¾å—å®Œç¾é‡å çš„å›¾å—ï¼ˆå››å‰æ ‘ç»“æ„ï¼Œè‡ªåº•å‘ä¸Šè¿›è¡Œç“¦ç‰‡é‡‘å­—å¡”æ„å»ºï¼‰ã€‚æœ¬æ–‡æ¡£ä¸­ä»‹ç»çš„å¹³é“ºçŸ©é˜µé›†æ›´åŠ çµæ´»ï¼Œä½† KML superoverlays æˆ–åŸºäº JPEG2000 çš„å®ç°å¯ä»¥ä½¿ç”¨æ­¤æ ‡å‡†ä»¥åŠä¸€äº›é¢å¤–çš„è§„åˆ™æ¥æè¿°å…¶ç“¦ç‰‡çŸ©é˜µé›†ã€‚æœ¬æ–‡æ¡£æè¿°äº†ä¸€äº›ä¸é™„å½• D ä¸­çš„ 2 çš„å¹‚ç›¸å…³çš„æ¯”ä¾‹é›†çš„ç“¦ç‰‡çŸ©é˜µé›†ã€‚ã€å¯è§†ä¸ºé€šç”¨è§„èŒƒä¸ç»†åˆ†è§„èŒƒçš„åŒºåˆ«ï¼Œå¦‚å›¾åƒé‡‘å­—å¡”çš„åŸºç¡€ç†è®ºä¾¿æ˜¯ä¸ç“¦ç‰‡çŸ©é˜µé›†ç›¸åŒçš„ã€‘\nğŸ’¡ æ³¨æ„ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨æ¯”è¾ƒæµ®ç‚¹æ•°ä¸å…¬å·®æ—¶å¿…é¡»å°å¿ƒï¼ˆå¿…é¡»ä½¿ç”¨åŒç²¾åº¦ã€16 ä½æ•°å­—ï¼‰ã€‚\nWell-known scale setsï¼ˆé€šç”¨æ¯”ä¾‹é›†ï¼‰ å½“åœ¨é›†æˆå®¢æˆ·ç«¯ä¸­éœ€è¦é‡å å’Œå‘ˆç°ä¸åŒç“¦ç‰‡çŸ©é˜µé›†ä¸­ç¼–ç çš„ç“¦ç‰‡æ—¶ï¼Œç”±äºè¿™äº›ç“¦ç‰‡ä¸å…·æœ‰å…¬å…±æ¯”ä¾‹åˆ†æ¯é›†å’Œç›¸åŒçš„ CRSï¼Œå°†ç“¦ç‰‡é‡æ–°ç¼©æ”¾æˆ–é‡æ–°æŠ•å½±åˆ°è§†å›¾çš„å…¬å…±æ¯”ä¾‹å¯èƒ½éœ€è¦é‡æ–°é‡‡æ ·è®¡ç®—ï¼Œä»è€Œå¯¼è‡´è§†è§‰æ•ˆæœè´¨é‡ä¸‹é™ã€‚\né˜²æ­¢æ­¤é—®é¢˜çš„æ¨èæ–¹æ³•æ˜¯ä½¿ç”¨ç›¸åŒçš„å…¨å±€ç“¦ç‰‡çŸ©é˜µé›†ã€‚å¦‚æœæ•°æ®çš„åœ°ç†èŒƒå›´ä»…è¦†ç›–ç“¦ç‰‡çŸ©é˜µé›†åŒºåŸŸçš„ä¸€éƒ¨åˆ†ï¼Œåˆ™ç“¦ç‰‡é›†å…ƒæ•°æ®çš„ç“¦ç‰‡çŸ©é˜µé™åˆ¶å…ƒç´ ï¼ˆTile Matrix Limitsï¼‰å¯ç”¨äºé€šçŸ¥è¿™äº›é™åˆ¶ã€‚\nå¦‚æœæ— æ³•ä½¿ç”¨ç›¸åŒçš„ç“¦ç‰‡çŸ©é˜µé›†ï¼Œåˆ™ä½¿ç”¨å…¬å…± CRS ä»¥åŠç”±å°½å¯èƒ½å¤šçš„å±‚å’ŒæœåŠ¡å…±äº«çš„å…¬å…±å°ºåº¦é›†ä¹Ÿå¯ä»¥æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ç”±æ­¤ï¼Œå¼•å…¥äº†ä¼—æ‰€å‘¨çŸ¥çš„å°ºåº¦é›†ï¼ˆWKSS â†’ well-known scale setï¼‰çš„æ¦‚å¿µã€‚ã€ä¼—å£éš¾è°ƒï¼Œä¸å¦‚ç»Ÿä¸€ã€‘\nè¯·æ³¨æ„ï¼ŒWKSS ä»…å®šä¹‰äº†å®Œæ•´å®šä¹‰ç“¦ç‰‡çŸ©é˜µé›†æ‰€éœ€å†…å®¹çš„ä¸€å°éƒ¨åˆ†ã€‚ WKSS æ˜¯ä¸€é¡¹å¯é€‰åŠŸèƒ½ï¼Œå®ƒä¸èƒ½å–ä»£å®šä¹‰ç“¦ç‰‡çŸ©é˜µé›†åŠå…¶ç“¦ç‰‡çŸ©é˜µçš„éœ€è¦ã€‚å¦‚æœæœåŠ¡å…±äº«å¹¶å¼•ç”¨é€šç”¨ç“¦ç‰‡çŸ©é˜µé›†å®šä¹‰ï¼ˆé€šç”¨çš„åˆ‡ç‰‡æ–¹æ¡ˆï¼Œä¾‹å¦‚åŸºäºWebå¢¨å¡æ‰˜æŠ•å½±çš„åˆ‡ç‰‡æ–¹æ¡ˆï¼‰ï¼Œåˆ™ä¸å†éœ€è¦ WKSS çš„æœ€åˆç›®çš„ã€‚\nğŸ’¡ ä»ç»“æœæ¥çœ‹ï¼ŒWell-known scale setsæ›´åƒæ˜¯ä¸€ä¸ªè¿‡ç¨‹ä¸­çš„äº§ç‰©ã€‚ç°å¦‚ä»Šå¤§å®¶åŸºæœ¬éƒ½ä¼šç›´æ¥ä½¿ç”¨é€šç”¨çš„åˆ‡ç‰‡æ–¹æ¡ˆï¼Œæˆ–è€…æ˜¯è‡ªå®šä¹‰åˆ‡ç‰‡æ–¹æ¡ˆã€‚\nTile based coordinates in a tile matrix setï¼ˆç“¦ç‰‡åæ ‡ç³»ï¼‰ åŸºäºç“¦ç‰‡çš„åæ ‡ä¸­çš„ç“¦ç‰‡å¯ä»¥é€šè¿‡å…¶åœ¨ç“¦ç‰‡çŸ©é˜µç»´åº¦ä¸­çš„ç“¦ç‰‡ä½ç½®å’Œç“¦ç‰‡çŸ©é˜µé›†ä¸­çš„ç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦æ¥å¼•ç”¨ã€‚åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œç“¦ç‰‡ç”±ä»¥ä¸‹ 3 ä¸ªç¦»æ•£ç´¢å¼•åç§°æ¥æ ‡è¯†ï¼šç“¦ç‰‡è¡Œã€ç“¦ç‰‡åˆ—å’Œç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦ã€‚ã€ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ç“¦ç‰‡åæ ‡ç³»ã€‘\nåœ¨æ …æ ¼å›¾å—ä¸­ï¼Œå¤–æ¨è®¾å¤‡ç½‘æ ¼åŸŸé›†ä¸­çš„ç½‘æ ¼å•å…ƒå¯ä»¥é€šè¿‡ CRS ä¸­çš„ä¸€ç»„æµ®ç‚¹åæ ‡ä»¥åŠé€šè¿‡ä¸å­˜åœ¨èˆå…¥é—®é¢˜çš„ä¸¤ç§æ–¹å¼ä¹‹ä¸€æ¥æ ‡è¯†ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚\nç½‘æ ¼å•å…ƒç”±ç“¦ç‰‡ç´¢å¼•ï¼ˆé€šè¿‡å…¶åœ¨ç“¦ç‰‡çŸ©é˜µç»´åº¦ä¸­çš„ç“¦ç‰‡ä½ç½®å’Œç“¦ç‰‡çŸ©é˜µé›†ä¸­çš„ç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦å¼•ç”¨ï¼‰å’Œç“¦ç‰‡å†…çš„å•å…ƒç´¢å¼•ï¼ˆiã€jã€\u0026hellip;ï¼‰ç»„æˆã€‚åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œä¸€ä¸ªå•å…ƒç”± 5 ä¸ªç¦»æ•£ç´¢å¼•æ ‡è¯†ï¼Œè¿™äº›ç´¢å¼•åä¸ºï¼šç“¦ç‰‡è¡Œã€ç“¦ç‰‡åˆ—ã€ç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦ã€i å’Œ jã€‚è¿™å°±æ˜¯ GetFeatureInfo åœ¨ WMTS ä¸­çš„å·¥ä½œæ–¹å¼ã€‚è¿™ç»„åæ ‡ç§°ä¸ºâ€œç“¦ç‰‡åæ ‡â€ã€‚\nğŸ’¡ åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç“¦ç‰‡è¡Œã€ç“¦ç‰‡åˆ—ã€ç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦å·²ç»è¶³å¤Ÿä½¿ç”¨ï¼Œiå’Œjåº”æ˜¯åœ¨éœ€è¦ç²¾ç¡®è·çŸ¥ç‚¹ä½åæ ‡çš„æ—¶å€™æ‰éœ€è¦ä½¿ç”¨å§ğŸ¤”\né€šè¿‡ç“¦ç‰‡çŸ©é˜µçš„å¤–æ¨è®¾å¤‡ç½‘æ ¼åŸŸé›†ï¼ˆä»ç“¦ç‰‡ç©ºé—´çš„å·¦ä¸Šè§’å¼€å§‹ï¼‰å’Œç“¦ç‰‡çŸ©é˜µé›†ä¸­çš„ç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦å®šä¹‰çš„ç½‘æ ¼å•å…ƒä½ç½®ã€‚åœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œç½‘æ ¼å•å…ƒç”± 3 ä¸ªç¦»æ•£ç´¢å¼•æ ‡è¯†ï¼Œåˆ†åˆ«ä¸ºï¼ši \u0026lsquo;ã€j \u0026rsquo; å’Œç“¦ç‰‡çŸ©é˜µæ ‡è¯†ç¬¦ã€‚è¯·æ³¨æ„ï¼Œi \u0026rsquo; å’Œ j \u0026rsquo; å¯ä»¥æ˜¯éå¸¸å¤§çš„æ•´æ•°ï¼Œå¹¶ä¸”å¯¹äºéå¸¸è¯¦ç»†çš„æ¯”ä¾‹ï¼Œå¦‚æœå°†ç“¦ç‰‡çŸ©é˜µå­˜å‚¨ä¸ºäºŒè¿›åˆ¶æ•°ï¼Œåˆ™å¯èƒ½éœ€è¦ 64 ä½æ•´æ•°è¡¨ç¤ºæ³•ã€‚è¿™ç»„ç´¢å¼•ç§°ä¸ºâ€œç“¦ç‰‡çŸ©é˜µåæ ‡â€ã€‚\nğŸ’¡ åŸºäºæ­¤å¯ä»¥éšæ„çš„è¿›è¡ŒäºŒæ¬¡ç½‘æ ¼åˆ’åˆ†ï¼Œå¯ä»¥æ›´å¥½çš„é€‚é…ä¸åŒè®¾å¤‡åˆ†è¾¨ç‡ã€‚æˆ‘æ²¡æœ‰å»è°ƒç ”è¿‡ï¼Œä½†ç›¸ä¿¡å¦‚ä»Šä¸åŒè®¾å¤‡åˆ†è¾¨ç‡ä¸‹ç“¦ç‰‡æ¸²æŸ“æ•ˆæœåº”å½“æ˜¯å„åœ°å›¾æ¸²æŸ“å¼•æ“ç»™åšå¥½äº†é€‚é…å…¼å®¹äº†å§ã€‚æ¯•ç«Ÿï¼Œç°å¦‚ä»ŠåŸºæœ¬éƒ½æ˜¯å…¨ç«¯è®¾å¤‡å…±ç”¨ä¸€ä¸ªtile sizeï¼ˆå¦‚ï¼š256x256ï¼‰ã€‚å½“ç„¶ï¼Œè¿™å’Œç°ä»Šè®¾å¤‡çš„åˆ†è¾¨ç‡éƒ½æ¯”è¾ƒé«˜åº”è¯¥ä¹Ÿæœ‰å¾ˆå¤§çš„å…³ç³»å§ğŸ¤”\nğŸ’¡ åœ¨ç›®å‰ç“¦ç‰‡æœåŠ¡ä¸­ï¼ŒåŸºæœ¬ä¸Šåªéœ€è¦ç»™å®šç“¦ç‰‡è¡Œã€ç“¦ç‰‡åˆ—ã€ç“¦ç‰‡çŸ©é˜µæ ‡è¯†å³å¯ï¼Œå¤§éƒ¨åˆ†æ—¶å€™æ‰€è¿°çš„ç“¦ç‰‡åæ ‡ç³»å°±æ˜¯è¿™ä¸‰è€…ç»„åˆã€‚å½“ç„¶ï¼Œç“¦ç‰‡åæ ‡ç³»å„ç§å„æ ·ï¼Œå¯ä»¥åŸºäºå››å‰æ ‘ï¼Œå¯ä»¥æ˜¯å…¶ä»–ä»»æ„çš„æ³•åˆ™ï¼Œåªä¸è¿‡ç“¦ç‰‡è¡Œã€ç“¦ç‰‡åˆ—ã€ç“¦ç‰‡çŸ©é˜µæ ‡è¯†çš„ç»„åˆæ›´åŠ é€šç”¨è€Œå·²ã€‚\nVariable width tile matricesï¼ˆå¯å˜å®½çŸ©é˜µï¼‰ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå‡è®¾æ‰€æœ‰ç“¦ç‰‡è¡Œçš„çŸ©é˜µå®½åº¦ï¼ˆmatrixWidthï¼‰éƒ½æ˜¯æ’å®šçš„ã€‚è¿™æ˜¯ä¸ä½¿åœ°çƒæ‰­æ›²å¤ªå¤šçš„æŠ•å½±çš„å¸¸è§ç”¨æ³•ã€‚ä½†æ˜¯ï¼Œå½“ä½¿ç”¨ç­‰è·çŸ©å½¢æ¿æ–¹å½¢æŠ•å½±ï¼ˆå‚è§é™„ä»¶ D ç¬¬ 2 æ¬¾ï¼Œç»çº¬åº¦æŠ•å½±ï¼Œå¦‚ï¼šWorldCRS84Quadï¼‰æ—¶ï¼Œé è¿‘ä¸¤æçš„ç“·ç –çš„ç•¸å˜ä¼šå¢åŠ ã€‚åœ¨æç«¯æƒ…å†µä¸‹ï¼Œä¸Šæ–¹ç“¦ç‰‡çš„ä¸Šè¡Œï¼ˆä»£è¡¨åŒ—æçš„é‚£ä¸€è¡Œï¼‰åŒ…å«ä¸€ç³»åˆ—é‡å¤å€¼ï¼Œè¿™äº›å€¼ä»£è¡¨ç©ºé—´ä¸­å‡ ä¹ç›¸åŒçš„ä½ç½®ã€‚å¯¹äºä¸‹æ–¹ç“¦ç‰‡çš„ä¸‹æ’ï¼ˆä»£è¡¨å—æçš„é‚£ä¸€ä¸ªï¼‰ä¹Ÿå¯ä»¥è¿™æ ·è¯´ã€‚å½“ç“¦ç‰‡ä»¥å¹³é¢æŠ•å½±è¡¨ç¤ºæ—¶ï¼Œè¿™æ˜¯æ— æ³•é¿å…çš„æ•ˆæœï¼Œä½†æ˜¯å½“æ•°æ®ä»¥è™šæ‹Ÿåœ°çƒè¡¨ç¤ºæ—¶ï¼Œå¤±çœŸä¼šå¯¼è‡´æç‚¹ä¸­å‡ºç°å†—ä½™ä¿¡æ¯ï¼Œéœ€è¦å®¢æˆ·ç«¯åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æ¶ˆé™¤è¿™äº›å†—ä½™ä¿¡æ¯ã€‚å¤±çœŸè¡¥å¿æœ€å¥½åœ¨æœåŠ¡å™¨ç«¯å®Œæˆã€‚\nè§£å†³æ–¹æ¡ˆåŒ…æ‹¬å‡å°‘é«˜çº¬åº¦è¡Œä¸­çš„ç“¦ç‰‡æ•°é‡ï¼ˆmatrixWidthï¼‰ï¼Œå¹¶åœ¨çºµå‘ç»´åº¦ä¸Šç”Ÿæˆå…·æœ‰å‹ç¼©æ¯”ä¾‹çš„ç“¦ç‰‡ï¼ˆè§å›¾ 8ï¼‰ã€‚ä¸ºäº†å®ç°æ­¤è§£å†³æ–¹æ¡ˆï¼Œå¿…é¡»æ‰©å±•ç“¦ç‰‡æ¨¡å‹ä»¥æŒ‡å®šåˆå¹¶ç³»æ•°ï¼ˆcï¼‰ï¼Œé€šè¿‡èšåˆ c ä¸ªæ°´å¹³ç“¦ç‰‡ä½†ä¿æŒç“¦ç‰‡å®½åº¦ï¼ˆå’Œç“¦ç‰‡é«˜åº¦ï¼‰æ¥å‡å°‘å®½åº¦æ–¹å‘ä¸Šçš„ç“¦ç‰‡æ•°é‡ã€‚åˆå¹¶ç³»æ•°ä¸é€‚ç”¨äºèµ¤é“é™„è¿‘ï¼Œä½†é€‚ç”¨äºä¸­é«˜çº¬åº¦åœ°åŒºï¼ˆçº¬åº¦è¶Šé«˜ï¼Œç³»æ•°è¶Šå¤§ï¼‰ã€‚\nå³ä½¿ç“¦ç‰‡å¯ä»¥åˆå¹¶ï¼Œä¹Ÿä¸ä¼šæ”¹å˜ç´¢å¼•æˆ–ç“¦ç‰‡çŸ©é˜µé›†ï¼Œå®ƒä»¬å°†ä¸æœªåº”ç”¨åˆå¹¶æ—¶ç›¸åŒã€‚ä¾‹å¦‚ï¼Œå¦‚æœ c ç³»æ•°ä¸º 4ï¼Œåˆ™ç¬¬ä¸€ä¸ªç“¦ç‰‡çš„ tileCol å°†ä¸º 0ï¼Œç¬¬äºŒä¸ªç“¦ç‰‡çš„ tileCol å°†ä¸º 4ï¼Œç¬¬ä¸‰ä¸ªç“¦ç‰‡çš„ tileCol å°†ä¸º 8ï¼Œä¾æ­¤ç±»æ¨ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºåŒä¸€ä¸ªç¤ºä¾‹ï¼ŒtileCol 0ã€1ã€2 å’Œ 3 æŒ‡å‘åŒä¸€ä¸ªç“¦ç‰‡ã€‚\næ³¨æ„ï¼šæ­¤è§£å†³æ–¹æ¡ˆæ˜¯å¿…è¦çš„ï¼Œä»¥ä¾¿ä»ç„¶èƒ½å¤Ÿæ ¹æ®ç“¦ç‰‡ç´¢å¼•åœ¨ç©ºé—´ä¸­å®šä¹‰ä¸€ä¸ªçŸ©å½¢ã€‚ï¼ˆå³ä¸è„±ç¦»TileMatrixSetæ¶æ„ï¼‰\nğŸ’¡ å¯å˜å®½çŸ©é˜µï¼Œåœ¨æ­¤æ›´å¤šå…ˆåšä»‹ç»ã€‚æˆ‘ç›®å‰æ‰€æ¥è§¦åˆ°çš„äºŒç»´åœºæ™¯ä¸­ï¼Œè¿˜æ²¡æœ‰è§è¿‡å¯å˜å®½çŸ©é˜µçš„ä½¿ç”¨ã€‚å½“ç„¶ï¼Œä¹Ÿå¯èƒ½æ˜¯äººå®¶åšäº†æ”¯æŒï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å‘ç°ï¼Œ ğŸ«£\nTileMatrixSet Requirements Classesï¼ˆæ¨¡å‹å®šä¹‰ï¼‰ ğŸ’¡ eï¼šåœ¨æŸäº›éœ€è¦é«˜ç²¾åº¦çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨ç›¸åŒCRSçš„ç²¾ç¡®å®ç°ï¼Œæˆ–è€…CRSæ˜¯åŠ¨æ€çš„ï¼ˆéšæ—¶é—´ç•¥æœ‰å˜åŒ–ï¼‰å¹¶ä¸”éœ€è¦ä¼´éšä¸€ä¸ªepochã€‚å¯¹äºæ­¤æ•°æ®ç»“æ„ï¼ŒTile MatrixSet ç”±é€šç”¨ CRS åç§°å®šä¹‰ã€‚å…·ä½“ç“¦ç‰‡é›†ä½¿ç”¨çš„ CRS å®ç°å’Œçºªå…ƒåœ¨ç“¦ç‰‡é›†å…ƒæ•°æ®ä¸­æŒ‡å®šã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç“¦ç‰‡é›†å…±äº«ç›¸åŒçš„é€šç”¨ CRS é‡å ï¼Œä½†å¯¹äºæŸäº›é«˜ç²¾åº¦åº”ç”¨ç¨‹åºå’Œéå¸¸ç»†ç²’åº¦çš„æ¯”ä¾‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ‰§è¡Œè¿è¡Œæ—¶æ ¡æ­£ä»¥æ ¹æ®è¯¥ä¿¡æ¯å‡†ç¡®åœ°è¦†ç›–ç“¦ç‰‡é›†ï¼Œæˆ–è€…æ‹’ç»é‡å ç“¦ç‰‡é›†å…·æœ‰ç›¸åŒçš„ CRS å®ç°æˆ–çºªå…ƒã€‚\nfï¼šè¯¥å…ƒç´ å¹¶ä¸æ˜¯è¦è¦†ç›– CRS è½´é¡ºåºï¼Œè€Œæ˜¯é€šè¿‡é‡å¤ CRS å®šä¹‰ä¸­å·²åŒ…å«çš„ä¿¡æ¯ä½¿å…¶å¯¹å¼€å‘äººå‘˜å¯è§ã€‚\nç“¦ç‰‡çš„åƒå…ƒå¤§å°ï¼ˆcell sizeï¼‰å¯ä»¥é€šè¿‡å°†scaleDenominatorä¹˜ä»¥0.28 x 10^(- 3)/metesPerUnit æ¥è·å¾—ã€‚å¦‚æœ CRS ä½¿ç”¨ç±³ä½œä¸ºæ°´å¹³å°ºå¯¸çš„æµ‹é‡å•ä½ï¼Œåˆ™ metesPerUnit = 1 ï¼›å¦‚æœä½¿ç”¨åº¦æ•°ï¼Œåˆ™metersPerUnit = 2 * pi * a / 360ï¼ˆaæ˜¯åœ°çƒæ¤­çƒä½“çš„æœ€å¤§åŠå¾„ï¼›ä¹Ÿç§°ä¸ºèµ¤é“åŠå¾„ï¼‰ã€‚\nCell Sizeï¼ˆåƒå…ƒå¤§å°ï¼‰ï¼šå³ä¸€ä¸ªåƒå…ƒè¡¨ç¤ºå¤šå°‘ç±³ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œä¸ºä¸€ä¸ªåƒå…ƒè¡¨è¾¾çš„åœ°å›¾å•ä½ã€‚\nè¿™é‡Œåªè´´æˆ‘è®¤ä¸ºæ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ï¼Œå¦‚æœä½ æƒ³è¦æŸ¥çœ‹æ›´å¤šè¯·æŸ¥çœ‹åŸæ–‡ã€‚\nTileSet Metadata ç“¦ç‰‡ç”±tileMatrix idã€tileRow ç¼–å·å’ŒtileCol ç¼–å·æ¥æ ‡è¯†ã€‚è¿™ä¸‰ä¸ªå…ƒç´ ä»…åœ¨ä¸ TileMatrixSet æè¿°ç›¸å…³è”æ—¶æ‰æœ‰æ„ä¹‰ï¼Œè¯¥æè¿°åŒ…å«å°†ç´¢å¼•è½¬æ¢ä¸ºå·²çŸ¥ CRS ä¸­çš„åæ ‡æ‰€éœ€çš„ä¿¡æ¯ï¼ˆä»¥scaleDenominatorã€cellSizeã€pointOfOrigin å’ŒcornerOfOrigin çš„å½¢å¼ï¼‰ã€‚ TileSet Metadata çš„ä¸»è¦ç›®çš„æ˜¯å°† TileSet ä¸ TileMatrixSet æè¿°é“¾æ¥èµ·æ¥ã€‚æ­¤å¤–ï¼Œè¯¥æ¨¡å‹è¿˜åŒ…å«æè¿° TileSet ä¸»è¦ç‰¹å¾çš„å…ƒç´ ï¼Œä¿ç•™ä» TileSet åˆ°åŸå§‹æ•°æ®é›†åˆå’Œæ ·å¼çš„è¿æ¥ä»¥åŠå¼€å§‹å¯¼èˆªçš„æ¨èä¸­å¿ƒç‚¹ã€‚\nğŸ’¡ å…¶å®ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªå’ŒTileJsonçš„ç›®çš„ä¸€è‡´ï¼Œå³ç»™å‡ºTileSetçš„æè¿°ä¸é™åˆ¶ã€‚\nTileMatrixSet limits æƒ³è±¡ä¸€ç§æƒ…å†µï¼Œç“¦ç‰‡é›†è¦†ç›–ç“¦ç‰‡çŸ©é˜µé›†çš„æ•´ä¸ªè¾¹ç•Œæ¡†ã€‚ç°åœ¨ï¼Œæƒ³è±¡ä¸€ä¸‹ç“¦ç‰‡é›†èŒƒå›´éœ€è¦æ‰©å±•åˆ°æ¯ä¸ªç“¦ç‰‡çŸ©é˜µçš„åŸç‚¹å’ŒåŸç‚¹ä¹‹å¤–ã€‚æ›´æ”¹åŸç‚¹ä¼šæ›´æ”¹ä»»ä½•ç“¦ç‰‡è¡Œç´¢å¼•å’Œç“¦ç‰‡åˆ—ç´¢å¼•çš„ä½ç½®ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨æ–°çš„ç“¦ç‰‡é›†ä¸­ï¼Œè¦†ç›–ä¸å‰ä¸€ä¸ªç“¦ç‰‡é›†ç›¸åŒçš„è¾¹ç•Œæ¡†çš„ç“¦ç‰‡æ¥æ”¶ä¸åŒçš„ç“¦ç‰‡è¡Œç´¢å¼•å’Œç“¦ç‰‡åˆ—ç´¢å¼•ã€‚è¿™ä¼šä½¿å®¢æˆ·ç«¯å¯èƒ½å·²å­˜å‚¨çš„ä»»ä½•ç¼“å­˜åˆ‡ç‰‡å¤±æ•ˆï¼Œå¹¶ä¸”æ‰€æœ‰å®¢æˆ·ç«¯å‰¯æœ¬éƒ½éœ€è¦æ›´æ–°ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæ•°æ®é›†å¯ä»¥é€‰æ‹©ä½¿ç”¨æ›´é€šç”¨çš„ TileMatrixSet æ¥è¦†ç›–æ›´å¤§çš„åŒºåŸŸï¼ˆç”šè‡³æ•´ä¸ªåœ°çƒï¼Œä¾‹å¦‚é™„å½• D ä¸­å®šä¹‰çš„åŒºåŸŸä¹‹ä¸€ï¼‰ã€‚äº‹å®ä¸Šï¼Œå®šä¹‰æœªæ¥å¯èƒ½è¢«æ•°æ®é›†è¦†ç›–çš„åŒºåŸŸçš„ TileMatrixSet å¯ä»¥è½»æ¾åœ°é‡æ–°ç”¨äºè®¸å¤šå…¶ä»–æ•°æ®é›†ï¼Œå¹¶æˆä¸ºé€šç”¨çš„ TileMatrixSetã€‚\nä¸ºäº†é€šçŸ¥å®¢æˆ·ç«¯æœ‰å…³tilesetä¸­tileç´¢å¼•çš„æœ‰æ•ˆèŒƒå›´ï¼Œå¼•å…¥äº†TileMatrixSetLimitsæ¦‚å¿µã€‚ TileMatrixSetLimits åˆ—è¡¨å‘ŠçŸ¥åŒ…å«å®é™…æ•°æ®çš„æ¯ä¸ª TileMatrix çš„è¿™äº›ç´¢å¼•çš„æœ€å°å’Œæœ€å¤§é™åˆ¶ã€‚è¿™äº›é™åˆ¶ä¹‹å¤–çš„åŒºåŸŸè¢«è§†ä¸ºç©ºç™½åŒºåŸŸï¼Œå¹¶ä¸”ä¸è¢«ç“¦ç‰‡é›†è¦†ç›–ã€‚\nğŸ’¡ å…¶å®è¿™é‡Œå°±è§£é‡Šäº†GeoWebCacheä¸­GridSetå’ŒGridSubsetçš„å…³ç³»ï¼ŒåŒæ—¶è¿™å°±å¯¹åº”äº†GeoServerä¸­404çš„å“åº”ï¼ŒGeoServeré€šè¿‡æ­¤æ³•å¯ä»¥é¿å…å¤§é‡æ— æ•ˆçš„è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ï¼ˆç¼“å­˜æˆ–æ•°æ®æºï¼‰ï¼Œä¹Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†ç³»ç»Ÿæ•´ä½“çš„å®‰å…¨æ€§ã€‚ä½†æ˜¯æ­¤æ³•æœ‰ä¸ªç¼ºç‚¹ï¼šå°±æ˜¯éœ€è¦æå‰ç¡®å®šæ•°æ®æºçš„èŒƒå›´ï¼ˆBoundingBoxï¼ŒGeoServerä¼šè¯»å–æ•°æ®çš„MBRèŒƒå›´å¹¶ç¼“å­˜ï¼‰ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨çš„è®¾ç½®è¯¥èŒƒå›´ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä»æ•°æ®åº“è¿›è¡Œè·å–ï¼Œæˆ–è€…æ˜¯å‘¨æœŸæ€§çš„æ›´æ–°è¯¥èŒƒå›´ã€‚æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘è§‰å¾—åˆ©æ˜¯å¤§äºå¼Šçš„ï¼Œå¯ä»¥é€šè¿‡ä¸€äº›å…¶ä»–çš„æ‰‹æ®µè¿›è¡Œä¼˜åŒ–ã€‚\nTileSetMetadata requirements class ğŸ’¡ ğŸ¤”ï¼Œå…¶å®æˆ‘æ„Ÿè§‰æœ‰äº›è¿‡äºå¤æ‚äº†ã€‚åœ¨å½“ä¸‹çš„ç¯å¢ƒä¸­ï¼Œæˆ‘è®¤ä¸ºå¯ä»¥ç»“åˆTileJsonè§„èŒƒå®ç°ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„ç®€åŒ–ã€‚\nå°ç»“ ä¸Šç¯‡ä¸»è¦æ˜¯å¯¹ **OGC Two Dimensional Tile Matrix Set and Tile Set Metadata** ä¸€æ–‡ä¸­é‡ç‚¹å†…å®¹çš„ç¿»è¯‘ï¼Œå¹¶é™„ä¸Šéƒ¨åˆ†æ³¨è§£ã€‚ä¸è¿‡ä¸ªäººç†è§£æœ‰é™ï¼Œå¦‚æœ‰å­˜åœ¨åé¢‡çš„æ–¹æ³•ï¼Œè¿˜å¸Œæœ›å¤§å®¶å¤šæŒ‡æ•™ ğŸ˜¬ ğŸ¤ï¼\nğŸ’¡ æ–‡ä¸­è®¸å¤šéƒ¨åˆ†é™„ä¸ŠåŸæ–‡ï¼ˆè‹±æ–‡ï¼‰ï¼Œæ˜¯æ‹…å¿ƒç¿»è¯‘ä¸ä¸€å®šèƒ½å¤Ÿè¡¨è¾¾åŸæ–‡çš„æ„æ€ï¼Œæ‰€ä»¥ä¿ç•™åŸæ–‡ã€‚ä½†å¦‚æœå…¨éƒ¨éƒ½é™„ä¸ŠåŸæ–‡å°†ä¼šå¯¼è‡´ç¯‡å¹…æ¿€å¢ï¼Œæ‰€ä»¥ä»…åœ¨è¾ƒä¸ºç®€çŸ­ä¸”ç›¸å¯¹é‡è¦çš„åœ°æ–¹é™„ä¸ŠåŸæ–‡ã€‚\npsï¼šé™„å½•ä¹Ÿæ˜¯é‡ç‚¹å†…å®¹ï¼Œä¸è¦é”™è¿‡å“¦ğŸ™„\né™„å½• ANNEX D (INFORMATIVE) COMMON TILEMATRIXSET DEFINITIONS æœ¬é™„ä»¶åŒ…æ‹¬ä¸€äº›å¸¸ç”¨çš„ TileMatrixSet å®šä¹‰ã€‚\nWebMercator [webå¢¨å¡æ‰˜æŠ•å½±] äººä»¬å¯ä»¥å®šä¹‰ä»»æ„æ•°é‡çš„ç¼©æ”¾çº§åˆ«ï¼Œå¹¶ä¸”ä¸éœ€è¦åŒ…æ‹¬æ­¤å¤„å®šä¹‰çš„æ‰€æœ‰ç¼©æ”¾çº§åˆ«ã€‚è¿™é‡Œï¼Œç¤ºå‡ºäº†25ä¸ªç¼©æ”¾çº§åˆ«ã€‚ å¢¨å¡æ‰˜æŠ•å½±è¶Šé è¿‘ä¸¤æï¼Œå•å…ƒå°ºå¯¸å°±ä¼šå˜å½¢ã€‚æ­¤å¤„æä¾›çš„åƒå…ƒå¤§å°ä»…åœ¨é è¿‘èµ¤é“çš„ä¸œè¥¿æ–¹å‘ä¸Šæœ‰æ•ˆã€‚ EPSG CRS ä»£ç  3857 æ˜¯ Web Mercator çš„å®˜æ–¹ä»£ç ã€‚æœ€åˆåˆ†é…äº†ä¸€ä¸ªéå®˜æ–¹ä»£ç â€œ900913â€ï¼ˆGOOGLE ç”¨æ•°å­—æ‹¼å†™ï¼‰ï¼Œæœ‰æ—¶ä»åœ¨ä½¿ç”¨ã€‚ è¯¥ç“¦ç‰‡çŸ©é˜µé›†æ˜¯å¤§ä¼—å¸‚åœºä¸­æœ€å¸¸ç”¨çš„ç“¦ç‰‡çŸ©é˜µé›†ï¼šä¾‹å¦‚ï¼ŒGoogle åœ°å›¾ã€Microsoft Bing åœ°å›¾å’Œ OpenStreetMapã€‚ç„¶è€Œï¼Œå®ƒé•¿æœŸä»¥æ¥ä¸€ç›´å—åˆ°æ‰¹è¯„ï¼Œå› ä¸ºå®ƒæ˜¯åŸºäºçƒå½¢å¢¨å¡æ‰˜è€Œä¸æ˜¯æ¤­çƒä½“ã€‚ WebMercatorQuad çš„ä½¿ç”¨åº”ä»…é™äºå¯è§†åŒ–ã€‚ä»»ä½•é™„åŠ ç”¨é€”ï¼ˆåŒ…æ‹¬è·ç¦»æµ‹é‡ã€è·¯ç”±ç­‰ï¼‰éƒ½éœ€è¦é¦–å…ˆä½¿ç”¨å¢¨å¡æ‰˜çƒé¢è¡¨è¾¾å¼å°†åæ ‡è½¬æ¢ä¸ºé€‚å½“çš„ CRSã€‚\nğŸ’¡ å…¶å®ç›®å‰å¾ˆå¤šäººéƒ½æ³¨æ„åˆ°è¯¥é—®é¢˜äº†ï¼ˆä¸”åº”è¯¥æ³¨æ„åˆ°ï¼‰ï¼Œä¸€èˆ¬çš„åšæ³•æ˜¯ï¼Œä½¿ç”¨3857è¿›è¡Œå¯è§†åŒ–ï¼Œä½¿ç”¨4326ï¼ˆ4490ï¼‰è¿›è¡Œåˆ†æè®¡ç®—ã€‚æ•°æ®çš„å­˜å‚¨ä¸Šä¹Ÿæ˜¯å­˜ä¸¤ä»½ï¼ˆä¹Ÿå¯èƒ½åªå­˜ä¸€ä»½ï¼‰ï¼Œä¹Ÿå°±æ˜¯3857å’Œ4326ï¼ˆ4490ï¼‰ã€‚è¿™æ ·çš„å­˜å‚¨è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯å¯è§†åŒ–ä¸å†éœ€è¦åŠ¨æ€æŠ•å½±ã€‚æ¯•ç«ŸåŠ¨æ€æŠ•å½±ç›¸å¯¹è€Œè¨€è¿˜æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œç®—æ˜¯æ€§èƒ½æŸè€—ç‚¹ï¼Œæ­¤æ–¹å¼ä¹Ÿæ˜¯ç©ºé—´æ¢æ—¶é—´äº†ã€‚\npsï¼šæ— è°“å¥½åï¼Œåªæœ‰é€‚åˆï¼ ğŸ˜‰\nğŸ’¡ æ³¨ï¼šEPSG æ•°æ®åº“ç‰ˆæœ¬ 8.9 å…³äº 3857 çš„æè¿°æ˜¯ï¼šâ€œä½¿ç”¨æ¤­çƒåæ ‡çš„çƒé¢å±•å¼€ã€‚ç›¸å¯¹äºWGS 84 / World Mercator (CRS code 3395)ï¼Œåœ°å›¾ä¸Šå¯èƒ½ä¼šå‡ºç° 0.7% çš„æ¯”ä¾‹è¯¯å·®å’ŒåŒ—å‘å·®å¼‚è¾¾ 43 å…¬é‡Œï¼ˆç›¸å½“äºåœ°é¢ 21 å…¬é‡Œï¼‰ã€‚â€\næ‰€ä»¥ä½¿ç”¨ Web å¢¨å¡æ‰˜å¯èƒ½ç”Ÿæˆé”™è¯¯çš„åœ°ç†ç©ºé—´å®šä½ä¿¡æ¯ï¼Œå¯¹å…¨çƒå¯¼èˆªæ´»åŠ¨å®‰å…¨ä»¥åŠéœ€è¦ç²¾ç¡®å®šä½å’Œå¯¼èˆªçš„å›½é˜²éƒ¨ã€æƒ…æŠ¥ç•Œå’Œç›Ÿå†›åˆä½œä¼™ä¼´ç³»ç»Ÿã€ä»»åŠ¡å’Œæ“ä½œæ„æˆä¸å¯æ¥å—çš„é£é™©ä¿¡æ¯ã€‚â€å»ºè®®ä½¿ç”¨ WorldMercatorWGS84Quadï¼ˆå› ä¸ºå…¶åŸºäºæ¤­çƒä½“å¢¨å¡æ‰˜æŠ•å½±ï¼‰ ğŸ«£\nWorldCRS84Quad/Variant 1: World CRS84 Quad (recommended) æ­¤ TileMatrixSet ä¸­çš„ç¼©æ”¾çº§åˆ«æ ‡è¯†ç¬¦ä¸å¯¹åº”äº WMTS 1.0 çš„é™„ä»¶ E.3 ä¸­çš„ç›¸åŒæ¯”ä¾‹å€¼ã€‚åœ¨è¿™ä¸ªTileMatrixSetä¸­ï¼Œæ ‡è¯†ç¬¦ä¸ºâ€œ-1â€çš„TileMatrixåªæœ‰ä¸€ä¸ªå›¾å—ï¼Œæœ‰128è¡Œç•™ç©ºã€‚å› æ­¤ï¼Œè®¸å¤šå®æ–½è€…ä¸æƒ³æä¾›è¿™ä¸€çº§åˆ«ï¼ˆåŒ…æ‹¬ INSPIRE æŠ€æœ¯æŒ‡å—ï¼‰ï¼Œè€Œæ˜¯æ›´å–œæ¬¢ä»ä»…ç”¨ 2 ä¸ªç“¦ç‰‡ï¼ˆä¸€ä¸ªç”¨äºè´Ÿç»åº¦ï¼Œä¸€ä¸ªç”¨äºæ­£ç»åº¦ï¼‰è¡¨ç¤ºä¸–ç•Œçš„ TileMatrix å¼€å§‹ã€‚\næ­¤ TileMatrixSet å’Œ WorldMercatorWGS84Quad å’Œ WebMercatorQuad çš„æ¯”ä¾‹åˆ†æ¯ç›¸åŒï¼Œä½†æ ‡è¯†ç¬¦è¢«æ›¿æ¢ä¸º 1ï¼ˆæœ¬ä¾‹ä¸­ä¸º0ï¼‰ã€‚è¿™å¯èƒ½ä¼šäº§ç”Ÿæ··ä¹±ã€‚ã€å› ä¸ºç›¸å¯¹WorldMercatorWGS84Quad å’Œ WebMercatorQuad ï¼Œæœ¬ä¾‹å°‘äº†ä¸€å±‚ã€‚ã€‘\nğŸ’¡ ä¸Šå›¾ä¸­çš„idåº”è¯¥æ˜¯0æ‰å¯¹ï¼Œä»å®šä¹‰ä¸Š0çº§æ˜¯2x1ã€‚åŒæ—¶ï¼Œç›¸å¯¹WorldMercatorWGS84Quadã€ WebMercatorQuad ä»¥åŠæˆ‘å›½çš„CGCS2000ç»çº¬åº¦åˆ‡ç‰‡æ–¹æ¡ˆï¼Œæœ¬ä¾‹å°‘äº†ä¸€å±‚ï¼ˆä¹Ÿå°±æ˜¯0çº§æ˜¯1x1çš„çŠ¶æ€ï¼‰ã€‚\nWorldCRS84Quad/Variant 2: World EPSG:4326 Quad å°½ç®¡ç¬¬ 6.2.1.1 æ¡ä¸­æœ‰è§„å®šï¼Œä¸€äº›å®ç°è€…æ›´å–œæ¬¢ä½¿ç”¨ CRS http://www.opengis.net/def/crs/EPSG/0/4326 å®šä¹‰ä»¥å‰çš„ TileMatrixSetã€‚ è¯¥å®šä¹‰ä¸ä½¿ç”¨ http://www.opengis.net/def/crs/OGC/1.3/CRS84 å®šä¹‰çš„å˜ä½“ç›¸åŒï¼Œåªæ˜¯ CRS åæ ‡ï¼ˆEPSG:4326ï¼‰ä»¥çº¬åº¦ã€ç»åº¦é¡ºåºè¡¨ç¤ºï¼ˆCRS84æ˜¯ç»åº¦ã€çº¬åº¦é¡ºåºçš„è¡¨ç¤ºï¼‰ï¼Œä»…å½±å“ PointOfOrigin å’Œ BoundingBox ç¼–ç ã€‚ å¯¹äºå¤§å¤šæ•°å®é™…ç›®çš„ï¼Œè¿™ä¸¤ç§å˜ä½“æ˜¯ç­‰æ•ˆçš„ï¼Œå› ä¸º TileMatrixSet ä¸»è¦å®šä¹‰ç“¦ç‰‡å¹³é“ºç»“æ„ä»¥åŠæ¯ä¸ªç“¦ç‰‡çŸ©é˜µçš„æ¯”ä¾‹/åˆ†è¾¨ç‡ï¼Œè€Œä¸æ˜¯æ¯ä¸ªå¹³é“ºå†…çš„æ•°æ®çš„å­˜å‚¨æ–¹å¼ã€‚\nå¯¹äºè®¸å¤šæ …æ ¼å’ŒçŸ¢é‡åˆ‡ç‰‡æ ¼å¼ï¼ŒCRS84 å’Œ EPSG:4326 æ˜¯ç­‰æ•ˆçš„ï¼Œå› ä¸ºå¼ºåˆ¶æ‰§è¡Œç‰¹å®šçš„è½´é¡ºåºã€‚ ä¾‹å¦‚ï¼ŒAPI çš„é™„åŠ å‚æ•°è¿˜å¯ä»¥é€šè¿‡å°† CRS æŒ‡å®šä¸º CRS84 æˆ– EPSG:4326 æ¥è¦†ç›–é»˜è®¤è½´é¡ºåºã€‚\npsï¼šå…¶å®è¿™ä¸¤ç§éƒ½æ˜¯ åŸºäºWGS84ç»çº¬åº¦æŠ•å½±çš„åˆ‡ç‰‡æ–¹æ¡ˆï¼Œå”¯ä¸€çš„å·®å¼‚å°±æ˜¯è½´é¡ºåºçš„é—®é¢˜ã€‚å›½å†…ä½¿ç”¨è‚¯å®šæ˜¯é€‰æ‹©ç»åº¦ä¼˜å…ˆçš„ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯ç»åº¦ã€çº¬åº¦é¡ºåºçš„è¡¨ç¤ºã€‚\npsï¼šåœ¨GeoToolsä¸­å¯ä»¥å¦‚æ­¤ä½¿ç”¨ä»¥å¼•å…¥CRS84ï¼šCRS.decode(\u0026ldquo;CRS:84\u0026rdquo;); GEOGCS[\u0026ldquo;WGS84\u0026rdquo;,\nDATUM[\u0026ldquo;WGS84\u0026rdquo;,\nSPHEROID[\u0026ldquo;WGS84\u0026rdquo;, 6378137.0, 298.257223563]],\nPRIMEM[\u0026ldquo;Greenwich\u0026rdquo;, 0.0],\nUNIT[\u0026ldquo;degree\u0026rdquo;, 0.017453292519943295],\nAXIS[\u0026ldquo;Geodetic longitude\u0026rdquo;, EAST],\nAXIS[\u0026ldquo;Geodetic latitude\u0026rdquo;, NORTH],\nAUTHORITY[\u0026ldquo;Web Map Service CRS\u0026rdquo;,\u0026ldquo;84\u0026rdquo;]]\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è¿™æ ·å¼•å…¥ï¼šCRS.decode(\u0026ldquo;EPSG:4326\u0026rdquo;, true); å¯ä»¥æŒ‡å®šè½´é¡ºåºã€‚æˆ–è€…æ˜¯åœ¨å…¨å±€æŒ‡å®šè½´é¡ºåºï¼šSystem.setProperty(\u0026ldquo;org.geotools.referencing.forceXY\u0026rdquo;, \u0026ldquo;true\u0026rdquo;); å‚è€ƒï¼šGeoTools Axis Order\næ›´å¤šä¿¡æ¯è¯·å‚è€ƒGeoToolsï¼Œä¸”åº”ä»¥å®˜æ–¹æ‰€è¿°ä¸ºä¸»ã€‚\nWorldMercatorWGS84Quad æ­¤ç“¦ç‰‡çŸ©é˜µé›†çœ‹èµ·æ¥ä¸å‰ä¸€ä¸ªï¼ˆWeb Mercator Quadï¼‰ç±»ä¼¼ï¼Œä½†è¯¥çŸ©é˜µåŸºäºæ¤­åœ†ä½“å¢¨å¡æ‰˜ã€‚è¯·æ³¨æ„ï¼Œæ­¤è¦†ç›–çš„æœ€åŒ—çº¬åº¦æ˜¯ 85.08405903ï¼ˆä¸ Web Mercator ä¸åŒï¼‰ã€‚\nğŸ’¡ ç¾å›½å›½é˜²éƒ¨ (DoD) ä¸‹å±çš„å›½å®¶åœ°ç†ç©ºé—´æƒ…æŠ¥å±€ (NGA) æµ‹ç»˜åŠå…¬å®¤æé†’å…¬ä¼—åœ¨æ‰€æœ‰å…³é”®ä»»åŠ¡æ´»åŠ¨ä¸­ä½¿ç”¨å›½é˜²éƒ¨æ‰¹å‡†çš„ 1984 å¹´ä¸–ç•Œå¤§åœ°æµ‹é‡ç³»ç»Ÿ (WGS 84) åº”ç”¨ç¨‹åºï¼Œå¹¶é¼“åŠ±ä½¿ç”¨åƒè¿™æ ·çš„ï¼ˆWorldMercatorWGS84Quadï¼‰åŸºäº WGS84 çš„åˆ‡ç‰‡çŸ©é˜µé›†ï¼Œå¹¶é˜»æ­¢ä½¿ç”¨åŸºäº Web å¢¨å¡æ‰˜çš„ Web å¢¨å¡æ‰˜ç“¦ç‰‡çŸ©é˜µé›†ï¼Œä¾‹å¦‚ WebMercatorQuadã€‚\nNGA æµ‹ç»˜åŠå…¬å®¤å»ºè®®ä½¿ç”¨é€šç”¨ç¼©æ”¾çº§åˆ«æ¯”ä¾‹é›†ï¼Œè¯¥æ¯”ä¾‹é›†å®šä¹‰ä¸ºçº¬åº¦ +-31.0606963703645 å¤„çš„çœŸå®åƒå…ƒå¤§å°ï¼Œè¿™æ„å‘³ç€èµ¤é“å¤„çš„æ¯”ä¾‹ç¼©å°äº† 0.857385503731176ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæœ¬æ ‡å‡†å»ºè®®åœ¨èµ¤é“å¤„ä½¿ç”¨æ¯”ä¾‹åˆ†æ¯ã€‚\nANNEX I (INFORMATIVE) PSEUDOCODE æœ¬ä¿¡æ¯é™„ä»¶æä¾›äº†ä¼ªä»£ç ï¼Œè¯´æ˜å¦‚ä½•è·å–è¦†ç›–è¾¹ç•Œæ¡†çŸ©å½¢çš„ç“¦ç‰‡ä»¥åŠå¦‚ä½•è·å–ç»‘å®šç“¦ç‰‡çš„ CRS åæ ‡ã€‚ï¼ˆä¹Ÿå°±æ˜¯ç“¦ç‰‡åæ ‡ç³»ä¸ç“¦ç‰‡å¯¹åº”çš„ç©ºé—´èŒƒå›´CRSåæ ‡çš„ç›¸äº’è½¬æ¢ï¼‰\nä» BBOX åˆ°ç“¦ç‰‡ç´¢å¼• ä»¥ä¸‹ä¼ªä»£ç ç‰‡æ®µå¯ç”¨äºå°† CRS åæ ‡ä¸­çš„æ‰€éœ€è¾¹ç•Œæ¡† (bBoxMinXã€bBoxMinYã€bBoxMaxXã€bBoxMaxY) è½¬æ¢ä¸ºä¸€ç³»åˆ—ç“¦ç‰‡é›†ç´¢å¼•ã€‚æ­¤ä¼ªä»£ç ä½¿ç”¨ä¸å­æ¡æ¬¾ 6.1.1 ç›¸åŒçš„ç¬¦å·ã€‚åœ¨æ­¤ä¼ªä»£ç ä¸­ï¼Œå‡è®¾ bBoxMinXã€bBoxMinYã€bBoxMaxXã€bBoxMaxYã€tileMatrixMinXã€tileMatrixMinYã€tileMatrixMinYã€tileMatrixMaxYã€tileSpanX å’Œ tileSpanY æ˜¯æµ®ç‚¹å˜é‡ (IEEE-754)ï¼Œå…¶ç²¾åº¦é—®é¢˜æºäºè¡¨ç¤ºçš„æœ‰é™ç²¾åº¦ã€‚è¿™äº›ç²¾åº¦é—®é¢˜å¯èƒ½ä¼šåœ¨å…¸å‹çš„ floor() å‘ä¸‹èˆå…¥å‡½æ•°ä¸­è¢«æ”¾å¤§ï¼Œè¯¥å‡½æ•°å¯èƒ½è¿”å›æ¯”é¢„æœŸå€¼ Â±1 çš„å€¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ­¤ä»£ç ä½¿ç”¨åœ¨ CRS åæ ‡ç²¾åº¦ä¸å—å½±å“çš„åœ°æ–¹æ·»åŠ æˆ–å‡å»ä¸€ä¸ªå°å€¼ (epsilon)ã€‚\nè¦è·å–è¦†ç›–æ­¤è¾¹ç•Œæ¡†çš„æ‰€æœ‰ç“¦ç‰‡ï¼Œå®¢æˆ·ç«¯å°†æ‰«æä»tileMinColåˆ°tileMaxColä»¥åŠä»tileMinRowåˆ°tileMaxRowï¼ˆå…¨éƒ¨åŒ…å«åœ¨å†…ï¼‰ã€‚æ€»å…±å°†è·å– (tileMaxCol -tileMinCol + 1) x (tileMaxRow -tileMinRow + 1)ã€‚\nä»ç“¦ç‰‡ç´¢å¼•åˆ° BBOX ä»¥ä¸‹ä¼ªä»£ç å¯ç”¨äºå°†ä¸€å¯¹ç“¦ç‰‡ç´¢å¼•ï¼ˆtileColã€tileRowï¼‰è½¬æ¢ä¸ºç”±ç“¦ç‰‡å·¦ä¸Šè§’ï¼ˆleftXã€upperYï¼‰å®šä¹‰çš„æ­¤ç“¦ç‰‡çš„è¾¹ç•Œæ¡†ï¼ˆä»¥ CRS åæ ‡è¡¨ç¤ºï¼‰ï¼š\nå‚è€ƒ OGC Two Dimensional Tile Matrix Set and Tile Set Metadata Esri æ”¯æŒ GIS å­—å…¸ çŸ¢é‡é‡‘å­—å¡”æŠ€æœ¯ç ”ç©¶ ","permalink":"https://fuyi-atlas.github.io/posts/gis/what-is-tilematrixset/","summary":"å‰è¨€ å…¶å®ï¼Œåœ¨æ­¤å‰çŸ¢é‡é‡‘å­—å¡”æŠ€æœ¯ç ”ç©¶ä¸€æ–‡ä¸­å·²ç»å¤§è‡´æåŠäº†ç“¦ç‰‡é‡‘å­—å¡”ä¸TileMatrixSetçš„å…³ç³»ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åœ¨è¿™é‡Œå†æ¬¡è¯´æ˜å‘¢ï¼Ÿä¸»è¦æ˜¯å‰æ–‡æ›´ä¾§é‡äºçŸ¢é‡é‡‘å­—å¡”çš„æ¦‚å¿µå®šä¹‰ï¼Œå¯¹äºTileMatrixSetçš„æè¿°è¿‡å°‘ï¼Œæ‰€ä»¥æ‰ä¼šå†æ¬¡å¯¹TileMatrixSetè¿›è¡Œè¯´æ˜ã€‚æœ¬æ–‡å°†åŸºäº OGC Two Dimensional Tile Matrix Set æ ‡å‡†å¯¹TileMatrixSetè¿›è¡Œç ”ç©¶æ¢è®¨ï¼Œå°†ä¾§é‡äºè¯´æ˜å…¶åŸºæœ¬æ„æˆè¦ç´ çš„å®šä¹‰ä»¥åŠæ•´ä½“çš„æŠ€æœ¯å®ç°ã€‚è€ŒGeoWebCacheä¸­çš„GridSetä½œä¸ºå…¸å‹å®ç°ï¼Œæœ¬æ–‡å°†ä¼šå¯¹å…¶è¿›è¡Œå†æ¬¡è¯´æ˜ï¼Œä»¥å°è¯OGC å…³äºTileMatrixSetçš„å®šä¹‰ã€‚ç”±äºå†…å®¹è¾ƒå¤šï¼Œæœ¬æ–‡å°†åˆ†ä¸ºä¸‹ä¸Šä¸¤ä¸ªç¯‡ç« è¿›è¡Œæè¿°ã€‚ä¸Šç¯‡æ˜¯å¯¹TileMatrixSetä»¥åŠå…¶æ„æˆè¦ç´ çš„åŸºæœ¬æ¦‚å¿µè¿›è¡Œæè¿°ï¼Œè€Œä¸‹ç¯‡åˆ™æ˜¯å¯¹GeoWebCacheä¸­çš„GridSetå®ç°è¿›è¡Œç ”ç©¶ï¼ŒåŒæ—¶ç»“åˆæˆ‘å›½CGCS2000åˆ‡ç‰‡æ–¹æ¡ˆå¯¹TileMatrixSetæ ¼ç½‘åˆ’åˆ†è®¡ç®—åŸç†è¿›è¡Œæ¢è®¨ï¼Œå¦é™„å¸¦è¯´æ˜Geo Atlasä¸­å…³äºæ­¤æ¨¡å—çš„å®ç°ç»†èŠ‚ã€‚\næœ¬ç« èŠ‚ä¸ºä¸Šç¯‡ï¼šTileMatrixSetåŠå…¶æ„æˆè¦ç´ çš„åŸºæœ¬æ¦‚å¿µã€‚\nä»€ä¹ˆæ˜¯TileMatrixSetï¼Ÿ TileMatrixSetï¼Œå³Tile Matrix Setï¼Œæºè‡ª OGC Two Dimensional Tile Matrix Set(ç›®å‰å·²æ›´æ–°åˆ°v2)ã€‚è¯¥æ ‡å‡†å®šä¹‰äº†ç“¦ç‰‡çŸ©é˜µé›†çš„è§„åˆ™å’Œè¦æ±‚ï¼Œä½œä¸ºä¸€ç§åŸºäºä¸€ç»„è§„åˆ™ç½‘æ ¼å¯¹ç©ºé—´è¿›è¡Œç´¢å¼•çš„æ–¹å¼ï¼Œè¿™äº›è§„åˆ™ç½‘æ ¼ä¸ºåæ ‡å‚è€ƒç³»ç»Ÿä¸­æœ‰é™æ¯”ä¾‹åˆ—è¡¨å®šä¹‰äº†ä¸€ä¸ªåŸŸï¼ˆç“¦ç‰‡çŸ©é˜µï¼‰ã€‚\nğŸ’¡ The OGC Two Dimensional Tile Matrix Set and Tile Set Metadata Standard defines the rules and requirements for a tile matrix set as a way to index space based on a set of regular grids defining a domain (tile matrix) for a limited list of scales in a Coordinate Reference System.","title":"å†è°ˆTileMatrixSetï¼ŒäºŒç»´ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„çš„æ ‡å‡†å®šä¹‰ï¼ˆä¸Šï¼‰"},{"content":"Geo Atlas æ˜¯ä»€ä¹ˆï¼Ÿ Geo Atlasï¼Œè¯‘ä¸ºåœ°ç†åœ°å›¾å†Œ(åœ°ç†åœ°å›¾é›†)ï¼Œå°±åƒå°æ—¶å€™ä¹°åˆ°çš„çº¸è´¨çš„åœ°ç†åœ°å›¾å†Œä¹¦æœ¬ï¼Œé‡Œé¢å¡«å……ç€å„å¼å„æ ·çš„åœ°å›¾ã€‚æ‰€ä»¥, æˆ‘ä¹Ÿå¸Œæœ›æœ‰é‚£ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼ŒåŒæ ·å¯ä»¥å¯¹å¤–æä¾›å„ç§å„æ ·çš„åœ°å›¾ä»¥ä¾›ä½¿ç”¨ã€‚\nç›®å‰æ¥è¯´ï¼Œä»–è¿˜åªæ˜¯ä¸€ä¸ªåŸºäºJavaçš„å¼€å‘çš„ï¼Œå¯ç”¨äºå¿«é€Ÿæ„å»ºçŸ¢é‡åˆ‡ç‰‡æœåŠ¡çš„åŸºç¡€åº“ã€‚\næœ¬ä¾‹ä¸­åŸºäºGeo Atlaså®ç°äº†ä¸€ä¸ªç²¾ç®€ç‰ˆæœ¬çš„çŸ¢é‡åˆ‡ç‰‡æœåŠ¡ï¼Œä»ç»“æœæ¥çœ‹ï¼Œå¯ä»¥å°†å…¶çœ‹ä½œä¸ºä»…å®ç°äº†çŸ¢é‡åˆ‡ç‰‡åŠŸèƒ½çš„GeoServerçš„ç²¾ç®€æå‡ç‰ˆæœ¬ã€‚\nèƒŒæ™¯ä¸åŠ¨æœº é¦–å…ˆï¼Œæˆ‘æ˜¯ä¸€ä¸ªä¸»åšæœåŠ¡ç«¯å¼€å‘çš„GISå¼€å‘å·¥ç¨‹å¸ˆï¼Œå¹³æ—¶æ¥è§¦æœ€å¤šçš„å°±æ˜¯ç®¡ç½‘åœ°å›¾æœåŠ¡å‘å¸ƒã€‚æ­¤å‰çš„å·¥ä½œä¸­æ²¡æœ‰ä½¿ç”¨ä»»ä½•å¹³å°æŠ€æœ¯ï¼Œæ¯”å¦‚ï¼šArcGISã€è¶…å›¾ç­‰ï¼Œè€Œæ˜¯ä½¿ç”¨å¼€æºæŠ€æœ¯ã€‚æŠ€æœ¯æ ˆå¤§ä½“å¯ä»¥æ€»ç»“ä¸ºï¼šSpringBoot + GeoServer + Mapbox + ç©ºé—´æ•°æ®åº“ã€‚\nå…¶æ¬¡ï¼Œç›®å‰åœ¨ä¸šåŠ¡åº”ç”¨ä¸Šï¼ŒäºŒç»´åœ°å›¾è¿˜æ˜¯ä¸»æµã€‚è€ŒäºŒç»´åœ°å›¾æŠ€æœ¯é‡Œé¢ï¼Œå±Mapbox Vector Tileçš„ä½“éªŒæœ€å¥½ã€‚æ‰€ä»¥ï¼Œç›®å‰çš„æŠ€æœ¯è·¯çº¿æ˜¯é€šè¿‡ GeoServer æ¥å‘å¸ƒVector Tileã€‚\nç„¶åï¼Œåœ¨ GeoServer ä½¿ç”¨ä¸­ï¼Œæˆ‘å‘ç°äº†è¿™ä¸ªå‡ ä¸ªé—®é¢˜ï¼š\nå—é™äºå…¶å¼€æºåè®®ï¼ˆGPL 2.0ï¼‰çš„çº¦æŸï¼Œä½ æ— æ³•é€šè¿‡ä¿®æ”¹éƒ¨åˆ†æºä»£ç çš„æ–¹å¼ï¼Œå°†å…¶ç›´æ¥é›†æˆåˆ°ç³»ç»Ÿå†…éƒ¨ã€‚åªèƒ½æ˜¯å•ç‹¬éƒ¨ç½²ï¼Œé€šè¿‡å…¶æä¾›çš„RESTæ¥å£è¿›è¡Œäº¤äº’ã€‚åŸºäºæ­¤ï¼Œéƒ¨ç½²æ–¹å¼åŒæ ·å—é™ã€‚ GeoServer æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„ä¸œè¥¿ï¼ŒåŒæ—¶ä»–æ˜¯ä¸€ä¸ªå•ä½“é¡¹ç›®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå“ªæ€•æˆ‘åªéœ€è¦æä¾›MWTS+MVTæœåŠ¡ï¼Œæˆ‘ä¹Ÿéœ€è¦éƒ¨ç½²ä¸€ä¸ªå…¨åŠŸèƒ½çš„èŠ‚ç‚¹ï¼Œæ— æ³•æŒ‰éœ€ä½¿ç”¨ï¼ˆè¿™é‡Œä¸å¾—ä¸æä¸€ä¸‹GeoServer Cloudé¡¹ç›®ï¼Œä½†æ˜¯å®ƒæå‡ºå¾—è¦æ±‚æ›´å¤šäº†ï¼Œéœ€è¦ä¸€å¥—å¾®æœåŠ¡çš„ç¯å¢ƒï¼‰ ä»å…¬è°¨ã€ŠWebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ã€‹ä¸€æ–‡æ¨è®ºï¼ŒGeoServerä¸­æä¾›çš„MVTæŠ€æœ¯ï¼ˆæŒ‡æ•°æ®åˆ‡ç‰‡è¿‡ç¨‹ï¼‰å·²ç»ç®—æ˜¯åˆ‡ç‰‡èµ·æºæ—¶ä»£çš„äº§ç‰©äº†ï¼Œè€Œä»Šå·²ç»è·¨è¿‡äº†çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ï¼ˆæ•°æ®è¿˜æ˜¯é¢„åˆ‡ï¼‰ï¼Œè¿›å…¥äº†åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£äº† GeoServerä¸­Vector Tileä¸GeoWebcacheä¸­çš„Tile MetaæŠ€æœ¯æœ‰å†²çªï¼Œç“¦ç‰‡æ¸…ç†å­˜åœ¨BUGã€‚å¯ä»¥ç†è§£ä¸ºï¼ŒGeoServerå¯¹äºçŸ¢é‡ç“¦ç‰‡çš„æ”¯æŒå¹¶ä¸æ˜¯å¾ˆå¥½ã€‚ ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ç“¦ç‰‡ç¼“å­˜ä¸åŠ¨æ€ä¸šåŠ¡æ•°æ®çš„çŸ›ç›¾ï¼Œå³ä½¿GeoWebcacheæä¾›ç¼“å­˜æ¸…ç†çš„ç­–ç•¥ã€‚ï¼ˆLayerä¸­BoundingboxèŒƒå›´é—®é¢˜ï¼‰ GeoServerå®Œå…¨æ˜¯æ …æ ¼é‡‘å­—å¡”æŠ€æœ¯çš„å®ç°ï¼Œä¸è¿‡æ˜¯å°†æ …æ ¼é‡‘å­—å¡”æŠ€æœ¯åŒæ—¶åº”ç”¨åœ¨æ …æ ¼æ•°æ®å’ŒçŸ¢é‡æ•°æ®ä¸Šï¼ŒåŒæ—¶ä»–å¹¶æ²¡æœ‰å¾ˆå¥½çš„é’ˆå¯¹ä¸åŒå±‚çº§å¯¹æ•°æ®è¿›è¡ŒæŠ½ç¨€ç®€åŒ–ï¼ˆå…¶å°è¯•ä»æœåŠ¡ç«¯é…å›¾SLDä¸­è·å–æ•°æ®åˆ†çº§è§„åˆ™ï¼Œæˆ‘æ²¡æœ‰æµ‹è¯•è¿‡ï¼Œä½†åå¯¹ï¼Œç†ç”±å‚è§: å…³äºçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æ”¯æŒå‰ç«¯æ¸²æŸ“å¸¦æ¥çš„æ€è€ƒï¼‰ï¼Œé‚£ä¹ˆå°±å‡ºç°äº†ä¸€ä¸ªpbfæœ‰è¿‘20Mçš„æƒ…å†µã€‚åŒæ—¶ä¹Ÿå›ç­”äº†ä¸ºä»€ä¹ˆç°åœ¨å¤§å®¶éƒ½ç›´æ¥åœ¨æ•°æ®åº“å±‚é¢å®ç°çŸ¢é‡ç“¦ç‰‡ï¼ˆæˆ–è€…è¯´æ˜¯åœ¨æ•°æ®æºä¸­ï¼‰ï¼Œä¸€æ˜¯å¯ä»¥æ— è§†æ•°æ®ä¼ é€’çš„æ—¶é—´æŸè€—ï¼›äºŒæ˜¯å¯ä»¥ç›´æ¥åšæŠ½ç¨€ç®€åŒ–ï¼Œè¿™æ ·å‡ºå»çš„æ•°æ®å°‘äº†ï¼Œä¼ è¾“é€Ÿåº¦è‡ªç„¶ä¹Ÿå¿«äº†ï¼›ä¸‰æ˜¯æ•°æ®åº“ç©ºé—´æ”¯æŒå·²ç»å¾ˆæˆç†Ÿäº†ï¼›å››æ˜¯é—¨æ§›é«˜å•Šï¼ˆæŠ¤åŸæ²³ï¼‰\næœ€åï¼Œæˆ‘ä¹Ÿæƒ³å¯¹æˆ‘ç›®å‰çš„çŠ¶æ€åšä¸€æ¬¡æ€»ç»“ã€‚é‚£ä¹ˆï¼ŒGeo Atlasåº”è¯¥å°±æ˜¯æˆ‘æœ€å¥½çš„æ€»ç»“æ–¹å¼ã€‚å› ä¸ºå®ƒæ—¢å¯ä»¥ä¸°å¯Œæˆ‘çš„ç®€å†ğŸ«£ï¼Œåˆå¯ä»¥å¸®åŠ©æˆ‘ç»˜åˆ¶æŠ€èƒ½æ ‘ï¼Œå®Œæˆè¿™ä¸€æ¬¡çš„æ€»ç»“ã€‚\nps: å½“ç„¶ï¼Œè¿˜æœ‰å½“ä¸‹ä¿¡åˆ›çš„èƒŒæ™¯åŸå› ã€‚å°±å½“ï¼ŒæŠ›ç –å¼•ç‰äº†ğŸ˜§ï¼Œå“ˆå“ˆå“ˆğŸ˜¬\nç‰¹æ€§ éµå¾ª OGC Two Dimensional Tile Matrix Set and Tile Set Metadata Standard 2.0 [å¹¶ä¸å®Œå…¨éµå¾ª] å°è¯•éµå¾ª NEW OGC API æä¾›çŸ¢é‡åˆ‡ç‰‡èƒ½åŠ› æ”¯æŒè‡ªå®šä¹‰æ•°æ®å±æ€§åˆ†çº§è§„åˆ™ æ”¯æŒGoogleç“¦ç‰‡åæ ‡ç³»(åŸç‚¹åœ¨å·¦ä¸Šè§’, é»˜è®¤å³ä¸ºGoogleç“¦ç‰‡åæ ‡ç³») æ”¯æŒ3857(900913), 4490æŠ•å½±(å³é»˜è®¤æä¾›ç›¸åº”çš„TileMatrixSet) æ”¯æŒè‡ªå®šä¹‰åæ ‡ç³»åŠè‡ªå®šä¹‰åæ ‡è½¬æ¢è¡Œä¸º(æºæ•°æ®åæ ‡ç³») æ”¯æŒè‡ªå®šä¹‰æ•°æ®èŒƒå›´(OGC TileMatrixSet Limitsï¼Œæ‹’ç»èŒƒå›´å¤–è¯·æ±‚) æä¾›å…¨å±€ç»Ÿä¸€çš„ï¼Œå¯å¿«é€Ÿé›†æˆçš„ç“¦ç‰‡ç¼“å­˜ç»„ä»¶ï¼Œ æ”¯æŒåŸºäºå†…å­˜å’Œæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ æ”¯æŒä½¿ç”¨GeoPackageè¿›è¡Œç¼“å­˜ æ”¯æŒSeed, Reseed, Truncateä¸‰ç§ç“¦ç‰‡ç¼“å­˜å¤„ç†ç­–ç•¥ æä¾›Namespace, Datastore, FeatureLayerå…ƒæ•°æ®ç®¡ç†æ¨¡å—ï¼Œå¹¶æä¾›ä¸€ä¸ªå¯è§†åŒ–æ“ä½œç•Œé¢(Geo Atlas Dashboard) æä¾›æ …æ ¼æ•°æ®åˆ‡ç‰‡èƒ½åŠ› æä¾›åœ°å½¢æ•°æ®åˆ‡ç‰‡èƒ½åŠ› æä¾›æŒ‰éœ€å¿«é€Ÿé›†æˆèƒ½åŠ›(å°†å¸¸ç”¨åŠŸèƒ½å°è£…ä¸ºå„ç§stater) æˆªå›¾ å¿«é€Ÿå¼€å§‹ ä»¥ä¸‹è¯´æ˜æ—¨åœ¨åŸºäºDockeræŠ€æœ¯å¿«é€Ÿæ­å»ºä¸€ä¸ªçŸ¢é‡åˆ‡ç‰‡æœåŠ¡ç¤ºä¾‹ã€‚\nGeospatial Data Source(With some data) ğŸ’¡ æä¾›ä¸‹è½½çš„æ˜¯çŸ¢é‡æ•°æ®ï¼Œä¸æ˜¯æœ€ç»ˆåœ°å›¾ï¼Œä¸ç¬¦å·åŒ–åçš„åœ°å›¾å†å¯è§†åŒ–è¡¨è¾¾ä¸Šå­˜åœ¨ä¸€å®šå·®å¼‚ã€‚ç”¨æˆ·åˆ©ç”¨æ­¤æ•°æ®ç¼–åˆ¶åœ°å›¾ï¼Œåº”å½“ä¸¥æ ¼æ‰§è¡Œã€Šåœ°å›¾ç®¡ç†æ¡ä¾‹ã€‹æœ‰å…³è§„å®šï¼›ç¼–åˆ¶çš„åœ°å›¾å¦‚éœ€å‘ç¤¾ä¼šå…¬å¼€çš„ï¼Œè¿˜åº”å½“ä¾æ³•å±¥è¡Œåœ°å›¾å®¡æ ¸ç¨‹åºã€‚\nğŸ’¡ æ•°æ®ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨\nTiles API Service(Backend)\nGeo Atlas Dashboard(Frontend)\nè¯·ç¡®ä¿ä½ å·²ç»å®‰è£…å¥½äº†Java, Maven, Dockerä»¥åŠDocker Composeã€‚ æˆ‘æµ‹è¯•ä½¿ç”¨Wsl2(Windows11) + Docker Desktop(4.30.0) + Apache Maven 3.8.7 + Oracle jdk 11.0.20\nå…‹éš†ä»£ç \ngit clone --recursive https://github.com/geoatlas-cloud/geo-atlas.git cd geo-atlas/ é…ç½®ç¯å¢ƒå˜é‡\ncp .env.production.local.template .env.production.local ç„¶åæ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶, å°†å…¶ä¸­çš„é…ç½®é¡¹ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„é…ç½®ï¼Œå¦‚:\nHOST_IPï¼šå®¿ä¸»æœºIP POSTGRES_PASSWORDï¼šPostgreSQLæ•°æ®åº“åˆå§‹åŒ–å¯†ç  JASYPT_ENCRYPTOR_PASSWORDï¼šç”¨äºåŠ å¯†æ•°æ®åº“è´¦æˆ·ä¿¡æ¯çš„å¯†é’¥ CACHE_ENABLEDï¼šæ˜¯å¦å¼€å¯ç¼“å­˜ NEXT_PUBLIC_BASE_MAP_TYPEï¼šåœ°å›¾ç±»å‹, osm|tianditu NEXT_PUBLIC_BASE_MAP_TILE_KEYï¼šå½“ä½¿ç”¨å¤©åœ°å›¾æ—¶éœ€è¦å¡«å†™keyï¼Œ4490ç»çº¬åº¦æŠ•å½±é»˜è®¤ä½¿ç”¨å¤©åœ°å›¾ï¼Œå¦‚æœéœ€è¦è¿›è¡Œ4490ç»çº¬åº¦æŠ•å½±é¢„è§ˆè¿˜è¯·å¡«å†™å¤©åœ°å›¾Key æ‰§è¡Œæ„å»ºè„šæœ¬, æ‹‰èµ·æœåŠ¡\nchmod +x ./build2run.sh ./build2run.sh ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆåè®¿é—®: http://localhost:11003, è€ŒåæŒ‰ç…§GeoServerçš„ä½¿ç”¨ä¹ æƒ¯, é€æ­¥åˆ›å»º\nnamespace datastore feature layer å¯é€šè¿‡é¢„è§ˆçš„æ–¹å¼æ£€æŸ¥ç“¦ç‰‡æœåŠ¡æ˜¯å¦æ­£å¸¸ é»˜è®¤ç»™å‡ºçš„æ•°æ®ä¸ºæˆ‘å›½çš„å¢ƒç•Œä¸æ”¿åŒºæ•°æ®, æ¥è‡ªçœå¸‚å¿æ•°æ®CTAmap, æºè‡ª1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®ï¼ˆ2021ï¼‰ å…¶å®æˆ‘ä¹Ÿæ›¾æå–è¿‡å¢ƒç•Œä¸æ”¿åŒºæ•°æ®(å…¨å›½1:100ä¸‡åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®-å¢ƒç•Œä¸æ”¿åŒºæå–), ä¸è¿‡ä¸ä¸Šè¿°æ•°æ®ç›¸æ¯”è€Œè¨€æ¯”è¾ƒç²—ç³™, åç”±äºæ—¶é—´å…³ç³»æ²¡æœ‰è¿›è¡Œç»†åŒ–, æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨\nåœ¨æä¾›å¢ƒç•Œä¸æ”¿åŒºæ•°æ®çš„åŒæ—¶, è¿˜æ”¯æŒåˆ‡æ¢ä¸ºOSM Chinaçš„æ•°æ®ã€‚ OSM-Chinaæ•°æ®çš„å¤„ç†è¿‡ç¨‹å¤§è‡´ä¸º: å°†æºæ•°æ®é€šè¿‡Osm2pgsqlå…¥åº“, è€Œåä½¿ç”¨pg_dumpåˆ¶ä½œè½¬å‚¨æ–‡ä»¶, å¹¶åŸºäºæ­¤è½¬å‚¨æ–‡ä»¶åˆ¶ä½œPostGISé•œåƒ, åœ¨å®¹å™¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šè‡ªåŠ¨æ¢å¤æ•°æ®ã€‚ ä½†æ˜¯è½¬å‚¨åçš„æ–‡ä»¶æ¯”è¾ƒå¤§, å¯¼è‡´é•œåƒä¹Ÿæ¯”è¾ƒå¤§, åŒæ—¶æ•°æ®æ¯”è¾ƒå¤šå¯¼è‡´æ¢å¤çš„æ—¶å€™æ¯”è¾ƒæ…¢ã€‚å¦‚æœå°†å…¶ä½œä¸ºç¤ºä¾‹ä¸­çš„æ•°æ®æºçš„è¯, é‚£ä¹ˆä¸‰ä¸ªæœåŠ¡å…¨éƒ¨å¯åŠ¨å®Œæˆè€—æ—¶ä¼°è®¡å¾—æœ‰5åˆ†é’Ÿäº†, æ‰€ä»¥å¹¶æœªå°†å…¶ä½œä¸ºé»˜è®¤å¾—æ•°æ®æºã€‚\nå¦‚æœä½ æƒ³è¦ä½¿ç”¨OSMçš„æ•°æ®æµ‹è¯•, å¯ä»¥å°†å…¶ä½œä¸ºé¢å¤–çš„æ•°æ®æºè¿›è¡Œè¿æ¥, è¿™æ ·å°±ä¸ä¼šå½±å“ç¤ºä¾‹åº”ç”¨çš„åˆæ­¥ä½“éªŒäº†\næŒ‡å— ç‚¹å‡»å›¾ç‰‡è·³è½¬Bç«™\næŠ€æœ¯æ¦‚è§ˆ åŸºäºGeoToolsã€GeoWebCacheè¿›è¡ŒGeo Atlasæ„å»ºï¼ŒåŸºäºSpring Boot Frameworkå¯¹å¤–æä¾›å¿«é€Ÿé›†æˆèƒ½åŠ›ã€‚\nGeoToolsæä¾›çŸ¢é‡æ•°æ®è¯»å–ä»¥åŠåæ ‡è½¬æ¢èƒ½åŠ› åœ¨æ­¤å¯¹GeoWebCacheè¿›è¡Œäº†æ‹†åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šåˆ†åˆ«æ˜¯é‡‘å­—å¡”(pyramid, æä¾›ç“¦ç‰‡ç´¢å¼•ä¸ç“¦ç‰‡ç”Ÿæˆèƒ½åŠ›)ä¸ç“¦ç‰‡ç¼“å­˜(tile-cache, æä¾›ç“¦ç‰‡ç¼“å­˜èƒ½åŠ›) Mapbox Vector Tile Generator ç”± java-vector-tile æä¾›æ”¯æŒ\nç³»ç»Ÿæ¶æ„æ¦‚è¿° ä¸‹å›¾æè¿°äº†ç³»ç»Ÿçš„æ€»ä½“æ¶æ„ã€‚\næ­¤å¤„æ›´å¤šçš„è¡¨è¾¾äº†å†…éƒ¨ç»“æ„ä¸å±‚æ¬¡å…³ç³»ï¼Œæ— å…³éƒ¨ç½²\nç»„ä»¶æ¦‚è¿° APP\nGeo Atlas Dashboard: å¯è§†åŒ–æ“ä½œç•Œé¢ Tiles API Application: æä¾›çŸ¢é‡åˆ‡ç‰‡æœåŠ¡çš„åº”ç”¨ç¨‹åº(åŒæ—¶æ”¯æŒDashboard) Boot\nTiles API Boot Stater: å¯¹Tiles APIçš„å¿«é€Ÿé›†æˆå°è£…, çº¦å®šå¤§äºé…ç½® Component\nMetadata Mgmt: æä¾›Namespace, Datastore, FeatureLayerå…ƒæ•°æ®ç®¡ç†æ¨¡å— Tile Cache: æä¾›ç“¦ç‰‡ç¼“å­˜èƒ½åŠ›, ç›®å‰æ”¯æŒåŸºäºå†…å­˜, æ–‡ä»¶ç³»ç»Ÿä¸¤ç§ç¼“å­˜æ–¹å¼, å¯ä»»æ„ç»„åˆ OGC APIS: æä¾›OGC APIs, ç›®å‰ä»…æ”¯æŒTiles API Library\nBase References: åŸºç¡€ä¾èµ–å£°æ˜ Pyramid Model: é‡‘å­—å¡”æ¨¡å‹, ç”¨äºæ„å»ºç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ç´¢å¼•, åŒæ—¶æä¾›åˆ‡ç‰‡ç®¡é“ Tile Generator: ç“¦ç‰‡ç”Ÿæˆå™¨, ç›®å‰ä»…æ”¯æŒMapbox Vector Tile Generator External Data Sources\nConfig Storage: ç”¨äºå­˜å‚¨Namespace, Datastore, FeatureLayerç­‰å…ƒæ•°æ® Geospatial Data Source: ç”¨äºå­˜å‚¨çŸ¢é‡æ•°æ®, å¦‚PostGISã€SQLServer æ„å»º å…‹éš†ä»£ç \ngit clone --recursive https://github.com/geoatlas-cloud/geo-atlas.git cd geo-atlas/ è¦æ„å»ºåº”ç”¨ç¨‹åºï¼Œè¯·ä»æ ¹é¡¹ç›®ç›®å½•è¿è¡Œä»¥ä¸‹å‘½ä»¤, æˆ–è€…ä½¿ç”¨IDEAçš„Mavenæ’ä»¶\nmvn clean install -DskipTests è¿è¡Œè°ƒè¯• é…ç½®ç¯å¢ƒå˜é‡, é»˜è®¤ä½¿ç”¨devç¯å¢ƒ(å½“ç„¶ï¼Œä½ å¯ä»¥ç›´æ¥ä¿®æ”¹dev.ymlæ–‡ä»¶, è€Œä¸æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶)\nè‡ªè¡Œç”¨IDEAæ‰“å¼€é¡¹ç›®ï¼Œç„¶åè¿è¡ŒApplicationç±»ã€‚\næ”¯æŒ thread.zhou@gmail.com thread_zhou@126.com å£°æ˜ä¸è‡´è°¢ Geo Atlasç°ç‰ˆæœ¬å‚ç…§GeoServeråº”ç”¨æ¨¡å¼æ„å»ºï¼Œå¹¶å‚è€ƒäº†GeoServerä»¥åŠGeoServer Cloudçš„å®ç°æ–¹å¼ Pyramidã€IO(in Library)ã€Tile Cacheæ¨¡å—å‡æ¥è‡ªGeoWebCache, æ˜¯å¯¹å…¶è¿›è¡Œäº†æ‹†è§£å’Œå°‘é‡å˜æ›´ çŸ¢é‡æ•°æ®çš„è¯»å–ä¸åæ ‡è½¬æ¢ä½¿ç”¨GeoTools Mapbox Vector Tile Generatorç”± java-vector-tile æä¾›æ”¯æŒ ","permalink":"https://fuyi-atlas.github.io/posts/program/geo-atlas/001/","summary":"Geo Atlas æ˜¯ä»€ä¹ˆï¼Ÿ Geo Atlasï¼Œè¯‘ä¸ºåœ°ç†åœ°å›¾å†Œ(åœ°ç†åœ°å›¾é›†)ï¼Œå°±åƒå°æ—¶å€™ä¹°åˆ°çš„çº¸è´¨çš„åœ°ç†åœ°å›¾å†Œä¹¦æœ¬ï¼Œé‡Œé¢å¡«å……ç€å„å¼å„æ ·çš„åœ°å›¾ã€‚æ‰€ä»¥, æˆ‘ä¹Ÿå¸Œæœ›æœ‰é‚£ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼ŒåŒæ ·å¯ä»¥å¯¹å¤–æä¾›å„ç§å„æ ·çš„åœ°å›¾ä»¥ä¾›ä½¿ç”¨ã€‚\nç›®å‰æ¥è¯´ï¼Œä»–è¿˜åªæ˜¯ä¸€ä¸ªåŸºäºJavaçš„å¼€å‘çš„ï¼Œå¯ç”¨äºå¿«é€Ÿæ„å»ºçŸ¢é‡åˆ‡ç‰‡æœåŠ¡çš„åŸºç¡€åº“ã€‚\næœ¬ä¾‹ä¸­åŸºäºGeo Atlaså®ç°äº†ä¸€ä¸ªç²¾ç®€ç‰ˆæœ¬çš„çŸ¢é‡åˆ‡ç‰‡æœåŠ¡ï¼Œä»ç»“æœæ¥çœ‹ï¼Œå¯ä»¥å°†å…¶çœ‹ä½œä¸ºä»…å®ç°äº†çŸ¢é‡åˆ‡ç‰‡åŠŸèƒ½çš„GeoServerçš„ç²¾ç®€æå‡ç‰ˆæœ¬ã€‚\nèƒŒæ™¯ä¸åŠ¨æœº é¦–å…ˆï¼Œæˆ‘æ˜¯ä¸€ä¸ªä¸»åšæœåŠ¡ç«¯å¼€å‘çš„GISå¼€å‘å·¥ç¨‹å¸ˆï¼Œå¹³æ—¶æ¥è§¦æœ€å¤šçš„å°±æ˜¯ç®¡ç½‘åœ°å›¾æœåŠ¡å‘å¸ƒã€‚æ­¤å‰çš„å·¥ä½œä¸­æ²¡æœ‰ä½¿ç”¨ä»»ä½•å¹³å°æŠ€æœ¯ï¼Œæ¯”å¦‚ï¼šArcGISã€è¶…å›¾ç­‰ï¼Œè€Œæ˜¯ä½¿ç”¨å¼€æºæŠ€æœ¯ã€‚æŠ€æœ¯æ ˆå¤§ä½“å¯ä»¥æ€»ç»“ä¸ºï¼šSpringBoot + GeoServer + Mapbox + ç©ºé—´æ•°æ®åº“ã€‚\nå…¶æ¬¡ï¼Œç›®å‰åœ¨ä¸šåŠ¡åº”ç”¨ä¸Šï¼ŒäºŒç»´åœ°å›¾è¿˜æ˜¯ä¸»æµã€‚è€ŒäºŒç»´åœ°å›¾æŠ€æœ¯é‡Œé¢ï¼Œå±Mapbox Vector Tileçš„ä½“éªŒæœ€å¥½ã€‚æ‰€ä»¥ï¼Œç›®å‰çš„æŠ€æœ¯è·¯çº¿æ˜¯é€šè¿‡ GeoServer æ¥å‘å¸ƒVector Tileã€‚\nç„¶åï¼Œåœ¨ GeoServer ä½¿ç”¨ä¸­ï¼Œæˆ‘å‘ç°äº†è¿™ä¸ªå‡ ä¸ªé—®é¢˜ï¼š\nå—é™äºå…¶å¼€æºåè®®ï¼ˆGPL 2.0ï¼‰çš„çº¦æŸï¼Œä½ æ— æ³•é€šè¿‡ä¿®æ”¹éƒ¨åˆ†æºä»£ç çš„æ–¹å¼ï¼Œå°†å…¶ç›´æ¥é›†æˆåˆ°ç³»ç»Ÿå†…éƒ¨ã€‚åªèƒ½æ˜¯å•ç‹¬éƒ¨ç½²ï¼Œé€šè¿‡å…¶æä¾›çš„RESTæ¥å£è¿›è¡Œäº¤äº’ã€‚åŸºäºæ­¤ï¼Œéƒ¨ç½²æ–¹å¼åŒæ ·å—é™ã€‚ GeoServer æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„ä¸œè¥¿ï¼ŒåŒæ—¶ä»–æ˜¯ä¸€ä¸ªå•ä½“é¡¹ç›®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå“ªæ€•æˆ‘åªéœ€è¦æä¾›MWTS+MVTæœåŠ¡ï¼Œæˆ‘ä¹Ÿéœ€è¦éƒ¨ç½²ä¸€ä¸ªå…¨åŠŸèƒ½çš„èŠ‚ç‚¹ï¼Œæ— æ³•æŒ‰éœ€ä½¿ç”¨ï¼ˆè¿™é‡Œä¸å¾—ä¸æä¸€ä¸‹GeoServer Cloudé¡¹ç›®ï¼Œä½†æ˜¯å®ƒæå‡ºå¾—è¦æ±‚æ›´å¤šäº†ï¼Œéœ€è¦ä¸€å¥—å¾®æœåŠ¡çš„ç¯å¢ƒï¼‰ ä»å…¬è°¨ã€ŠWebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ã€‹ä¸€æ–‡æ¨è®ºï¼ŒGeoServerä¸­æä¾›çš„MVTæŠ€æœ¯ï¼ˆæŒ‡æ•°æ®åˆ‡ç‰‡è¿‡ç¨‹ï¼‰å·²ç»ç®—æ˜¯åˆ‡ç‰‡èµ·æºæ—¶ä»£çš„äº§ç‰©äº†ï¼Œè€Œä»Šå·²ç»è·¨è¿‡äº†çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ï¼ˆæ•°æ®è¿˜æ˜¯é¢„åˆ‡ï¼‰ï¼Œè¿›å…¥äº†åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£äº† GeoServerä¸­Vector Tileä¸GeoWebcacheä¸­çš„Tile MetaæŠ€æœ¯æœ‰å†²çªï¼Œç“¦ç‰‡æ¸…ç†å­˜åœ¨BUGã€‚å¯ä»¥ç†è§£ä¸ºï¼ŒGeoServerå¯¹äºçŸ¢é‡ç“¦ç‰‡çš„æ”¯æŒå¹¶ä¸æ˜¯å¾ˆå¥½ã€‚ ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ç“¦ç‰‡ç¼“å­˜ä¸åŠ¨æ€ä¸šåŠ¡æ•°æ®çš„çŸ›ç›¾ï¼Œå³ä½¿GeoWebcacheæä¾›ç¼“å­˜æ¸…ç†çš„ç­–ç•¥ã€‚ï¼ˆLayerä¸­BoundingboxèŒƒå›´é—®é¢˜ï¼‰ GeoServerå®Œå…¨æ˜¯æ …æ ¼é‡‘å­—å¡”æŠ€æœ¯çš„å®ç°ï¼Œä¸è¿‡æ˜¯å°†æ …æ ¼é‡‘å­—å¡”æŠ€æœ¯åŒæ—¶åº”ç”¨åœ¨æ …æ ¼æ•°æ®å’ŒçŸ¢é‡æ•°æ®ä¸Šï¼ŒåŒæ—¶ä»–å¹¶æ²¡æœ‰å¾ˆå¥½çš„é’ˆå¯¹ä¸åŒå±‚çº§å¯¹æ•°æ®è¿›è¡ŒæŠ½ç¨€ç®€åŒ–ï¼ˆå…¶å°è¯•ä»æœåŠ¡ç«¯é…å›¾SLDä¸­è·å–æ•°æ®åˆ†çº§è§„åˆ™ï¼Œæˆ‘æ²¡æœ‰æµ‹è¯•è¿‡ï¼Œä½†åå¯¹ï¼Œç†ç”±å‚è§: å…³äºçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æ”¯æŒå‰ç«¯æ¸²æŸ“å¸¦æ¥çš„æ€è€ƒï¼‰ï¼Œé‚£ä¹ˆå°±å‡ºç°äº†ä¸€ä¸ªpbfæœ‰è¿‘20Mçš„æƒ…å†µã€‚åŒæ—¶ä¹Ÿå›ç­”äº†ä¸ºä»€ä¹ˆç°åœ¨å¤§å®¶éƒ½ç›´æ¥åœ¨æ•°æ®åº“å±‚é¢å®ç°çŸ¢é‡ç“¦ç‰‡ï¼ˆæˆ–è€…è¯´æ˜¯åœ¨æ•°æ®æºä¸­ï¼‰ï¼Œä¸€æ˜¯å¯ä»¥æ— è§†æ•°æ®ä¼ é€’çš„æ—¶é—´æŸè€—ï¼›äºŒæ˜¯å¯ä»¥ç›´æ¥åšæŠ½ç¨€ç®€åŒ–ï¼Œè¿™æ ·å‡ºå»çš„æ•°æ®å°‘äº†ï¼Œä¼ è¾“é€Ÿåº¦è‡ªç„¶ä¹Ÿå¿«äº†ï¼›ä¸‰æ˜¯æ•°æ®åº“ç©ºé—´æ”¯æŒå·²ç»å¾ˆæˆç†Ÿäº†ï¼›å››æ˜¯é—¨æ§›é«˜å•Šï¼ˆæŠ¤åŸæ²³ï¼‰\næœ€åï¼Œæˆ‘ä¹Ÿæƒ³å¯¹æˆ‘ç›®å‰çš„çŠ¶æ€åšä¸€æ¬¡æ€»ç»“ã€‚é‚£ä¹ˆï¼ŒGeo Atlasåº”è¯¥å°±æ˜¯æˆ‘æœ€å¥½çš„æ€»ç»“æ–¹å¼ã€‚å› ä¸ºå®ƒæ—¢å¯ä»¥ä¸°å¯Œæˆ‘çš„ç®€å†ğŸ«£ï¼Œåˆå¯ä»¥å¸®åŠ©æˆ‘ç»˜åˆ¶æŠ€èƒ½æ ‘ï¼Œå®Œæˆè¿™ä¸€æ¬¡çš„æ€»ç»“ã€‚\nps: å½“ç„¶ï¼Œè¿˜æœ‰å½“ä¸‹ä¿¡åˆ›çš„èƒŒæ™¯åŸå› ã€‚å°±å½“ï¼ŒæŠ›ç –å¼•ç‰äº†ğŸ˜§ï¼Œå“ˆå“ˆå“ˆğŸ˜¬\nç‰¹æ€§ éµå¾ª OGC Two Dimensional Tile Matrix Set and Tile Set Metadata Standard 2.0 [å¹¶ä¸å®Œå…¨éµå¾ª] å°è¯•éµå¾ª NEW OGC API æä¾›çŸ¢é‡åˆ‡ç‰‡èƒ½åŠ› æ”¯æŒè‡ªå®šä¹‰æ•°æ®å±æ€§åˆ†çº§è§„åˆ™ æ”¯æŒGoogleç“¦ç‰‡åæ ‡ç³»(åŸç‚¹åœ¨å·¦ä¸Šè§’, é»˜è®¤å³ä¸ºGoogleç“¦ç‰‡åæ ‡ç³») æ”¯æŒ3857(900913), 4490æŠ•å½±(å³é»˜è®¤æä¾›ç›¸åº”çš„TileMatrixSet) æ”¯æŒè‡ªå®šä¹‰åæ ‡ç³»åŠè‡ªå®šä¹‰åæ ‡è½¬æ¢è¡Œä¸º(æºæ•°æ®åæ ‡ç³») æ”¯æŒè‡ªå®šä¹‰æ•°æ®èŒƒå›´(OGC TileMatrixSet Limitsï¼Œæ‹’ç»èŒƒå›´å¤–è¯·æ±‚) æä¾›å…¨å±€ç»Ÿä¸€çš„ï¼Œå¯å¿«é€Ÿé›†æˆçš„ç“¦ç‰‡ç¼“å­˜ç»„ä»¶ï¼Œ æ”¯æŒåŸºäºå†…å­˜å’Œæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ æ”¯æŒä½¿ç”¨GeoPackageè¿›è¡Œç¼“å­˜ æ”¯æŒSeed, Reseed, Truncateä¸‰ç§ç“¦ç‰‡ç¼“å­˜å¤„ç†ç­–ç•¥ æä¾›Namespace, Datastore, FeatureLayerå…ƒæ•°æ®ç®¡ç†æ¨¡å—ï¼Œå¹¶æä¾›ä¸€ä¸ªå¯è§†åŒ–æ“ä½œç•Œé¢(Geo Atlas Dashboard) æä¾›æ …æ ¼æ•°æ®åˆ‡ç‰‡èƒ½åŠ› æä¾›åœ°å½¢æ•°æ®åˆ‡ç‰‡èƒ½åŠ› æä¾›æŒ‰éœ€å¿«é€Ÿé›†æˆèƒ½åŠ›(å°†å¸¸ç”¨åŠŸèƒ½å°è£…ä¸ºå„ç§stater) æˆªå›¾ å¿«é€Ÿå¼€å§‹ ä»¥ä¸‹è¯´æ˜æ—¨åœ¨åŸºäºDockeræŠ€æœ¯å¿«é€Ÿæ­å»ºä¸€ä¸ªçŸ¢é‡åˆ‡ç‰‡æœåŠ¡ç¤ºä¾‹ã€‚","title":"Geo Atlasï¼Œç”¨äºæ„å»ºçŸ¢é‡åˆ‡ç‰‡æœåŠ¡çš„JavaåŸºç¡€åº“"},{"content":"å‰è¨€ åœ¨å›¾åƒåˆ‡ç‰‡æ—¶ä»£ï¼Œå¤šå±‚æ¬¡æ¨¡å‹ä¾é çš„æ˜¯å½±å“é‡‘å­—å¡”ã€‚å¾—ç›Šäºå½±åƒæ …æ ¼æ•°æ®åˆ†è¾¨ç‡çš„ç‰¹ç‚¹ï¼ŒåŸºäºå½±åƒé‡‘å­—å¡”å¯ä»¥è¾ƒå¥½çš„å®ç°å¤šåˆ†è¾¨ç‡æ¨¡å‹ã€‚ä½†æ˜¯åœ¨çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ä¸­ï¼Œå°±æ— æ³•ç›´æ¥ä»å½±åƒé‡‘å­—å¡”æŠ€æœ¯è·åˆ©äº†ï¼Œå› ä¸ºçŸ¢é‡æ•°æ®ä¸å…·æœ‰åˆ†è¾¨ç‡è¿™ä¸ªç‰¹æ€§ï¼Œè€Œæ˜¯é‡‡ç”¨çŸ¢é‡é‡‘å­—å¡”æŠ€æœ¯æ¥å®ç°å¤šå±‚æ¬¡ã€å¤šå°ºåº¦æ¨¡å‹ã€‚\nå½±åƒé‡‘å­—å¡”ï¼ˆåˆ†å±‚ï¼‰ å½±åƒé‡‘å­—å¡”æŠ€æœ¯é€šè¿‡å½±åƒé‡é‡‡æ ·æ–¹æ³•ï¼Œå»ºç«‹ä¸€ç³»åˆ—ä¸åŒåˆ†è¾¨ç‡çš„å½±åƒå›¾å±‚ï¼Œæ¯ä¸ªå›¾å±‚åˆ†å‰²å­˜å‚¨ï¼Œå¹¶å»ºç«‹ç›¸åº”çš„ç©ºé—´ç´¢å¼•æœºåˆ¶ï¼Œä»è€Œæé«˜ç¼©æ”¾æµè§ˆå½±åƒæ—¶çš„æ˜¾ç¤ºé€Ÿåº¦ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å½±åƒé‡‘å­—å¡”ï¼Œåº•éƒ¨æ˜¯å½±åƒçš„åŸå§‹æœ€é«˜åˆ†è¾¨ç‡çš„è¡¨ç¤ºï¼Œä¸º512Ã—512å›¾åƒåˆ†è¾¨ç‡ï¼Œè¶Šå¾€ä¸Šçš„å½±åƒçš„åˆ†è¾¨ç‡è¶Šå°ï¼Œåˆ†åˆ«ä¸º256Ã—256ï¼Œ128Ã—128ï¼Œé¡¶éƒ¨æ˜¯å½±åƒé‡‘å­—å¡”çš„æœ€ä½åˆ†è¾¨ç‡çš„å›¾åƒ64Ã—64ï¼Œå› æ­¤è¿™ä¸ªå½±åƒé‡‘å­—å¡”å…±æœ‰4å±‚ï¼Œå³4ä¸ªç­‰çº§çš„åˆ†è¾¨ç‡ã€‚æ˜¾ç„¶å½±åƒçš„å›¾åƒåˆ†è¾¨ç‡è¶Šé«˜ï¼Œå½±åƒé‡‘å­—å¡”çš„ç­‰çº§è¶Šå¤šã€‚\nä»ç»™å‡ºçš„å®šä¹‰ä¸å›¾ç¤ºæ¥çœ‹ï¼Œå¥½åƒä¸æˆ‘ä»¬ç›®å‰ä½¿ç”¨çš„ç“¦ç‰‡åœ°å›¾æœ‰ä¸€å®šçš„å·®åˆ«ã€‚æ˜¯çš„ï¼Œè¿™æ˜¯å› ä¸ºå½±åƒé‡‘å­—å¡”è´Ÿè´£çš„å†…å®¹ä»…ä»…æ˜¯æ„å»ºå¤šåˆ†è¾¨ç‡å±‚æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€å±‚éƒ½æ˜¯å¯¹åº”å®Œæ•´æ•°æ®èŒƒå›´çš„ä¸€å—æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åˆ†å±‚ï¼ˆæ …æ ¼æ•°æ®æ˜¯å‡è¡¡çš„ï¼Œå¯ä»¥é€šè¿‡åˆ†è¾¨ç‡æ¥ä½œä¸ºå°ºåº¦æè¿°ï¼Œæ‰€ä»¥å¤šåˆ†è¾¨ç‡å±‚çº§ä¹Ÿå°±å¯¹åº”ç€å¤šå°ºåº¦å±‚çº§ï¼‰ã€‚\nç“¦ç‰‡é‡‘å­—å¡”ï¼ˆåˆ†å—ï¼‰ èŠ‚é€‰è‡ªã€Šé«˜æ€§èƒ½å½±åƒæ•°æ®ç“¦ç‰‡åŒ–å…³é”®æŠ€æœ¯ç ”ç©¶-åˆ˜ä¸–æ°¸-2016ã€‹\nè¦å®ç°ç°å¦‚ä»Šä½¿ç”¨çš„ç“¦ç‰‡åœ°å›¾æ¨¡å‹ï¼Œè¿˜éœ€è¦ç“¦ç‰‡é‡‘å­—å¡”é…åˆå®Œæˆã€‚\nç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹æ˜¯å½“å‰åº”ç”¨æœ€å¹¿çš„å¤šå±‚æ¬¡åœ°å›¾æ•°æ®ç»„ç»‡æ¨¡å‹ï¼Œé€šè¿‡ç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ï¼Œå‰ç«¯åœ¨è¿›è¡Œæ”¾å¤§å’Œç¼©å°æ“ä½œæ—¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æ•°æ®è¯»å–çš„ç©ºé—´æŸ¥è¯¢æ—¶é—´ã€‚é€šè¿‡åªåŠ è½½å¯è§†åŒºåŸŸèŒƒå›´å†…çš„ç“¦ç‰‡ï¼Œå¯ä»¥å‡å°‘æ•°æ®åŠ è½½é‡ï¼Œé™ä½ç½‘ç»œä¼ è¾“å‹åŠ›ï¼Œæé«˜å‰ç«¯çš„æ•°æ®å¯è§†åŒ–é€Ÿåº¦ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç“¦ç‰‡é‡‘å­—å¡”å®åœ¨å½±åƒé‡‘å­—å¡”çš„åŸºç¡€ä¸Šï¼ŒåŸºäºç‰¹å®šè§„æ ¼å¤§å°å¯¹æ¯å±‚å½±åƒè¿›è¡Œåˆ‡å‰²ã€‚æ­¤æ“ä½œä¹Ÿå°±æ˜¯å¯¹åº”ç€æˆ‘ä»¬å¸¸è¯´çš„åˆ†å—ã€‚\næ•°æ®åŸå§‹åˆ†è¾¨ç‡å¹¶ä¸æ˜¯æ ‡å‡†åŒ–çš„ï¼Œåˆ†å±‚ç»“æœå³ä¸å¤Ÿæ ‡å‡†åŒ–ï¼Œä¹Ÿä¸å¤Ÿç»†è‡´ã€‚æ‰€ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå†æ¬¡åˆ†ç‰‡ï¼Œæ—¢æ˜¯å‡å°‘äº†æ•°æ®é‡ä½¿å¾—ä¼ è¾“ä¸åŠ è½½æ•ˆç‡æå‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç»™å‡ºäº†æ ‡å‡†ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚\nç“¦ç‰‡é‡‘å­—å¡”çš„ä¸»è¦åŸç†ä¸ºï¼šåŸºäºæŸä¸ªç‰¹å®šçš„åœ°å›¾æŠ•å½±åæ ‡ç³»ï¼ˆå¸¸è§„æ˜¯Webå¢¨å¡æ‰˜ï¼‰ï¼Œå°†æ›²é¢çš„åœ°çƒæŠ•å½±åˆ°äºŒç»´å¹³é¢ï¼Œè€Œåå°†è¯¥äºŒç»´å¹³é¢è¿›è¡Œå¤šå°ºåº¦åœ°åˆ’åˆ†ï¼Œå³ç›¸å½“äºåˆ¶ä½œäº†å¤šä¸ªä¸åŒåˆ†è¾¨ç‡å±‚çº§çš„æ•°å­—åœ°å›¾ã€‚å„å±‚çº§å¯¹åº”ç›¸åº”ç¼–ç ï¼Œå±‚çº§è¶Šé«˜åœ°å›¾æ‰€å¯¹åº”çš„åˆ†è¾¨ç‡è¶Šé«˜ï¼›è€Œåå¯¹æ¯ä¸€å±‚çº§çš„å…¨çƒç©ºé—´èŒƒå›´åœ°å›¾æŒ‰ç…§æŸç§ç©ºé—´åˆ’åˆ†æ–¹æ³•è¿›è¡Œæ ¼ç½‘åˆ’åˆ†ï¼Œåˆ’åˆ†æˆè‹¥å¹²è¡Œå’Œåˆ—çš„å›ºå®šå°ºå¯¸çš„æ­£æ–¹å½¢æ …æ ¼å›¾ç‰‡ï¼Œè¿™äº›åˆ‡åˆ†å‡ºæ¥çš„è§„æ•´çš„å•ä¸ªæ ¼ç½‘å•å…ƒç§°ä¸ºç“¦ç‰‡ï¼Œå„å±‚çº§çš„åˆ’åˆ†æ–¹æ³•éƒ½æ˜¯ç›¸åŒçš„ã€‚\nç“¦ç‰‡åˆ’åˆ†æ–¹æ³•éœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\næ¯ä¸ªå±‚çº§ä¸‹çš„æ‰€æœ‰ç“¦ç‰‡å¯ä»¥æ— ç¼æ‹¼åˆæˆä¸€å¼ å…¨çƒç©ºé—´èŒƒå›´çš„ä¸–ç•Œåœ°å›¾ æ¯ä¸ªç“¦ç‰‡éƒ½æœ‰å”¯ä¸€ç¼–ç ï¼Œæ ¹æ®ç¼–ç å¯ä»¥è§£ç®—è¯¥ç“¦ç‰‡å¯¹åº”çš„ç©ºé—´èŒƒå›´ åœ¨æŸä¸€å±‚çº§ä¸‹ç»™å®šä¸€åæ ‡ç‚¹å¯ä»¥æ ¹æ®å…¶ç©ºé—´åæ ‡è§£ç®—å…¶æ‰€åœ¨ç“¦ç‰‡çš„ç¼–å· æ¯ä¸€å±‚çº§ç“¦ç‰‡å¯¹åº”ä¸€å±‚é‡‘å­—å¡”åˆ†å±‚ï¼Œæ‰€æœ‰å±‚çº§çš„ç“¦ç‰‡ä¾¿æ„æˆäº†æ•´ä¸ªç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ã€‚æ¯ä¸€å±‚ä¸­çš„ç“¦ç‰‡åˆ’åˆ†æ–¹æ³•ä¸€èˆ¬é‡‡ç”¨å‡åŒ€å››åˆ†çš„åˆ’åˆ†æ–¹æ³•ï¼Œå³ä»¥èµ¤é“å’Œä¸­å¤®ç»çº¿çš„äº¤ç‚¹ä¸ºåˆå§‹ä¸­å¿ƒï¼Œä¸æ–­åœ°å¯¹åœ°å›¾è¿›è¡Œå››åˆ†ï¼Œç›´åˆ°æ¯ä¸ªæ ¼ç½‘çš„å¤§å°ä¸ºtilesize * tilesizeä¸ºæ­¢ï¼Œå…¶ä¸­tilesizeè¡¨ç¤ºå•ä¸ªç“¦ç‰‡çš„è¾¹é•¿ã€‚åŸºäºæ­¤ç§åˆ’åˆ†æ–¹æ³•ï¼Œç¬¬0å±‚é‡‘å­—å¡”ï¼ˆé‡‘å­—å¡”é¡¶å±‚ï¼‰ç”¨ä¸€ä¸ªç“¦ç‰‡å°±èƒ½è¡¨ç¤ºæ•´å¼ ä¸–ç•Œåœ°å›¾ï¼Œç¬¬1å±‚è¦ç”¨4^zä¸ªç“¦ç‰‡æ¥è¡¨ç¤ºæ•´ä¸ªä¸–ç•Œåœ°å›¾ï¼Œzä¸ºå½“å‰ç“¦ç‰‡çš„é‡‘å­—å¡”å±‚çº§ã€‚\nç“¦ç‰‡æŠ•å½±åæ ‡ç³» ç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ä¸­çš„æŠ•å½±åæ ‡ç³»å¯ä»¥æœ‰å¤šç§ï¼Œç›®å‰æœ€å¹¿æ³›é‡‡ç”¨çš„æ˜¯Web MercatoræŠ•å½±ï¼Œå®ƒæ˜¯MercatoræŠ•å½±çš„ä¸€ç§å˜ä½“ã€‚\nç“¦ç‰‡åæ ‡ç³» æ‰€æœ‰ç“¦ç‰‡çš„ç¼–ç éƒ½æ˜¯åŸºäºç“¦ç‰‡åæ ‡ç³»ä¸‹è¿›è¡Œçš„ï¼Œç“¦ç‰‡åæ ‡ç³»çš„åŸç‚¹ä¸€èˆ¬éƒ½åœ¨å·¦ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’ï¼ŒTMSè§„èŒƒä¸­æ˜¯åœ¨å·¦ä¸‹è§’ï¼ˆGeoWebCacheéµå¾ªè¯¥è§„èŒƒï¼‰ï¼Œä½†æ˜¯ç°æœ‰çš„Googleã€Mapnikåˆ‡ç‰‡ç³»ç»Ÿéƒ½æ˜¯é€‰ç”¨å·¦ä¸Šè§’ä½œä¸ºåŸç‚¹ï¼Œæœ¬æ–‡ä¸»è¦ä»¥åŸç‚¹åœ¨å·¦ä¸Šè§’çš„ç“¦ç‰‡åæ ‡ç³»è¿›è¡Œè¯´æ˜ã€‚ ç“¦ç‰‡çš„ç¼–ç æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå±‚çº§ç”¨zè¡¨ç¤ºï¼Œç“¦ç‰‡ç»çº¿æ–¹å‘ï¼ˆæŒ‡ç“¦ç‰‡ç»åº¦å‘ç”Ÿå˜åŒ–çš„æ–¹æ³•ï¼Œå³ä¸œè¥¿å‘ï¼Œä¸œå‘ä¸ºæ­£ï¼‰ä¸Šç¼–å·ä¸ºxï¼Œçº¬çº¿æ–¹å‘ï¼ˆæŒ‡ç“¦ç‰‡ç»´åº¦å‘ç”Ÿå˜åŒ–çš„æ–¹å‘ï¼Œå³å—åŒ—å‘ï¼Œå—å‘ä¸ºæ­£ï¼‰ä¸Šç¼–å·ä¸ºyï¼Œå› æ­¤æ¯ä¸€ä¸ªç“¦ç‰‡éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‰ç»´å…ƒç»„ï¼ˆx,y,zï¼‰æ¥å”¯ä¸€æè¿°ã€‚\næ€»çš„æ¥è¯´ï¼Œå¦‚ä»Šæˆ‘ä»¬æ‰€è¯´çš„å½±åƒï¼ˆæ …æ ¼ï¼‰é‡‘å­—å¡”å¤§å¤šæŒ‡ä»£çš„æ˜¯å½±åƒé‡‘å­—å¡”ä¸ç“¦ç‰‡é‡‘å­—å¡”çš„ç»“åˆä½“æˆ–æ˜¯ç“¦ç‰‡é‡‘å­—å¡”ï¼ˆé»˜è®¤å«æœ‰åˆ†å±‚ï¼‰ï¼Œè€Œä¸æ˜¯å•ç‹¬æŒ‡ä»£åˆ†å±‚æˆ–è€…å•ç‹¬æŒ‡ä»£åˆ†å—ã€‚\nçŸ¢é‡é‡‘å­—å¡” å½±åƒé‡‘å­—å¡”æ˜¯ä¸ºæ …æ ¼æ•°æ®æœåŠ¡çš„ï¼Œä¹Ÿæ˜¯å›¾åƒåˆ‡ç‰‡æ—¶ä»£çš„æ ¸å¿ƒäº§ç‰©ã€‚ä½†æ˜¯åˆ°äº†çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£åï¼Œç”±äºçŸ¢é‡æ•°æ®å¹¶ä¸å…·å¤‡åˆ†è¾¨ç‡çš„ç‰¹æ€§ï¼Œä¸”çŸ¢é‡æ•°æ®ä¸åŒäºæ …æ ¼æ•°æ®ï¼Œå®ƒæœ‰ç€ç–å¯†ä¸ä¸€è‡´ã€åˆ†å¸ƒä¸å‡ä¸çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥åˆ©ç”¨å½±åƒé‡‘å­—å¡”æŠ€æœ¯ã€‚ä¸è¿‡ç“¦ç‰‡é‡‘å­—å¡”æ˜¯åŸºäºåˆ†å±‚é‡‘å­—å¡”çš„åŸºç¡€ä¸Šæ„å»ºçš„ï¼Œæ‰€ä»¥å¯¹æ•°æ®ç±»å‹å¹¶æ²¡æœ‰è¦æ±‚ï¼Œåœ¨çŸ¢é‡åˆ‡ç‰‡ä¸­æ˜¯å¯ä»¥ç›´æ¥å¤ç”¨çš„ã€‚æ€»è€Œè¨€ä¹‹ï¼Œåœ¨çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ä¸­ï¼Œéœ€è¦ä¸€ä¸ªç¬¦åˆçŸ¢é‡æ•°æ®ç‰¹ç‚¹çš„åˆ†å±‚æ¨¡å‹ï¼Œä½œä¸ºçŸ¢é‡æ•°æ®æºä¸ç“¦ç‰‡é‡‘å­—å¡”ä¹‹é—´æ²Ÿé€šçš„æ¡¥æ¢ã€‚åŒæ—¶è€ƒè™‘åˆ°åº”ç”¨ä¸Šçš„å…¼å®¹æ€§ï¼Œæ‰€ä»¥æœ€ç»ˆåŸºäºé‡‘å­—å¡”ç†è®ºä¹‹ä¸Šè¿›è¡Œåˆ†å±‚æ¨¡å‹çš„å®šä¹‰ï¼Œè°“ä¹‹ï¼šçŸ¢é‡é‡‘å­—å¡”ã€‚\nå¯¹äºçŸ¢é‡æ•°æ®çš„åˆ†å±‚ï¼Œå°†ä½¿ç”¨æ¯”ä¾‹å°ºä½œä¸ºå°ºåº¦æè¿°ï¼Œå»ºç«‹ä¸€ç³»åˆ—ä¸åŒæ¯”ä¾‹å°ºçš„åˆ†å±‚ã€‚ä¸åŒäºæ …æ ¼é‡‘å­—å¡”çš„å¤šåˆ†è¾¨ç‡å±‚çº§ï¼ŒçŸ¢é‡æ•°æ®é‡‘å­—å¡”æ²¡æœ‰åˆ†è¾¨ç‡çš„æ¦‚å¿µï¼Œä½†æ˜¯ä¸åŒå±‚çº§ä¹‹é—´çš„æ•°æ®è¯¦å°½ç¨‹åº¦ä¹Ÿæ˜¯ä¸åŒçš„ã€‚éšç€æ¯”ä¾‹å°ºçš„ç”±å°åˆ°å¤§ï¼ŒçŸ¢é‡è¦ç´ ä¹Ÿå˜å¾—è¶Šæ¥è¶Šè¯¦ç»†ï¼›è€Œéšç€æ¯”ä¾‹å°ºç”±å¤§åˆ°å°ï¼ŒçŸ¢é‡è¦ç´ ä¹Ÿå°†å˜å¾—ç²¾ç®€ä¸æ¦‚åŒ–ï¼Œä»¥ç¬¦åˆäººä»¬çš„ä½¿ç”¨è¦æ±‚ã€‚\næ€»è€Œè¨€ä¹‹ï¼ŒçŸ¢é‡é‡‘å­—å¡”çš„çš„ç›®çš„å°±æ˜¯è§£å†³åœ¨å°æ¯”ä¾‹å°ºä¸‹å¤§æ•°æ®é‡ï¼ˆæˆ–é«˜å¯†åº¦åŒºåŸŸï¼‰çŸ¢é‡æ•°æ®èšé›†åº¦é«˜ã€è¦ç´ é‡å å’Œæ˜¾ç¤ºé€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚ï¼ˆå…¶å®å°±æ˜¯çŸ¢é‡æ•°æ®çš„åˆ¶å›¾ç»¼åˆé—®é¢˜ï¼ŒçŸ¢é‡é‡‘å­—å¡”ä¸è¿‡æ˜¯å…¶ä¸­çš„ä¸€ä¸ªè§£è€Œå·²ï¼‰\næ³¨ï¼šæˆ‘ä»¬æ­¤å¤„æ‰€è°ˆçŸ¢é‡é‡‘å­—å¡”ï¼Œåªæ˜¯çŸ¢é‡æ•°æ®åˆ†å±‚é‡‘å­—å¡”ï¼Œåªæ˜¯åˆ†å±‚ã€‚\nçŸ¢é‡åˆ†å±‚ ä¸ºäº†è¾¾æˆäººä»¬çš„ä½¿ç”¨è¦æ±‚ï¼Œåˆ™éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œä»¥ç¬¦åˆç»™å®šæ¯”ä¾‹å°ºçº§åˆ«ä¸‹ä¿æŒç›¸åº”çš„è¯¦å°½ç¨‹åº¦ã€‚\nä¸æ …æ ¼æ•°æ®ä¸åŒï¼ŒçŸ¢é‡æ•°æ®é€šå¸¸éƒ½å…·æœ‰ç©ºé—´ç‰¹å¾ä¸å±æ€§ä¿¡æ¯ã€‚ç©ºé—´ç‰¹å¾ä½“ç°åœ¨æ•°æ®çš„ç©ºé—´åæ ‡ç³»ã€ç©ºé—´åˆ†å¸ƒä»¥åŠå‡ ä½•ç‰¹å¾ï¼›å±æ€§ä¿¡æ¯åˆ™æ˜¯æ•°æ®å®ä½“ç›¸å…³çš„ä¸€äº›ä¿¡æ¯ã€‚é‚£ä¹ˆçŸ¢é‡æ•°æ®çš„ç©ºé—´ç‰¹å¾ä¸å±æ€§ä¿¡æ¯åˆ™å¯ä½œä¸ºåˆ†å±‚çš„ä¾æ®ï¼Œé¦–è¦å¯¹æ•°æ®çš„å±æ€§ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œè€Œåå†åŸºäºç©ºé—´ç‰¹å¾è¿›è¡Œå¤„ç†ã€‚\nå±æ€§åˆ†ç±»åˆ†çº§ å¯¹äºæ•°æ®çš„å±æ€§ç‰¹å¾å¤„ç†ä¸»è¦æ˜¯å¯¹å±æ€§ä¿¡æ¯è¿›è¡Œåˆ†ç±»å’Œåˆ†çº§ä¸¤ç§æƒ…å†µã€‚åˆ†ç±»æ˜¯æ ¹æ®å±æ€§ä¿¡æ¯åˆ’åˆ†ç±»åˆ«ï¼›åˆ†çº§å³æ ¹æ®å±æ€§ä¿¡æ¯æŒ‰ç…§å…¶é‡è¦ç¨‹åº¦åˆ’åˆ†ä¸åŒçš„çº§åˆ«ï¼Œå¹¶ä¸”èµ‹äºˆä¸åŒçš„æƒé‡å€¼ã€‚\nç©ºé—´ç‰¹å¾å¤„ç† åŸºäºç©ºé—´ç‰¹å¾çš„å¤„ç†åˆ™å°±å¤šç§å¤šæ ·äº†ï¼Œæ¯”å¦‚å¯ä»¥åŸºäºæ•°æ®çš„åˆ†å¸ƒï¼ˆå¯†åº¦ï¼‰æŠ½ç¨€ã€åŸºäºå‘¨é•¿æˆ–é¢ç§¯è¿›è¡Œé€‰å–ã€åŸºäºå‡ ä½•å½¢çŠ¶è¿›è¡Œç®€åŒ–ã€‚åœ¨å¤„ç†çš„åŒæ—¶ï¼Œè¿˜éœ€è¦æ˜¯å®é™…æƒ…å†µè€ƒè™‘æ˜¯å¦ç»´æŒæ•°æ®çš„æ‹“æ‰‘å…³ç³»ã€‚\næ€»è€Œè¨€ä¹‹ï¼Œå¯å°†ä¸Šè¿°çš„åˆ†å±‚å¤„ç†æ–¹æ³•æŠ½è±¡ä¸ºä¸¤ç§ï¼š\né€‰å–ï¼ˆFilterï¼‰ï¼šå±æ€§åˆ†ç±»åˆ†çº§ï¼ŒåŸºäºå¯†åº¦ã€å‘¨é•¿ã€é¢ç§¯çš„å¤„ç†éƒ½å±äºé€‰å– ç®€åŒ–ï¼ˆSimplifyï¼‰ï¼šåŸºäºç©ºé—´å‡ ä½•å½¢çŠ¶çš„å¤„ç†å±äºç®€åŒ– å½“ç„¶ï¼Œä¸Šè¿°ä¸¤ç§åªæ˜¯æœ€åŸºç¡€çš„åˆ†å±‚å¤„ç†æ–¹æ³•ï¼Œåç»­è¿˜å¯ä»¥æœ‰æ›´å¤šå¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚åˆå¹¶ã€èåˆã€å¤¸å¤§ç­‰ã€‚ä½†æˆ‘æƒ³æ¥ï¼Œå¦‚æœèƒ½å¤Ÿæ¯”è¾ƒåˆç†çš„å®Œæˆä¸Šè¿°ä¸¤ä¸ªæ“ä½œï¼Œåº”è¯¥ä¹Ÿæ˜¯è¾¾åˆ°äº†åŸºæœ¬å¯ç”¨å±‚æ¬¡ã€‚\nä¸åŒè¡Œä¸šçš„æ•°æ®å…·æœ‰ç€ä¸åŒçš„é‡ç‚¹æˆ–ä¾§é‡ç‚¹ï¼Œåˆ†å±‚ä¸ä»…éœ€è¦ç»“åˆçŸ¢é‡æ•°æ®æ¨¡å‹çš„ç‰¹ç‚¹ï¼Œè¿˜éœ€è¦ç»“åˆè¡Œä¸šèƒŒæ™¯ä¸åº”ç”¨åœºæ™¯ç»¼åˆè€ƒè™‘ã€‚\næ­¤å¤„å†å€Ÿç”¨å…¬è°¨ï¼ˆé¥æƒ³å…¬ç‘¾å½“å¹´ï¼‰çš„ä¸€å¥æè¿°è¿›è¡Œä½è¯ï¼š\næ‰€è°“çš„çŸ¢é‡é‡‘å­—å¡”æ¨¡å‹ï¼Œå³åŸºäºåˆ¶å›¾ç»¼åˆçš„çŸ¥è¯†ï¼Œåˆ†åˆ«è®¾ç½®æµ·é‡æ•°æ®åœ¨ä¸åŒzoomä¸‹æ˜¯å¦æ˜¾ç¤ºï¼Œæ˜¯å¦ç®€åŒ–ï¼Œæ˜¯å¦èåˆçš„ä¸€ç§ç­–ç•¥ï¼Œå½“åŠ¨æ€æå–åˆ‡ç‰‡æ—¶ï¼Œæ ¹æ®è¿™ä¸ªç­–ç•¥é€‰æ‹©æ•°æ®ï¼Œå®é™…æå–çš„æ•°æ®å°±éå¸¸å°‘ï¼Œæœ‰æ•ˆè§£å†³äº†çŸ¢é‡åˆ‡ç‰‡ä¸èƒ½è§£å†³æ•°æ®å¤ªå¯†é›†é›†ä¸­çš„é—®é¢˜ã€‚\nçŸ¢é‡é‡‘å­—å¡” â†’ çŸ¢é‡æ•°æ®çš„å¤šå°ºåº¦è¡¨è¾¾ â†’ çŸ¢é‡æ•°æ®çš„è‡ªåŠ¨åˆ¶å›¾ç»¼åˆï¼ˆä¿è¯ç»¼åˆå‰åè¦ç´ å†…éƒ¨åŠè¦ç´ ä¹‹é—´çš„æ‹“æ‰‘å…³ç³»æ˜¯çŸ¢é‡åœ°å›¾æ­£ç¡®æ˜¾ç¤ºçš„åŸºæœ¬éœ€æ±‚ ğŸ˜¯ï¼‰\næ³¨ï¼šæ­¤å¤„æ‰€è¿°åˆ†å±‚ï¼Œå¹¶ä¸æ˜¯æ¯”ä¾‹å°ºç­‰çº§ã€‚è€Œæ˜¯åœ¨ä¸åŒæ¯”ä¾‹å°ºå±‚çº§ä¸‹ï¼ŒçŸ¢é‡æ•°æ®çš„è¯¦å°½ç¨‹åº¦ã€‚è€Œåˆ†å±‚å¤„ç†ï¼Œå³ä¸ºé€šè¿‡ä¸€å®šçš„æ‰‹æ®µæ¥æ§åˆ¶æ•°æ®çš„è¯¦å°½ç¨‹åº¦ã€‚\næŠ€æœ¯å®ç° åœ¨æŠ€æœ¯å®ç°ä¸Šï¼Œç›®å‰æˆ‘çœ‹åˆ°çš„éƒ½æ˜¯ä»¥ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ä¸ºåŸºç¡€ï¼Œå åŠ åˆ†å±‚å¤„ç†æ‰‹æ®µçš„æ–¹å¼å®ç°çš„ã€‚å› ä¸ºç“¦ç‰‡é‡‘å­—å¡”æ˜¯åœ¨åˆ†å±‚é‡‘å­—å¡”çš„åŸºç¡€ä¹‹ä¸Šï¼Œè€Œåˆ†å±‚å¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š\nå°ºåº¦åˆ†çº§å®šä¹‰ â†’ ä¸€ç³»åˆ—çš„æ¯”ä¾‹å°ºç­‰çº§ åˆ†å±‚åˆ†çº§å¤„ç†ï¼ˆç»¼åˆç®—å­ï¼‰ â†’ ä¸€ç³»åˆ—çš„å¤„ç†ç®—å­ï¼ˆå¦‚ï¼šFilterã€Simplifyï¼‰ OGC TileMatrixSet å®šä¹‰ è€Œå°ºåº¦åˆ†çº§å®šä¹‰ä¸è®ºæ˜¯åœ¨åˆ†å±‚é‡‘å­—å¡”è¿˜æ˜¯ç“¦ç‰‡é‡‘å­—å¡”ä¸­éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿå°±æ˜¯å°†åˆ†å±‚åˆ†çº§å¤„ç†ï¼ˆç»¼åˆç®—å­ï¼‰å‰¥ç¦»å‡ºæ¥å•ç‹¬å®ç°ï¼Œåœ¨æœ€ç»ˆçš„ç“¦ç‰‡ç”Ÿäº§æµç¨‹ä¸­ï¼Œæ¥å…¥ç“¦ç‰‡é‡‘å­—å¡”å³å¯ã€‚\nGeoWebCache å®ç° ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ public class GridSet { private String name; // æŠ•å½±åæ ‡ç³» private SRS srs; // ç“¦ç‰‡å®½, such as 256 private int tileWidth; // ç“¦ç‰‡é«˜, such as 256 private int tileHeight; /** * Whether the y-coordinate of {@link #tileOrigin()} is at the top (true) or at the bottom * (false) */ protected boolean yBaseToggle = false; /** * By default the coordinates are {x,y}, this flag reverses the output for WMTS getcapabilities */ private boolean yCoordinateFirst = false; private boolean scaleWarning = false; // å°†åæ ‡å‚è€ƒç³»ç»Ÿ (CRS) å•ä½è½¬æ¢ä¸ºç±³çš„ç³»æ•° // ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç»™å®šçš„CRSä¸­ä¸€ä¸ªå•å…ƒè½¬æ¢ä¸ºç±³çš„ç³»æ•°ã€‚æ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯åœ¨æŒ‡å®šçš„CRSä¸­ï¼Œä¸€ä¸ªå•å…ƒè¡¨ç¤ºå¤šå°‘ç±³ã€‚ // ç›®å‰å¸¸ç”¨çš„å°±ä¸¤ç§æŠ•å½±ï¼Œä¸€æ˜¯ä»¥ç±³ä¸ºå•ä½çš„ï¼ˆå³metersPerUnitä¸º1ï¼‰ï¼›å…¶æ¬¡æ˜¯ä»¥åº¦ä¸ºå•ä½çš„ç»çº¬åº¦æŠ•å½±ï¼ˆmetersPerUnitè¡¨ç¤ºä¸º1åº¦ä»£è¡¨å¤šå°‘ç±³ï¼Œå³ï¼š360/èµ¤é“å‘¨é•¿ï¼Œä¸åŒCRSä½¿ç”¨ä¸åŒçš„æ¤­çƒä½“ï¼Œæ‰€ä»¥å…¶èµ¤é“å‘¨é•¿ä¹Ÿä¼šå­˜åœ¨ä¸€å®šå·®å¼‚ã€‚ï¼‰ private double metersPerUnit; // åƒç´ å¤§å°, é€šå¸¸ç»™å®š0.28mm private double pixelSize; // èŒƒå›´, é€šå¸¸æ˜¯æŠ•å½±åæ ‡ç³»çš„æœ€å¤§èŒƒå›´ private BoundingBox originalExtent; // æ‰€æœ‰çš„é‡‘å­—å¡”å±‚æ¬¡é›†åˆ private Grid[] gridLevels; private String description; /** * {@code true} if the resolutions are preserved and the scaleDenominators calculated, {@code * false} if the resolutions are calculated based on the sacale denominators. */ private boolean resolutionsPreserved; } å•å±‚é‡‘å­—å¡”æ¨¡å‹å®ç° public class Grid { // å½“å‰å±‚æ¨ªå‘ä¸Šç“¦ç‰‡æ•°é‡ private long numTilesWide; // å½“å‰å±‚çºµå‘ä¸Šç“¦ç‰‡æ•°é‡ private long numTilesHigh; // å½“å‰å±‚çš„åˆ†è¾¨ç‡ private double resolution; // å½“å‰å±‚çš„æ¯”ä¾‹å°ºåˆ†æ¯ private double scaleDenom; private String name; } ç°å¦‚ä»Šï¼Œä¸è®ºæ˜¯çŸ¢é‡è¿˜æ˜¯æ …æ ¼ï¼Œåœ¨åŸºäºå·²æœ‰æ ‡å‡†ï¼ˆæ¯”å¦‚ç”µå­åœ°å›¾æ•°æ®è§„èŒƒä¸­çš„åœ°å›¾åˆ†çº§ï¼‰çš„æƒ…å†µä¸‹ï¼Œå·²ç»ç»™å‡ºäº†ä¸€ä¸ªç“¦ç‰‡é‡‘å­—å¡”çš„æ¡†æ¶ç»“æ„ï¼Œç¼ºå°‘çš„æ˜¯é‡‘å­—å¡”æ¯å±‚çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯éœ€è¦è‡ªè¡Œè¿›è¡Œæ•°æ®åˆ†å±‚å¹¶æ”¾å…¥ç»™å®šçš„å±‚çº§ç»“æ„ä¸­ã€‚å°±æ‹¿GeoServeræ¥è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä»–å°±ç›´æ¥å¥—ç”¨äº†ç»™å®šçš„ç“¦ç‰‡é‡‘å­—å¡”å±‚çº§ç»“æ„ï¼Œä¸”ä»…åšäº†å‡ ä½•å½¢çŠ¶çš„Simplifyï¼ˆæ— æ³•å¤„ç†å¯†åº¦é—®é¢˜ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°å¤§æ•°æ®é‡æˆ–é«˜å¯†åº¦åŒºåŸŸåœ¨å°æ¯”ä¾‹å°ºä¸‹ç“¦ç‰‡å°ºå¯¸å¾ˆå¤§ï¼Œçˆ†ç‚¸çš„å¤§çš„æƒ…å†µ â˜¹ï¸\nå¯¹äºåˆ†å±‚æ“ä½œï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥å…ˆå¯¹æ•°æ®è¿›è¡Œå±æ€§åˆ†ç±»ï¼ˆå¦‚ï¼šæ²³æµ\u0026amp;å¢ƒåŒºï¼‰å’Œåˆ†çº§ï¼ˆå¦‚ï¼šä¸€çº§æ²³æµã€äºŒçº§æ²³æµï¼‰ï¼Œå†ç»“åˆæ¯”ä¾‹å°ºåˆ†å±‚å¤„ç†ï¼ˆç»¼åˆç®—å­é›†ä¸­å®ç°ï¼‰ã€‚ æ³¨ï¼šè¡Œä¸šä¸åŒæ•°æ®ä¹Ÿä¸åŒï¼Œæ•°æ®ä¸åŒå¤„ç†æ–¹å¼ä¹Ÿä¸åŒï¼Œæ‰€ä»¥å°±æ²¡æœ‰æ ‡å‡†çš„å¤„ç†è§„åˆ™ï¼Œä½†ç†è®ºç»ˆå½’æ˜¯ç›¸é€šçš„ã€‚\næ„Ÿæƒ³ æ„Ÿè§‰GISåœ¨åº”ç”¨ä¸Šçš„çŸ¥è¯†è¿˜æ˜¯æ¯”è¾ƒå°é—­çš„ï¼Œä¸åƒè®¡ç®—æœºç›¸å…³çš„åº”ç”¨çŸ¥è¯†ä¸€èˆ¬ï¼Œå¾ˆå®¹æ˜“å°±èƒ½è·å–åˆ°ï¼Œæˆ–è€…æ˜¯è·å–çš„æ¸ é“å¾ˆæ¸…æ™°ã€‚ä»æˆ‘ç›®å‰èµ°è¿‡çš„é“è·¯æ¥çœ‹ï¼Œæˆ‘è·å–è¿™äº›çŸ¥è¯†çš„é€”å¾„å¤§æ¦‚åˆ†ä¸ºå››ç§ï¼Œæ”¶ç›Šä»ä¸Šåˆ°ä¸‹ï¼š\nç ”ç©¶å¼€æºGISåº”ç”¨è½¯ä»¶æºç  å®é™…é¡¹ç›®åº”ç”¨ä¸­çš„æ¢ç´¢ ç†è®ºä¹¦ç±ã€è®ºæ–‡ å„ä½å¤§ä½¬çš„æ–‡ç«  ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘è¿˜æ²¡æœ‰è·å–åˆ°æ›´æ­£ç¡®çš„é€”å¾„ï¼Œæ€»æ„Ÿè§‰æ¯”è¾ƒå°é—­ï¼Œæ–°æ¥çš„äººä¸å®¹æ˜“è¿›å…¥ï¼ˆåƒæˆ‘å·²ç»å·¥ä½œæ¥è¿‘6å¹´äº†ï¼‰ã€‚å¯èƒ½è¿˜æ˜¯ä»ä¸šçš„äººå¤ªå°‘äº† ğŸ™„\nå‚è€ƒ å½±åƒé‡‘å­—å¡”åŸç† ã€Šé«˜æ€§èƒ½å½±åƒæ•°æ®ç“¦ç‰‡åŒ–å…³é”®æŠ€æœ¯ç ”ç©¶-åˆ˜ä¸–æ°¸-2016ã€‹ ã€ŠçŸ¢é‡æ•°æ®é‡‘å­—å¡”ç»“æ„è®¾è®¡-è‘£æ»¨-2016ã€‹ WebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ GeoWebCache Gridsets and Gridsubsets Tiles Ã  la Google Maps Coordinates, Tile Bounds and Projection OGC Two Dimensional Tile Matrix Set and Tile Set Metadata ","permalink":"https://fuyi-atlas.github.io/posts/gis/vector-pyramid-technology/","summary":"å‰è¨€ åœ¨å›¾åƒåˆ‡ç‰‡æ—¶ä»£ï¼Œå¤šå±‚æ¬¡æ¨¡å‹ä¾é çš„æ˜¯å½±å“é‡‘å­—å¡”ã€‚å¾—ç›Šäºå½±åƒæ …æ ¼æ•°æ®åˆ†è¾¨ç‡çš„ç‰¹ç‚¹ï¼ŒåŸºäºå½±åƒé‡‘å­—å¡”å¯ä»¥è¾ƒå¥½çš„å®ç°å¤šåˆ†è¾¨ç‡æ¨¡å‹ã€‚ä½†æ˜¯åœ¨çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ä¸­ï¼Œå°±æ— æ³•ç›´æ¥ä»å½±åƒé‡‘å­—å¡”æŠ€æœ¯è·åˆ©äº†ï¼Œå› ä¸ºçŸ¢é‡æ•°æ®ä¸å…·æœ‰åˆ†è¾¨ç‡è¿™ä¸ªç‰¹æ€§ï¼Œè€Œæ˜¯é‡‡ç”¨çŸ¢é‡é‡‘å­—å¡”æŠ€æœ¯æ¥å®ç°å¤šå±‚æ¬¡ã€å¤šå°ºåº¦æ¨¡å‹ã€‚\nå½±åƒé‡‘å­—å¡”ï¼ˆåˆ†å±‚ï¼‰ å½±åƒé‡‘å­—å¡”æŠ€æœ¯é€šè¿‡å½±åƒé‡é‡‡æ ·æ–¹æ³•ï¼Œå»ºç«‹ä¸€ç³»åˆ—ä¸åŒåˆ†è¾¨ç‡çš„å½±åƒå›¾å±‚ï¼Œæ¯ä¸ªå›¾å±‚åˆ†å‰²å­˜å‚¨ï¼Œå¹¶å»ºç«‹ç›¸åº”çš„ç©ºé—´ç´¢å¼•æœºåˆ¶ï¼Œä»è€Œæé«˜ç¼©æ”¾æµè§ˆå½±åƒæ—¶çš„æ˜¾ç¤ºé€Ÿåº¦ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å½±åƒé‡‘å­—å¡”ï¼Œåº•éƒ¨æ˜¯å½±åƒçš„åŸå§‹æœ€é«˜åˆ†è¾¨ç‡çš„è¡¨ç¤ºï¼Œä¸º512Ã—512å›¾åƒåˆ†è¾¨ç‡ï¼Œè¶Šå¾€ä¸Šçš„å½±åƒçš„åˆ†è¾¨ç‡è¶Šå°ï¼Œåˆ†åˆ«ä¸º256Ã—256ï¼Œ128Ã—128ï¼Œé¡¶éƒ¨æ˜¯å½±åƒé‡‘å­—å¡”çš„æœ€ä½åˆ†è¾¨ç‡çš„å›¾åƒ64Ã—64ï¼Œå› æ­¤è¿™ä¸ªå½±åƒé‡‘å­—å¡”å…±æœ‰4å±‚ï¼Œå³4ä¸ªç­‰çº§çš„åˆ†è¾¨ç‡ã€‚æ˜¾ç„¶å½±åƒçš„å›¾åƒåˆ†è¾¨ç‡è¶Šé«˜ï¼Œå½±åƒé‡‘å­—å¡”çš„ç­‰çº§è¶Šå¤šã€‚\nä»ç»™å‡ºçš„å®šä¹‰ä¸å›¾ç¤ºæ¥çœ‹ï¼Œå¥½åƒä¸æˆ‘ä»¬ç›®å‰ä½¿ç”¨çš„ç“¦ç‰‡åœ°å›¾æœ‰ä¸€å®šçš„å·®åˆ«ã€‚æ˜¯çš„ï¼Œè¿™æ˜¯å› ä¸ºå½±åƒé‡‘å­—å¡”è´Ÿè´£çš„å†…å®¹ä»…ä»…æ˜¯æ„å»ºå¤šåˆ†è¾¨ç‡å±‚æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€å±‚éƒ½æ˜¯å¯¹åº”å®Œæ•´æ•°æ®èŒƒå›´çš„ä¸€å—æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åˆ†å±‚ï¼ˆæ …æ ¼æ•°æ®æ˜¯å‡è¡¡çš„ï¼Œå¯ä»¥é€šè¿‡åˆ†è¾¨ç‡æ¥ä½œä¸ºå°ºåº¦æè¿°ï¼Œæ‰€ä»¥å¤šåˆ†è¾¨ç‡å±‚çº§ä¹Ÿå°±å¯¹åº”ç€å¤šå°ºåº¦å±‚çº§ï¼‰ã€‚\nç“¦ç‰‡é‡‘å­—å¡”ï¼ˆåˆ†å—ï¼‰ èŠ‚é€‰è‡ªã€Šé«˜æ€§èƒ½å½±åƒæ•°æ®ç“¦ç‰‡åŒ–å…³é”®æŠ€æœ¯ç ”ç©¶-åˆ˜ä¸–æ°¸-2016ã€‹\nè¦å®ç°ç°å¦‚ä»Šä½¿ç”¨çš„ç“¦ç‰‡åœ°å›¾æ¨¡å‹ï¼Œè¿˜éœ€è¦ç“¦ç‰‡é‡‘å­—å¡”é…åˆå®Œæˆã€‚\nç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹æ˜¯å½“å‰åº”ç”¨æœ€å¹¿çš„å¤šå±‚æ¬¡åœ°å›¾æ•°æ®ç»„ç»‡æ¨¡å‹ï¼Œé€šè¿‡ç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ï¼Œå‰ç«¯åœ¨è¿›è¡Œæ”¾å¤§å’Œç¼©å°æ“ä½œæ—¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æ•°æ®è¯»å–çš„ç©ºé—´æŸ¥è¯¢æ—¶é—´ã€‚é€šè¿‡åªåŠ è½½å¯è§†åŒºåŸŸèŒƒå›´å†…çš„ç“¦ç‰‡ï¼Œå¯ä»¥å‡å°‘æ•°æ®åŠ è½½é‡ï¼Œé™ä½ç½‘ç»œä¼ è¾“å‹åŠ›ï¼Œæé«˜å‰ç«¯çš„æ•°æ®å¯è§†åŒ–é€Ÿåº¦ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç“¦ç‰‡é‡‘å­—å¡”å®åœ¨å½±åƒé‡‘å­—å¡”çš„åŸºç¡€ä¸Šï¼ŒåŸºäºç‰¹å®šè§„æ ¼å¤§å°å¯¹æ¯å±‚å½±åƒè¿›è¡Œåˆ‡å‰²ã€‚æ­¤æ“ä½œä¹Ÿå°±æ˜¯å¯¹åº”ç€æˆ‘ä»¬å¸¸è¯´çš„åˆ†å—ã€‚\næ•°æ®åŸå§‹åˆ†è¾¨ç‡å¹¶ä¸æ˜¯æ ‡å‡†åŒ–çš„ï¼Œåˆ†å±‚ç»“æœå³ä¸å¤Ÿæ ‡å‡†åŒ–ï¼Œä¹Ÿä¸å¤Ÿç»†è‡´ã€‚æ‰€ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå†æ¬¡åˆ†ç‰‡ï¼Œæ—¢æ˜¯å‡å°‘äº†æ•°æ®é‡ä½¿å¾—ä¼ è¾“ä¸åŠ è½½æ•ˆç‡æå‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç»™å‡ºäº†æ ‡å‡†ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚\nç“¦ç‰‡é‡‘å­—å¡”çš„ä¸»è¦åŸç†ä¸ºï¼šåŸºäºæŸä¸ªç‰¹å®šçš„åœ°å›¾æŠ•å½±åæ ‡ç³»ï¼ˆå¸¸è§„æ˜¯Webå¢¨å¡æ‰˜ï¼‰ï¼Œå°†æ›²é¢çš„åœ°çƒæŠ•å½±åˆ°äºŒç»´å¹³é¢ï¼Œè€Œåå°†è¯¥äºŒç»´å¹³é¢è¿›è¡Œå¤šå°ºåº¦åœ°åˆ’åˆ†ï¼Œå³ç›¸å½“äºåˆ¶ä½œäº†å¤šä¸ªä¸åŒåˆ†è¾¨ç‡å±‚çº§çš„æ•°å­—åœ°å›¾ã€‚å„å±‚çº§å¯¹åº”ç›¸åº”ç¼–ç ï¼Œå±‚çº§è¶Šé«˜åœ°å›¾æ‰€å¯¹åº”çš„åˆ†è¾¨ç‡è¶Šé«˜ï¼›è€Œåå¯¹æ¯ä¸€å±‚çº§çš„å…¨çƒç©ºé—´èŒƒå›´åœ°å›¾æŒ‰ç…§æŸç§ç©ºé—´åˆ’åˆ†æ–¹æ³•è¿›è¡Œæ ¼ç½‘åˆ’åˆ†ï¼Œåˆ’åˆ†æˆè‹¥å¹²è¡Œå’Œåˆ—çš„å›ºå®šå°ºå¯¸çš„æ­£æ–¹å½¢æ …æ ¼å›¾ç‰‡ï¼Œè¿™äº›åˆ‡åˆ†å‡ºæ¥çš„è§„æ•´çš„å•ä¸ªæ ¼ç½‘å•å…ƒç§°ä¸ºç“¦ç‰‡ï¼Œå„å±‚çº§çš„åˆ’åˆ†æ–¹æ³•éƒ½æ˜¯ç›¸åŒçš„ã€‚\nç“¦ç‰‡åˆ’åˆ†æ–¹æ³•éœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\næ¯ä¸ªå±‚çº§ä¸‹çš„æ‰€æœ‰ç“¦ç‰‡å¯ä»¥æ— ç¼æ‹¼åˆæˆä¸€å¼ å…¨çƒç©ºé—´èŒƒå›´çš„ä¸–ç•Œåœ°å›¾ æ¯ä¸ªç“¦ç‰‡éƒ½æœ‰å”¯ä¸€ç¼–ç ï¼Œæ ¹æ®ç¼–ç å¯ä»¥è§£ç®—è¯¥ç“¦ç‰‡å¯¹åº”çš„ç©ºé—´èŒƒå›´ åœ¨æŸä¸€å±‚çº§ä¸‹ç»™å®šä¸€åæ ‡ç‚¹å¯ä»¥æ ¹æ®å…¶ç©ºé—´åæ ‡è§£ç®—å…¶æ‰€åœ¨ç“¦ç‰‡çš„ç¼–å· æ¯ä¸€å±‚çº§ç“¦ç‰‡å¯¹åº”ä¸€å±‚é‡‘å­—å¡”åˆ†å±‚ï¼Œæ‰€æœ‰å±‚çº§çš„ç“¦ç‰‡ä¾¿æ„æˆäº†æ•´ä¸ªç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ã€‚æ¯ä¸€å±‚ä¸­çš„ç“¦ç‰‡åˆ’åˆ†æ–¹æ³•ä¸€èˆ¬é‡‡ç”¨å‡åŒ€å››åˆ†çš„åˆ’åˆ†æ–¹æ³•ï¼Œå³ä»¥èµ¤é“å’Œä¸­å¤®ç»çº¿çš„äº¤ç‚¹ä¸ºåˆå§‹ä¸­å¿ƒï¼Œä¸æ–­åœ°å¯¹åœ°å›¾è¿›è¡Œå››åˆ†ï¼Œç›´åˆ°æ¯ä¸ªæ ¼ç½‘çš„å¤§å°ä¸ºtilesize * tilesizeä¸ºæ­¢ï¼Œå…¶ä¸­tilesizeè¡¨ç¤ºå•ä¸ªç“¦ç‰‡çš„è¾¹é•¿ã€‚åŸºäºæ­¤ç§åˆ’åˆ†æ–¹æ³•ï¼Œç¬¬0å±‚é‡‘å­—å¡”ï¼ˆé‡‘å­—å¡”é¡¶å±‚ï¼‰ç”¨ä¸€ä¸ªç“¦ç‰‡å°±èƒ½è¡¨ç¤ºæ•´å¼ ä¸–ç•Œåœ°å›¾ï¼Œç¬¬1å±‚è¦ç”¨4^zä¸ªç“¦ç‰‡æ¥è¡¨ç¤ºæ•´ä¸ªä¸–ç•Œåœ°å›¾ï¼Œzä¸ºå½“å‰ç“¦ç‰‡çš„é‡‘å­—å¡”å±‚çº§ã€‚\nç“¦ç‰‡æŠ•å½±åæ ‡ç³» ç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ä¸­çš„æŠ•å½±åæ ‡ç³»å¯ä»¥æœ‰å¤šç§ï¼Œç›®å‰æœ€å¹¿æ³›é‡‡ç”¨çš„æ˜¯Web MercatoræŠ•å½±ï¼Œå®ƒæ˜¯MercatoræŠ•å½±çš„ä¸€ç§å˜ä½“ã€‚\nç“¦ç‰‡åæ ‡ç³» æ‰€æœ‰ç“¦ç‰‡çš„ç¼–ç éƒ½æ˜¯åŸºäºç“¦ç‰‡åæ ‡ç³»ä¸‹è¿›è¡Œçš„ï¼Œç“¦ç‰‡åæ ‡ç³»çš„åŸç‚¹ä¸€èˆ¬éƒ½åœ¨å·¦ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’ï¼ŒTMSè§„èŒƒä¸­æ˜¯åœ¨å·¦ä¸‹è§’ï¼ˆGeoWebCacheéµå¾ªè¯¥è§„èŒƒï¼‰ï¼Œä½†æ˜¯ç°æœ‰çš„Googleã€Mapnikåˆ‡ç‰‡ç³»ç»Ÿéƒ½æ˜¯é€‰ç”¨å·¦ä¸Šè§’ä½œä¸ºåŸç‚¹ï¼Œæœ¬æ–‡ä¸»è¦ä»¥åŸç‚¹åœ¨å·¦ä¸Šè§’çš„ç“¦ç‰‡åæ ‡ç³»è¿›è¡Œè¯´æ˜ã€‚ ç“¦ç‰‡çš„ç¼–ç æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå±‚çº§ç”¨zè¡¨ç¤ºï¼Œç“¦ç‰‡ç»çº¿æ–¹å‘ï¼ˆæŒ‡ç“¦ç‰‡ç»åº¦å‘ç”Ÿå˜åŒ–çš„æ–¹æ³•ï¼Œå³ä¸œè¥¿å‘ï¼Œä¸œå‘ä¸ºæ­£ï¼‰ä¸Šç¼–å·ä¸ºxï¼Œçº¬çº¿æ–¹å‘ï¼ˆæŒ‡ç“¦ç‰‡ç»´åº¦å‘ç”Ÿå˜åŒ–çš„æ–¹å‘ï¼Œå³å—åŒ—å‘ï¼Œå—å‘ä¸ºæ­£ï¼‰ä¸Šç¼–å·ä¸ºyï¼Œå› æ­¤æ¯ä¸€ä¸ªç“¦ç‰‡éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‰ç»´å…ƒç»„ï¼ˆx,y,zï¼‰æ¥å”¯ä¸€æè¿°ã€‚\næ€»çš„æ¥è¯´ï¼Œå¦‚ä»Šæˆ‘ä»¬æ‰€è¯´çš„å½±åƒï¼ˆæ …æ ¼ï¼‰é‡‘å­—å¡”å¤§å¤šæŒ‡ä»£çš„æ˜¯å½±åƒé‡‘å­—å¡”ä¸ç“¦ç‰‡é‡‘å­—å¡”çš„ç»“åˆä½“æˆ–æ˜¯ç“¦ç‰‡é‡‘å­—å¡”ï¼ˆé»˜è®¤å«æœ‰åˆ†å±‚ï¼‰ï¼Œè€Œä¸æ˜¯å•ç‹¬æŒ‡ä»£åˆ†å±‚æˆ–è€…å•ç‹¬æŒ‡ä»£åˆ†å—ã€‚\nçŸ¢é‡é‡‘å­—å¡” å½±åƒé‡‘å­—å¡”æ˜¯ä¸ºæ …æ ¼æ•°æ®æœåŠ¡çš„ï¼Œä¹Ÿæ˜¯å›¾åƒåˆ‡ç‰‡æ—¶ä»£çš„æ ¸å¿ƒäº§ç‰©ã€‚ä½†æ˜¯åˆ°äº†çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£åï¼Œç”±äºçŸ¢é‡æ•°æ®å¹¶ä¸å…·å¤‡åˆ†è¾¨ç‡çš„ç‰¹æ€§ï¼Œä¸”çŸ¢é‡æ•°æ®ä¸åŒäºæ …æ ¼æ•°æ®ï¼Œå®ƒæœ‰ç€ç–å¯†ä¸ä¸€è‡´ã€åˆ†å¸ƒä¸å‡ä¸çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥åˆ©ç”¨å½±åƒé‡‘å­—å¡”æŠ€æœ¯ã€‚ä¸è¿‡ç“¦ç‰‡é‡‘å­—å¡”æ˜¯åŸºäºåˆ†å±‚é‡‘å­—å¡”çš„åŸºç¡€ä¸Šæ„å»ºçš„ï¼Œæ‰€ä»¥å¯¹æ•°æ®ç±»å‹å¹¶æ²¡æœ‰è¦æ±‚ï¼Œåœ¨çŸ¢é‡åˆ‡ç‰‡ä¸­æ˜¯å¯ä»¥ç›´æ¥å¤ç”¨çš„ã€‚æ€»è€Œè¨€ä¹‹ï¼Œåœ¨çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ä¸­ï¼Œéœ€è¦ä¸€ä¸ªç¬¦åˆçŸ¢é‡æ•°æ®ç‰¹ç‚¹çš„åˆ†å±‚æ¨¡å‹ï¼Œä½œä¸ºçŸ¢é‡æ•°æ®æºä¸ç“¦ç‰‡é‡‘å­—å¡”ä¹‹é—´æ²Ÿé€šçš„æ¡¥æ¢ã€‚åŒæ—¶è€ƒè™‘åˆ°åº”ç”¨ä¸Šçš„å…¼å®¹æ€§ï¼Œæ‰€ä»¥æœ€ç»ˆåŸºäºé‡‘å­—å¡”ç†è®ºä¹‹ä¸Šè¿›è¡Œåˆ†å±‚æ¨¡å‹çš„å®šä¹‰ï¼Œè°“ä¹‹ï¼šçŸ¢é‡é‡‘å­—å¡”ã€‚\nå¯¹äºçŸ¢é‡æ•°æ®çš„åˆ†å±‚ï¼Œå°†ä½¿ç”¨æ¯”ä¾‹å°ºä½œä¸ºå°ºåº¦æè¿°ï¼Œå»ºç«‹ä¸€ç³»åˆ—ä¸åŒæ¯”ä¾‹å°ºçš„åˆ†å±‚ã€‚ä¸åŒäºæ …æ ¼é‡‘å­—å¡”çš„å¤šåˆ†è¾¨ç‡å±‚çº§ï¼ŒçŸ¢é‡æ•°æ®é‡‘å­—å¡”æ²¡æœ‰åˆ†è¾¨ç‡çš„æ¦‚å¿µï¼Œä½†æ˜¯ä¸åŒå±‚çº§ä¹‹é—´çš„æ•°æ®è¯¦å°½ç¨‹åº¦ä¹Ÿæ˜¯ä¸åŒçš„ã€‚éšç€æ¯”ä¾‹å°ºçš„ç”±å°åˆ°å¤§ï¼ŒçŸ¢é‡è¦ç´ ä¹Ÿå˜å¾—è¶Šæ¥è¶Šè¯¦ç»†ï¼›è€Œéšç€æ¯”ä¾‹å°ºç”±å¤§åˆ°å°ï¼ŒçŸ¢é‡è¦ç´ ä¹Ÿå°†å˜å¾—ç²¾ç®€ä¸æ¦‚åŒ–ï¼Œä»¥ç¬¦åˆäººä»¬çš„ä½¿ç”¨è¦æ±‚ã€‚\næ€»è€Œè¨€ä¹‹ï¼ŒçŸ¢é‡é‡‘å­—å¡”çš„çš„ç›®çš„å°±æ˜¯è§£å†³åœ¨å°æ¯”ä¾‹å°ºä¸‹å¤§æ•°æ®é‡ï¼ˆæˆ–é«˜å¯†åº¦åŒºåŸŸï¼‰çŸ¢é‡æ•°æ®èšé›†åº¦é«˜ã€è¦ç´ é‡å å’Œæ˜¾ç¤ºé€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚ï¼ˆå…¶å®å°±æ˜¯çŸ¢é‡æ•°æ®çš„åˆ¶å›¾ç»¼åˆé—®é¢˜ï¼ŒçŸ¢é‡é‡‘å­—å¡”ä¸è¿‡æ˜¯å…¶ä¸­çš„ä¸€ä¸ªè§£è€Œå·²ï¼‰\næ³¨ï¼šæˆ‘ä»¬æ­¤å¤„æ‰€è°ˆçŸ¢é‡é‡‘å­—å¡”ï¼Œåªæ˜¯çŸ¢é‡æ•°æ®åˆ†å±‚é‡‘å­—å¡”ï¼Œåªæ˜¯åˆ†å±‚ã€‚\nçŸ¢é‡åˆ†å±‚ ä¸ºäº†è¾¾æˆäººä»¬çš„ä½¿ç”¨è¦æ±‚ï¼Œåˆ™éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œä»¥ç¬¦åˆç»™å®šæ¯”ä¾‹å°ºçº§åˆ«ä¸‹ä¿æŒç›¸åº”çš„è¯¦å°½ç¨‹åº¦ã€‚\nä¸æ …æ ¼æ•°æ®ä¸åŒï¼ŒçŸ¢é‡æ•°æ®é€šå¸¸éƒ½å…·æœ‰ç©ºé—´ç‰¹å¾ä¸å±æ€§ä¿¡æ¯ã€‚ç©ºé—´ç‰¹å¾ä½“ç°åœ¨æ•°æ®çš„ç©ºé—´åæ ‡ç³»ã€ç©ºé—´åˆ†å¸ƒä»¥åŠå‡ ä½•ç‰¹å¾ï¼›å±æ€§ä¿¡æ¯åˆ™æ˜¯æ•°æ®å®ä½“ç›¸å…³çš„ä¸€äº›ä¿¡æ¯ã€‚é‚£ä¹ˆçŸ¢é‡æ•°æ®çš„ç©ºé—´ç‰¹å¾ä¸å±æ€§ä¿¡æ¯åˆ™å¯ä½œä¸ºåˆ†å±‚çš„ä¾æ®ï¼Œé¦–è¦å¯¹æ•°æ®çš„å±æ€§ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œè€Œåå†åŸºäºç©ºé—´ç‰¹å¾è¿›è¡Œå¤„ç†ã€‚\nå±æ€§åˆ†ç±»åˆ†çº§ å¯¹äºæ•°æ®çš„å±æ€§ç‰¹å¾å¤„ç†ä¸»è¦æ˜¯å¯¹å±æ€§ä¿¡æ¯è¿›è¡Œåˆ†ç±»å’Œåˆ†çº§ä¸¤ç§æƒ…å†µã€‚åˆ†ç±»æ˜¯æ ¹æ®å±æ€§ä¿¡æ¯åˆ’åˆ†ç±»åˆ«ï¼›åˆ†çº§å³æ ¹æ®å±æ€§ä¿¡æ¯æŒ‰ç…§å…¶é‡è¦ç¨‹åº¦åˆ’åˆ†ä¸åŒçš„çº§åˆ«ï¼Œå¹¶ä¸”èµ‹äºˆä¸åŒçš„æƒé‡å€¼ã€‚\nç©ºé—´ç‰¹å¾å¤„ç† åŸºäºç©ºé—´ç‰¹å¾çš„å¤„ç†åˆ™å°±å¤šç§å¤šæ ·äº†ï¼Œæ¯”å¦‚å¯ä»¥åŸºäºæ•°æ®çš„åˆ†å¸ƒï¼ˆå¯†åº¦ï¼‰æŠ½ç¨€ã€åŸºäºå‘¨é•¿æˆ–é¢ç§¯è¿›è¡Œé€‰å–ã€åŸºäºå‡ ä½•å½¢çŠ¶è¿›è¡Œç®€åŒ–ã€‚åœ¨å¤„ç†çš„åŒæ—¶ï¼Œè¿˜éœ€è¦æ˜¯å®é™…æƒ…å†µè€ƒè™‘æ˜¯å¦ç»´æŒæ•°æ®çš„æ‹“æ‰‘å…³ç³»ã€‚\næ€»è€Œè¨€ä¹‹ï¼Œå¯å°†ä¸Šè¿°çš„åˆ†å±‚å¤„ç†æ–¹æ³•æŠ½è±¡ä¸ºä¸¤ç§ï¼š\né€‰å–ï¼ˆFilterï¼‰ï¼šå±æ€§åˆ†ç±»åˆ†çº§ï¼ŒåŸºäºå¯†åº¦ã€å‘¨é•¿ã€é¢ç§¯çš„å¤„ç†éƒ½å±äºé€‰å– ç®€åŒ–ï¼ˆSimplifyï¼‰ï¼šåŸºäºç©ºé—´å‡ ä½•å½¢çŠ¶çš„å¤„ç†å±äºç®€åŒ– å½“ç„¶ï¼Œä¸Šè¿°ä¸¤ç§åªæ˜¯æœ€åŸºç¡€çš„åˆ†å±‚å¤„ç†æ–¹æ³•ï¼Œåç»­è¿˜å¯ä»¥æœ‰æ›´å¤šå¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚åˆå¹¶ã€èåˆã€å¤¸å¤§ç­‰ã€‚ä½†æˆ‘æƒ³æ¥ï¼Œå¦‚æœèƒ½å¤Ÿæ¯”è¾ƒåˆç†çš„å®Œæˆä¸Šè¿°ä¸¤ä¸ªæ“ä½œï¼Œåº”è¯¥ä¹Ÿæ˜¯è¾¾åˆ°äº†åŸºæœ¬å¯ç”¨å±‚æ¬¡ã€‚\nä¸åŒè¡Œä¸šçš„æ•°æ®å…·æœ‰ç€ä¸åŒçš„é‡ç‚¹æˆ–ä¾§é‡ç‚¹ï¼Œåˆ†å±‚ä¸ä»…éœ€è¦ç»“åˆçŸ¢é‡æ•°æ®æ¨¡å‹çš„ç‰¹ç‚¹ï¼Œè¿˜éœ€è¦ç»“åˆè¡Œä¸šèƒŒæ™¯ä¸åº”ç”¨åœºæ™¯ç»¼åˆè€ƒè™‘ã€‚\næ­¤å¤„å†å€Ÿç”¨å…¬è°¨ï¼ˆé¥æƒ³å…¬ç‘¾å½“å¹´ï¼‰çš„ä¸€å¥æè¿°è¿›è¡Œä½è¯ï¼š\næ‰€è°“çš„çŸ¢é‡é‡‘å­—å¡”æ¨¡å‹ï¼Œå³åŸºäºåˆ¶å›¾ç»¼åˆçš„çŸ¥è¯†ï¼Œåˆ†åˆ«è®¾ç½®æµ·é‡æ•°æ®åœ¨ä¸åŒzoomä¸‹æ˜¯å¦æ˜¾ç¤ºï¼Œæ˜¯å¦ç®€åŒ–ï¼Œæ˜¯å¦èåˆçš„ä¸€ç§ç­–ç•¥ï¼Œå½“åŠ¨æ€æå–åˆ‡ç‰‡æ—¶ï¼Œæ ¹æ®è¿™ä¸ªç­–ç•¥é€‰æ‹©æ•°æ®ï¼Œå®é™…æå–çš„æ•°æ®å°±éå¸¸å°‘ï¼Œæœ‰æ•ˆè§£å†³äº†çŸ¢é‡åˆ‡ç‰‡ä¸èƒ½è§£å†³æ•°æ®å¤ªå¯†é›†é›†ä¸­çš„é—®é¢˜ã€‚\nçŸ¢é‡é‡‘å­—å¡” â†’ çŸ¢é‡æ•°æ®çš„å¤šå°ºåº¦è¡¨è¾¾ â†’ çŸ¢é‡æ•°æ®çš„è‡ªåŠ¨åˆ¶å›¾ç»¼åˆï¼ˆä¿è¯ç»¼åˆå‰åè¦ç´ å†…éƒ¨åŠè¦ç´ ä¹‹é—´çš„æ‹“æ‰‘å…³ç³»æ˜¯çŸ¢é‡åœ°å›¾æ­£ç¡®æ˜¾ç¤ºçš„åŸºæœ¬éœ€æ±‚ ğŸ˜¯ï¼‰\næ³¨ï¼šæ­¤å¤„æ‰€è¿°åˆ†å±‚ï¼Œå¹¶ä¸æ˜¯æ¯”ä¾‹å°ºç­‰çº§ã€‚è€Œæ˜¯åœ¨ä¸åŒæ¯”ä¾‹å°ºå±‚çº§ä¸‹ï¼ŒçŸ¢é‡æ•°æ®çš„è¯¦å°½ç¨‹åº¦ã€‚è€Œåˆ†å±‚å¤„ç†ï¼Œå³ä¸ºé€šè¿‡ä¸€å®šçš„æ‰‹æ®µæ¥æ§åˆ¶æ•°æ®çš„è¯¦å°½ç¨‹åº¦ã€‚\næŠ€æœ¯å®ç° åœ¨æŠ€æœ¯å®ç°ä¸Šï¼Œç›®å‰æˆ‘çœ‹åˆ°çš„éƒ½æ˜¯ä»¥ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ä¸ºåŸºç¡€ï¼Œå åŠ åˆ†å±‚å¤„ç†æ‰‹æ®µçš„æ–¹å¼å®ç°çš„ã€‚å› ä¸ºç“¦ç‰‡é‡‘å­—å¡”æ˜¯åœ¨åˆ†å±‚é‡‘å­—å¡”çš„åŸºç¡€ä¹‹ä¸Šï¼Œè€Œåˆ†å±‚å¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š\nå°ºåº¦åˆ†çº§å®šä¹‰ â†’ ä¸€ç³»åˆ—çš„æ¯”ä¾‹å°ºç­‰çº§ åˆ†å±‚åˆ†çº§å¤„ç†ï¼ˆç»¼åˆç®—å­ï¼‰ â†’ ä¸€ç³»åˆ—çš„å¤„ç†ç®—å­ï¼ˆå¦‚ï¼šFilterã€Simplifyï¼‰ OGC TileMatrixSet å®šä¹‰ è€Œå°ºåº¦åˆ†çº§å®šä¹‰ä¸è®ºæ˜¯åœ¨åˆ†å±‚é‡‘å­—å¡”è¿˜æ˜¯ç“¦ç‰‡é‡‘å­—å¡”ä¸­éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿå°±æ˜¯å°†åˆ†å±‚åˆ†çº§å¤„ç†ï¼ˆç»¼åˆç®—å­ï¼‰å‰¥ç¦»å‡ºæ¥å•ç‹¬å®ç°ï¼Œåœ¨æœ€ç»ˆçš„ç“¦ç‰‡ç”Ÿäº§æµç¨‹ä¸­ï¼Œæ¥å…¥ç“¦ç‰‡é‡‘å­—å¡”å³å¯ã€‚\nGeoWebCache å®ç° ç“¦ç‰‡é‡‘å­—å¡”ç»“æ„ public class GridSet { private String name; // æŠ•å½±åæ ‡ç³» private SRS srs; // ç“¦ç‰‡å®½, such as 256 private int tileWidth; // ç“¦ç‰‡é«˜, such as 256 private int tileHeight; /** * Whether the y-coordinate of {@link #tileOrigin()} is at the top (true) or at the bottom * (false) */ protected boolean yBaseToggle = false; /** * By default the coordinates are {x,y}, this flag reverses the output for WMTS getcapabilities */ private boolean yCoordinateFirst = false; private boolean scaleWarning = false; // å°†åæ ‡å‚è€ƒç³»ç»Ÿ (CRS) å•ä½è½¬æ¢ä¸ºç±³çš„ç³»æ•° // ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç»™å®šçš„CRSä¸­ä¸€ä¸ªå•å…ƒè½¬æ¢ä¸ºç±³çš„ç³»æ•°ã€‚æ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯åœ¨æŒ‡å®šçš„CRSä¸­ï¼Œä¸€ä¸ªå•å…ƒè¡¨ç¤ºå¤šå°‘ç±³ã€‚ // ç›®å‰å¸¸ç”¨çš„å°±ä¸¤ç§æŠ•å½±ï¼Œä¸€æ˜¯ä»¥ç±³ä¸ºå•ä½çš„ï¼ˆå³metersPerUnitä¸º1ï¼‰ï¼›å…¶æ¬¡æ˜¯ä»¥åº¦ä¸ºå•ä½çš„ç»çº¬åº¦æŠ•å½±ï¼ˆmetersPerUnitè¡¨ç¤ºä¸º1åº¦ä»£è¡¨å¤šå°‘ç±³ï¼Œå³ï¼š360/èµ¤é“å‘¨é•¿ï¼Œä¸åŒCRSä½¿ç”¨ä¸åŒçš„æ¤­çƒä½“ï¼Œæ‰€ä»¥å…¶èµ¤é“å‘¨é•¿ä¹Ÿä¼šå­˜åœ¨ä¸€å®šå·®å¼‚ã€‚ï¼‰ private double metersPerUnit; // åƒç´ å¤§å°, é€šå¸¸ç»™å®š0.","title":"çŸ¢é‡é‡‘å­—å¡”æŠ€æœ¯ç ”ç©¶"},{"content":"å‰è¨€ ä¹¦æ¥ä¸Šå›ï¼Œæ­¤å‰æåˆ°åœ°å›¾ç“¦ç‰‡åˆ‡ç‰‡æŠ€æœ¯çš„å‘å±•ã€‚çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å°†ç“¦ç‰‡çš„æ¸²æŸ“ç”±æœåŠ¡ç«¯è¿ç§»åˆ°å®¢æˆ·ç«¯ï¼Œæ­¤æ“ä½œå¸¦æ¥çš„å½±å“åŠ›ä¸å¯è°“ä¸å¤§ï¼ŒåŸºäºæ­¤ï¼Œå®Œå…¨å¯ä»¥éšå¿ƒæ‰€æ¬²çš„å®šä¹‰åœ°å›¾çš„è¡¨è¾¾ã€‚é‚£ä¹ˆåœ¨å®é™…çš„åº”ç”¨å½“ä¸­ï¼Œå½“æ¸²æŸ“ä»æœåŠ¡ç«¯è¿ç§»åå®¢æˆ·ç«¯åï¼Œæ˜¯å¦ä¼šå¸¦æ¥ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼Ÿ\nè¶…20Mçš„ç“¦ç‰‡æ•°æ® æ­¤äº‹å‘ç”Ÿåœ¨2023å¹´ï¼Œå½“æ—¶æˆ‘ä»¬çš„æŠ€æœ¯ç»„åˆæ˜¯ï¼šç©ºé—´æ•°æ®åº“+GeoServerï¼ˆvector tile pluginï¼‰+ Mapbox GL JSï¼ŒåŸºäºæ­¤æä¾›çŸ¢é‡ç“¦ç‰‡æœåŠ¡ã€‚æŸä¸€å¤©ï¼Œåœ¨æŸä½å¿ƒç»†å¦‚å‘çš„å¤§ä½¬çš„å¯Ÿè§‰ä¸‹ï¼Œçªç„¶å‘ç°æä¾›çš„åœ°å›¾æœåŠ¡åœ¨å±‚çº§ä¸º10çº§æ—¶ï¼Œå‡ºç°ä¸€ä¸ªå¤§å°å¤§äº20Mçš„ç“¦ç‰‡ï¼Œé¡¿æ„ŸæƒŠäººã€‚ç»è¿‡å¤šæ¬¡æ ¸å¯¹åï¼Œç¡®å®šåœ¨è¯¥ä»½æ•°æ®ä¸‹ï¼ŒGeoServeråœ¨å°æ¯”ä¾‹å°ºä¸‹ï¼ˆçº¦è«10çº§å¾€ä¸‹ï¼‰ç”Ÿäº§çš„å¤§éƒ¨åˆ†ç“¦ç‰‡å°ºå¯¸éƒ½æ¯”è¾ƒå¤§ï¼Œè€Œæ•°æ®å¯†åº¦è¶Šå¤§çš„åœ°æ–¹å°¤å…¶ä¸¥é‡ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬è®¤ä¸ºï¼šæ˜¯ç”±äºGeoServeræ²¡æœ‰æä¾›çŸ¢é‡åˆ†å±‚æŠ½ç¨€ç®€åŒ–çš„èƒ½åŠ›ï¼Œæ‰€ä»¥å¯¼è‡´åœ¨å°æ¯”ä¾‹å°º+é«˜å¯†åº¦çš„åŒé‡å åŠ ä¸‹ï¼Œç“¦ç‰‡å¤§å°æš´å¢ã€‚\nåœ¨ä¸€æ®µæ—¶é—´åï¼Œä¸ºäº†å¿«é€Ÿå¤„ç†è¯¥é—®é¢˜ï¼Œæˆ‘æ›¾æå‡ºï¼šå¯ä»¥åŸºäºç›®å‰é…å›¾çš„æ€æƒ³ï¼ˆè§£æé…å›¾æ–‡ä»¶ï¼‰ï¼Œåœ¨æœåŠ¡ç«¯å»å¾€æ•°æ®åº“è¯»å–æ•°æ®çš„æ—¶å€™ä¾¿è¿›è¡Œæ•°æ®è¿‡æ»¤ï¼ˆå…¶å®å°±æ˜¯åˆ†å±‚åˆ†çº§ï¼‰ï¼Œé¿å…å¤§é‡ä¸éœ€è¦çš„æ•°æ®ç»æŸ¥è¯¢ã€ä¼ è¾“ã€ç¼–ç å†ä¼ è¾“å¸¦æ¥çš„å½±å“ã€‚æ¯”å¦‚æˆ‘ä»¬æŒ‰ç…§å£å¾„è¿›è¡Œçº¦å®šï¼Œåœ¨13çº§å¾€ä¸‹ï¼Œåªæ˜¾ç¤ºå¤§äºxxå£å¾„çš„æ•°æ®çš„æ•°æ®ï¼Œé‚£ä¹ˆæ­¤æ—¶æ‰€æœ‰å°äºè¯¥å£å¾„çš„æ•°æ®éƒ½ä¸éœ€è¦è¢«ä¼ é€’ã€‚\nä½†æˆ‘ä»¬å‰ç«¯é…å›¾äººå‘˜æå‡ºä¸€ä¸ªè¯´æ³•ï¼šè¯´å¦‚æœä½ è¿™èˆ¬å¤„ç†ï¼Œé‚£ä¹ˆæ„å‘³ç€é…å›¾çš„æ—¶å€™æ•°æ®å°±ä¸æ˜¯å®Œæ•´çš„ï¼Œæˆ‘æ— æ³•è‡ªè¡Œé€‰æ‹©æ•°æ®ï¼Œä¸åŒçš„é¡¹ç›®éœ€æ±‚ä¹Ÿä¸å°½ç›¸åŒï¼Œçµæ´»æ€§è‡ªç„¶å¤§æ‰“æŠ˜æ‰£ã€‚åŒæ—¶ï¼Œä¹Ÿå°±æ„å‘³ç€è¯¥é¡¹é…ç½®ä¸ç“¦ç‰‡ç¼“å­˜æ˜¯ç»‘å®šçš„ï¼Œä¸€æ—¦å­˜åœ¨é…å›¾é¡¹çš„å˜æ›´ï¼Œä¾¿æ„å‘³ç€æ­¤å‰ç¼“å­˜å‡æ˜¯å¤±æ•ˆçš„ã€‚\né…å›¾çš„è¾¹ç•Œ æ—¶è‡³ä»Šæ—¥ï¼Œå·²è¿‡åŠå¹´ã€‚ç›®å‰æƒ³æ¥ï¼Œè¿™é‡Œç¡®å®šå­˜åœ¨è¿™ä¹ˆå‡ ä¸ªé—®é¢˜ï¼š\nåˆ°åº•ä»€ä¹ˆæ˜¯é…å›¾ï¼Œé…å›¾é…çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿ æ•°æ®å‘å¸ƒè¿‡ç¨‹ä¸­ï¼Œé…å›¾åº”è¯¥å¤„äºä»€ä¹ˆé˜¶æ®µï¼Ÿ å¯¹äºä»€ä¹ˆæ˜¯é…å›¾ï¼Œæˆ‘ç›®å‰è¿˜ç»™ä¸å‡ºä¸€ä¸ªååˆ†æ°å½“çš„å›ç­”ï¼Œå› ä¸ºæ­¤å‰ç¡®å®æ²¡æœ‰åšè¿‡è¿™æ–¹é¢çš„å†…å®¹ã€‚ä½†ç§ä»¥ä¸ºç‹­ä¹‰æƒ…å†µä¸‹ï¼Œåœ°å›¾çš„ç¬¦å·åŒ–è¿‡ç¨‹åº”è¯¥ç§°ä¹‹ä¸ºé…å›¾ã€‚é…å›¾å†…å®¹å¦‚ä¸‹ï¼š\nè¦ç´ ç¬¦å·åŒ– æ–‡å­—æ ‡æ³¨ é‚£ä¹ˆåˆ†å±‚æ˜¾ç¤ºæ§åˆ¶èƒ½åŠ›ï¼ˆå±æ€§åˆ†çº§ï¼‰æ˜¯å¦åº”è¯¥å½’å±åˆ°é…å›¾ä¸­å‘¢ï¼Ÿåœ¨å›¾åƒåˆ‡ç‰‡æ—¶ä»£ä¸­ï¼Œæƒ³æ¥é…å›¾éƒ½æ˜¯æå‰ç¡®å®šå¥½çš„ï¼Œè€Œä¸”å—ç›Šäºå½±åƒé‡‘å­—å¡”è‡ªå¸¦å¤šå±‚æ¬¡åˆ†è¾¨ç‡çš„èƒ½åŠ›ï¼Œæ‰€ä»¥åœ¨é…å›¾ä¸­å‹æ ¹ä¸éœ€è¦è€ƒè™‘åˆ†çº§é—®é¢˜ï¼ˆå‡å®šæ•°æ®éƒ½æ˜¯æ …æ ¼æ•°æ®ï¼‰ã€‚ä½†æ˜¯çŸ¢é‡æ•°æ®å¹¶æ²¡æœ‰åˆ†è¾¨ç‡çš„è¯´æ³•ï¼Œæ‰€ä»¥æ— æ³•ä»å½±åƒé‡‘å­—å¡”æ¨¡å‹è·åˆ©ã€‚åœ¨é¢å¯¹å¤§æ•°æ®é‡æˆ–é«˜å¯†åº¦åŒºåŸŸçš„æƒ…å†µæ—¶ï¼Œéœ€è‡ªè¡Œå¤„ç†åˆ†çº§é—®é¢˜ã€‚\nå¯¹äºçŸ¢é‡æ•°æ®æ¥è¯´ï¼Œåœ¨çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å‡ºç°ä¹‹å‰ï¼Œæ‰€æœ‰ç“¦ç‰‡éƒ½æ˜¯åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œé‚£ä¹ˆå±æ€§åˆ†çº§æ§åˆ¶ä¹Ÿæ˜¯åœ¨æœåŠ¡ç«¯è¿›è¡Œçš„ã€‚è€Œåœ¨çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å‡ºç°ä¹‹åï¼Œå®Œå…¨å¯ä»¥ç›´æ¥åœ¨å®¢æˆ·ç«¯å®ç°å±æ€§åˆ†å±‚æ§åˆ¶äº†ã€‚ä¸”ç›®å‰å¼€æºGISæŠ€æœ¯æ–¹æ¡ˆå¤§å¤šéƒ½é€‰æ‹©ï¼šGeoServer+Mapboxï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­æ„Ÿè§‰GeoServerå¹¶ä¸ç†ä¼šä»€ä¹ˆå±æ€§åˆ†çº§å’Œç©ºé—´ç‰¹å¾ç®€åŒ–ï¼Œè€Œæ˜¯ä¸€è‚¡è„‘çš„å°†æ•°æ®ä¸¢ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è‡ªå·±ç­›é€‰ã€‚\nä»ç»“æœæ¥çœ‹ï¼Œå¥½åƒåœ¨åº”ç”¨ä¸Šç¡®å®æ˜¯è¡Œå¾—é€šçš„ã€‚å®é™…ä¸Šç¡®å®å¦‚æ­¤ï¼Œæˆ–è®¸å¤§å¤šæ•°å…¬å¸éƒ½æ˜¯è¿™æ ·åšçš„å§ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¿™å°±å¥½åƒæ˜¯å¾—ç›ŠäºçŸ¢é‡ç“¦ç‰‡æ¸²æŸ“èƒ½åŠ›åç§»çš„ç‰¹ç‚¹ï¼ŒæœåŠ¡ç«¯å°†åŸæœ¬åº”è¯¥è‡ªå·±ç®¡æ§çš„æ•°æ®ä¸€è‚¡è„‘çš„ä¸¢åˆ°äº†å®¢æˆ·ç«¯ï¼Œç”±å®¢æˆ·ç«¯è‡ªè¡Œæ§åˆ¶ã€‚\né‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ•°æ®çš„åˆ†å±‚åˆ†çº§æ§åˆ¶æƒåˆ°åº•åº”è¯¥ç»™è°ï¼Œæ˜¯ç“¦ç‰‡ç”Ÿäº§ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯å‘¢ï¼Ÿ\næˆ‘è®¤ä¸ºåº”è¯¥ä¼˜å…ˆå˜æ¸…æ•´ä¸ªç”Ÿäº§æµç¨‹ï¼Œæ˜ç¡®å„èŠ‚ç‚¹èƒ½åŠ›è¾¹ç•Œ\næ•°æ®çš„åˆ†ç±»ã€åˆ†å±‚è‚¯å®šæ˜¯åœ¨æœ€å‰é¢ï¼Œä¸”åˆ†ç±»ã€åˆ†å±‚ä¸é‡‘å­—å¡”åˆ†å±‚æ¯æ¯ç›¸å…³ã€‚ä¸”åº”è¯¥å½¢æˆå…¬çŸ¥ï¼Œç“¦ç‰‡çš„ç”Ÿäº§ç«¯ä¸åº”ç”¨çš„å®¢æˆ·ç«¯éƒ½åº”è¯¥æ¸…æ™°çš„çŸ¥é“ã€æ•°æ®åˆ†å±‚åˆ†çº§æ§åˆ¶ç­–ç•¥ â†’ çŸ¢é‡é‡‘å­—å¡”åˆ†å±‚è§„åˆ™å®šä¹‰ã€‘ å…¶æ¬¡æ˜¯çŸ¢é‡æ•°æ®çš„å‘å¸ƒï¼Œæ­¤ä¸­åº”è¯¥å®Œæ•´çš„å®ç°çŸ¢é‡æ•°æ®åˆ†å±‚ï¼Œå³å½¢æˆçŸ¢é‡é‡‘å­—å¡”ç»“æ„ã€çŸ¢é‡é‡‘å­—å¡”æ¨¡å‹å®ç°ã€‘ å› çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å¸¦æ¥çš„é…å›¾åç½®ï¼Œæ•°æ®çš„ç¬¦å·åŒ–åœ¨æ­¤å¤„å®Œæˆã€åœ°å›¾ç¬¦å·åŒ–ã€‘ å…¶æ¬¡ï¼Œå¯ä»¥æƒ³ä¸€ä¸‹æ•°æ®åˆ†å±‚æ§åˆ¶æƒé™å½’å±åˆ°å®¢æˆ·ç«¯åä¼šå¸¦æ¥ä»€ä¹ˆæ ·çš„å½±å“ï¼š\nåœ¨å¤§æ•°æ®é‡æˆ–é«˜å¯†åº¦åŒºåŸŸçš„æƒ…å†µä¸‹ï¼Œå°æ¯”ä¾‹å°ºçº§åˆ«ç“¦ç‰‡å°ºå¯¸å¯èƒ½çˆ†ç‚¸ è®¡ç®—èµ„æºã€å­˜å‚¨èµ„æºï¼ˆç¼“å­˜ï¼‰å ç”¨å¢å¤š å¯¹å¸¦å®½è¦æ±‚é«˜ï¼Œç§»åŠ¨ç«¯çš„è¯æµé‡å—–å—–çš„è·‘ å®¢æˆ·ç«¯æ€§èƒ½ä¸‹é™ æ‰€ä»¥æˆ‘è®¤ä¸ºï¼Œæ•°æ®æ§åˆ¶èƒ½åŠ›åº”è¯¥å½’å±äºç“¦ç‰‡ç”Ÿäº§ç«¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ”¯æŒåˆ†å±‚æ§åˆ¶èƒ½åŠ›ï¼Œä½†å…¶å¯¹äºæ•°æ®çš„æ§åˆ¶åªèƒ½åœ¨å…¨å±€ç»Ÿä¸€çš„åˆ†ç±»ã€åˆ†å±‚ç­–ç•¥æ‰€æä¾›çš„èŒƒå›´å†…æ´»åŠ¨ã€‚ä¹Ÿå°±æ˜¯è¯´å®¢æˆ·ç«¯å¯ä»¥å®ç°çš„åˆ†å±‚èŒƒå›´æ˜¯å…¨å±€è§„å®šçš„èŒƒå›´çš„å­é›†ã€‚\nå¯¹äºç›®å‰åœ¨é…å›¾ä¸­è¿›è¡Œå…¨å±€æ•°æ®çš„åˆ†å±‚åˆ†çº§è¡Œä¸ºï¼Œæˆ‘è®¤ä¸ºæ˜¯çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å¸¦æ¥çš„é…å›¾åŠ¨ä½œåç½®äº§ç”Ÿçš„å½±å“ã€‚åŒæ—¶åœ¨GeoServer + Mapbox å®¢æˆ·ç«¯æ§åˆ¶æ•°æ®æ“ä½œçš„é•¿æœŸå½±å“ä¸‹ï¼Œç»™åæ¥äººä¸€ç§é”™è§‰ä¾¿æ˜¯æ•°æ®æ§åˆ¶ä¹Ÿå˜æ›´åˆ°å®¢æˆ·ç«¯æ§åˆ¶ã€‚\nè®ºGeoServerçš„æ­£ç¡®ä½¿ç”¨ï¼Ÿ æœ€è¿‘åœ¨è‡ªå·±å®ç°ä¸€ä¸ªçŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œç”±äºè‡ªå·±ç›®å‰åªä¼šå†™Javaï¼Œæ‰€ä»¥ä¸å¾—ä¸å¯¹GeoServerè¿›è¡Œå€Ÿé‰´ï¼Œæ‰€ä»¥å°±è¿›ä¸€æ­¥çš„ç ”ç©¶äº†GeoServerçš„æºç ã€‚\nGeoServerå¯ä»¥çœ‹ä½œæ˜¯GeoToolsï¼ŒGeoWebCacheä»¥åŠOGC API Implementçš„ç»“åˆä½“ã€‚å…¶ä¸­ï¼ŒGeoWebCacheæä¾›äº†é‡‘å­—å¡”ç»“æ„çš„å®šä¹‰å’Œç¼“å­˜èƒ½åŠ›ï¼›GeoToolsæä¾›äº†ç©ºé—´æ•°æ®ç›¸å…³çš„å®šä¹‰å’Œæ“ä½œã€‚åœ¨æœ¬æ¬¡ç ”ç©¶åï¼Œæˆ‘ç¡®å®šæˆ‘éœ€è¦å‘GeoServeré“æ­‰ã€‚åœ¨æ­¤å‰çš„æè¿°ä¸­ï¼Œæˆ‘è®¤ä¸ºGeoServeræ˜¯æ²¡æœ‰æä¾›æ•°æ®åˆ†å±‚å’Œç©ºé—´ç®€åŒ–çš„èƒ½åŠ›çš„ï¼Œä½†æ˜¯æˆ‘é”™äº†ã€‚\næˆ‘æ‹‰å–çš„æ˜¯GeoServerçš„2.22.xåˆ†æ”¯ï¼Œå› ä¸ºè¿™ä¸ªç‰ˆæœ¬ç”¨çš„æ¯”è¾ƒå¤šï¼Œç›¸å¯¹è€Œè¨€æ›´å…·æœ‰ä»£è¡¨æ€§ï¼Œæ‰€ä»¥æ²¡æœ‰é€‰æ‹©æœ€æ–°ç‰ˆæœ¬ã€‚\nç©ºé—´ç®€åŒ–èƒ½åŠ› ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨GeoServer vector tileçš„ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå·²ç»é›†æˆäº†SimplifyåŠŸèƒ½ã€‚\nè¿˜æœ‰ä¸€ä¸ªæƒ…å†µï¼Œå…¶å®GeoServer Vector Tile Pluginé‡‡ç”¨çš„çŸ¢é‡ç“¦ç‰‡ç¼–ç å™¨ï¼ˆjava-vector-tileï¼‰ä¸­å…¶å®ä¹Ÿæä¾›äº†Simplifyçš„åŠŸèƒ½ï¼Œåªä¸è¿‡é»˜è®¤æ˜¯å…³é—­çš„ã€‚\næ•°æ®åˆ†å±‚ï¼ˆå±æ€§åˆ†çº§ï¼‰ GeoServerçš„vector tileå®ç°ä¸­ï¼Œå±…ç„¶æ˜¯å°è¯•ä»Styleï¼ˆSLDï¼‰ä¸­è·å–åˆ°Filterçš„ä¿¡æ¯ï¼Œç”¨ä»¥å‡å°‘æ•°æ®çš„æ£€ç´¢ï¼ˆæ•°æ®åº“ä¸­çš„Filteræ¯”JavaåŸºäºå†…å­˜çš„Filteræ›´é«˜æ•ˆï¼‰ï¼ŒåŒæ—¶è¿˜æä¾›äº†ä¸€ä¸ªå°†Mapbox styleè½¬æ¢ä¸ºSLDçš„æ‹“å±•æ¨¡å—ã€‚\nçœ‹åˆ°è¿™é‡Œçš„æˆ‘å¾ˆæ¿€åŠ¨ï¼Œæ„Ÿè§‰æ‰¾åˆ°äº†çŸ¥å·±ä¸€èˆ¬ï¼Œå“ˆå“ˆå“ˆã€‚\nåœ¨æ˜ç™½çœŸç›¸ä¹‹åçš„æˆ‘ï¼Œåªèƒ½æ˜¯æ„Ÿå¹GeoServerçš„å†å²åŒ…è¢±å¤ªé‡äº†ï¼Œä½†åº”è¯¥è¢«æ•¬ä½©ã€‚\nè€Œæ­¤æ—¶å†æ¬¡å›å¤´çœ‹æˆ‘ä¹‹å‰æå‡ºè§£æé…å›¾æ–‡ä»¶çš„æƒ³æ³•ï¼Œå‘ç°è¿™ç§åšæ³•ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ã€‚\nçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å‡ºç°ï¼Œå®ç°äº†ä¸€å¥—ç“¦ç‰‡æ•°æ®å¯ä»¥æœ‰Nç§é…å›¾æ–¹æ¡ˆ çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å®Œç¾çš„åˆ†ç¦»äº†æ•°æ®ä¸æ¸²æŸ“ï¼Œè¾¹ç•Œæ¸…æ™° æ‰€ä»¥ï¼ŒåŸºäºé…å›¾å‰¥ç¦»å±æ€§åˆ†çº§çš„æ–¹å¼ä¸å°±åˆå°†æ¸²æŸ“ä¸æ•°æ®è€¦åˆèµ·æ¥ï¼Œé…å›¾ä¹Ÿå°±ä¼šå’Œç¼“å­˜ç»‘å®šäº†ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§é…å›¾æ–¹æ¡ˆä¸€å¥—ç“¦ç‰‡æ•°æ®äº†ï¼ˆè‹¥ä¸€æ—¦æ¶‰åŠåˆ°åˆ†çº§éƒ¨åˆ†çš„å˜åŒ–ï¼‰ï¼Œè‡ªç„¶æ˜¯æœ‰é—®é¢˜çš„ã€‚\nç»“è®º ç»¼ä¸Šæ‰€è¿°ï¼Œç§ä»¥ä¸ºï¼š\nåœ¨çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ä¸‹ï¼Œæ•°æ®å½“æœ‰æ•°æ®æœ¬èº«çš„åˆ†å±‚è§„åˆ™ï¼Œä¸åº”è¯¥ä¾èµ–äºé…å›¾ï¼Œä¹Ÿä¸åº”è¯¥ç”±é…å›¾æ¥å®šä¹‰ã€‚\nåˆ†å±‚æ§åˆ¶å½“å±äºæ•°æ®æ§åˆ¶æƒé™ï¼Œåº”è¯¥å½’å±äºç“¦ç‰‡çš„ç”Ÿäº§ç«¯æ§åˆ¶ åœ¨çŸ¢é‡ç“¦ç‰‡æ—¶ä»£ï¼Œé…å›¾å°±æ˜¯åœ°å›¾ç¬¦å·åŒ–çš„è¿‡ç¨‹ï¼Œå¯¹åº”çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ä¸‹ï¼Œæ¸²æŸ“åç§»åˆ°å®¢æˆ·ç«¯çš„éƒ¨åˆ† å…¨å±€åˆ†å±‚åˆ†çº§ç­–ç•¥åº”è¯¥æ˜¯é¦–å…ˆå®šä¹‰çš„ï¼Œä¸”åº”è¯¥å½¢æˆå…¬çŸ¥çš„å½¢æ€ã€‚æœåŠ¡ç«¯çš„æ•°æ®æ§åˆ¶åº”å½“ä¸¥æ ¼éµå¾ªè¯¥ç­–ç•¥ï¼Œå®¢æˆ·ç«¯å¯æ§åˆ†å±‚èŒƒå›´æ˜¯è¯¥ç­–ç•¥çš„å­é›† å‚è€ƒ GeoServer Branch 2.22.x ","permalink":"https://fuyi-atlas.github.io/posts/gis/thoughts-on-mvt-front-end-rendering/","summary":"å‰è¨€ ä¹¦æ¥ä¸Šå›ï¼Œæ­¤å‰æåˆ°åœ°å›¾ç“¦ç‰‡åˆ‡ç‰‡æŠ€æœ¯çš„å‘å±•ã€‚çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å°†ç“¦ç‰‡çš„æ¸²æŸ“ç”±æœåŠ¡ç«¯è¿ç§»åˆ°å®¢æˆ·ç«¯ï¼Œæ­¤æ“ä½œå¸¦æ¥çš„å½±å“åŠ›ä¸å¯è°“ä¸å¤§ï¼ŒåŸºäºæ­¤ï¼Œå®Œå…¨å¯ä»¥éšå¿ƒæ‰€æ¬²çš„å®šä¹‰åœ°å›¾çš„è¡¨è¾¾ã€‚é‚£ä¹ˆåœ¨å®é™…çš„åº”ç”¨å½“ä¸­ï¼Œå½“æ¸²æŸ“ä»æœåŠ¡ç«¯è¿ç§»åå®¢æˆ·ç«¯åï¼Œæ˜¯å¦ä¼šå¸¦æ¥ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼Ÿ\nè¶…20Mçš„ç“¦ç‰‡æ•°æ® æ­¤äº‹å‘ç”Ÿåœ¨2023å¹´ï¼Œå½“æ—¶æˆ‘ä»¬çš„æŠ€æœ¯ç»„åˆæ˜¯ï¼šç©ºé—´æ•°æ®åº“+GeoServerï¼ˆvector tile pluginï¼‰+ Mapbox GL JSï¼ŒåŸºäºæ­¤æä¾›çŸ¢é‡ç“¦ç‰‡æœåŠ¡ã€‚æŸä¸€å¤©ï¼Œåœ¨æŸä½å¿ƒç»†å¦‚å‘çš„å¤§ä½¬çš„å¯Ÿè§‰ä¸‹ï¼Œçªç„¶å‘ç°æä¾›çš„åœ°å›¾æœåŠ¡åœ¨å±‚çº§ä¸º10çº§æ—¶ï¼Œå‡ºç°ä¸€ä¸ªå¤§å°å¤§äº20Mçš„ç“¦ç‰‡ï¼Œé¡¿æ„ŸæƒŠäººã€‚ç»è¿‡å¤šæ¬¡æ ¸å¯¹åï¼Œç¡®å®šåœ¨è¯¥ä»½æ•°æ®ä¸‹ï¼ŒGeoServeråœ¨å°æ¯”ä¾‹å°ºä¸‹ï¼ˆçº¦è«10çº§å¾€ä¸‹ï¼‰ç”Ÿäº§çš„å¤§éƒ¨åˆ†ç“¦ç‰‡å°ºå¯¸éƒ½æ¯”è¾ƒå¤§ï¼Œè€Œæ•°æ®å¯†åº¦è¶Šå¤§çš„åœ°æ–¹å°¤å…¶ä¸¥é‡ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬è®¤ä¸ºï¼šæ˜¯ç”±äºGeoServeræ²¡æœ‰æä¾›çŸ¢é‡åˆ†å±‚æŠ½ç¨€ç®€åŒ–çš„èƒ½åŠ›ï¼Œæ‰€ä»¥å¯¼è‡´åœ¨å°æ¯”ä¾‹å°º+é«˜å¯†åº¦çš„åŒé‡å åŠ ä¸‹ï¼Œç“¦ç‰‡å¤§å°æš´å¢ã€‚\nåœ¨ä¸€æ®µæ—¶é—´åï¼Œä¸ºäº†å¿«é€Ÿå¤„ç†è¯¥é—®é¢˜ï¼Œæˆ‘æ›¾æå‡ºï¼šå¯ä»¥åŸºäºç›®å‰é…å›¾çš„æ€æƒ³ï¼ˆè§£æé…å›¾æ–‡ä»¶ï¼‰ï¼Œåœ¨æœåŠ¡ç«¯å»å¾€æ•°æ®åº“è¯»å–æ•°æ®çš„æ—¶å€™ä¾¿è¿›è¡Œæ•°æ®è¿‡æ»¤ï¼ˆå…¶å®å°±æ˜¯åˆ†å±‚åˆ†çº§ï¼‰ï¼Œé¿å…å¤§é‡ä¸éœ€è¦çš„æ•°æ®ç»æŸ¥è¯¢ã€ä¼ è¾“ã€ç¼–ç å†ä¼ è¾“å¸¦æ¥çš„å½±å“ã€‚æ¯”å¦‚æˆ‘ä»¬æŒ‰ç…§å£å¾„è¿›è¡Œçº¦å®šï¼Œåœ¨13çº§å¾€ä¸‹ï¼Œåªæ˜¾ç¤ºå¤§äºxxå£å¾„çš„æ•°æ®çš„æ•°æ®ï¼Œé‚£ä¹ˆæ­¤æ—¶æ‰€æœ‰å°äºè¯¥å£å¾„çš„æ•°æ®éƒ½ä¸éœ€è¦è¢«ä¼ é€’ã€‚\nä½†æˆ‘ä»¬å‰ç«¯é…å›¾äººå‘˜æå‡ºä¸€ä¸ªè¯´æ³•ï¼šè¯´å¦‚æœä½ è¿™èˆ¬å¤„ç†ï¼Œé‚£ä¹ˆæ„å‘³ç€é…å›¾çš„æ—¶å€™æ•°æ®å°±ä¸æ˜¯å®Œæ•´çš„ï¼Œæˆ‘æ— æ³•è‡ªè¡Œé€‰æ‹©æ•°æ®ï¼Œä¸åŒçš„é¡¹ç›®éœ€æ±‚ä¹Ÿä¸å°½ç›¸åŒï¼Œçµæ´»æ€§è‡ªç„¶å¤§æ‰“æŠ˜æ‰£ã€‚åŒæ—¶ï¼Œä¹Ÿå°±æ„å‘³ç€è¯¥é¡¹é…ç½®ä¸ç“¦ç‰‡ç¼“å­˜æ˜¯ç»‘å®šçš„ï¼Œä¸€æ—¦å­˜åœ¨é…å›¾é¡¹çš„å˜æ›´ï¼Œä¾¿æ„å‘³ç€æ­¤å‰ç¼“å­˜å‡æ˜¯å¤±æ•ˆçš„ã€‚\né…å›¾çš„è¾¹ç•Œ æ—¶è‡³ä»Šæ—¥ï¼Œå·²è¿‡åŠå¹´ã€‚ç›®å‰æƒ³æ¥ï¼Œè¿™é‡Œç¡®å®šå­˜åœ¨è¿™ä¹ˆå‡ ä¸ªé—®é¢˜ï¼š\nåˆ°åº•ä»€ä¹ˆæ˜¯é…å›¾ï¼Œé…å›¾é…çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿ æ•°æ®å‘å¸ƒè¿‡ç¨‹ä¸­ï¼Œé…å›¾åº”è¯¥å¤„äºä»€ä¹ˆé˜¶æ®µï¼Ÿ å¯¹äºä»€ä¹ˆæ˜¯é…å›¾ï¼Œæˆ‘ç›®å‰è¿˜ç»™ä¸å‡ºä¸€ä¸ªååˆ†æ°å½“çš„å›ç­”ï¼Œå› ä¸ºæ­¤å‰ç¡®å®æ²¡æœ‰åšè¿‡è¿™æ–¹é¢çš„å†…å®¹ã€‚ä½†ç§ä»¥ä¸ºç‹­ä¹‰æƒ…å†µä¸‹ï¼Œåœ°å›¾çš„ç¬¦å·åŒ–è¿‡ç¨‹åº”è¯¥ç§°ä¹‹ä¸ºé…å›¾ã€‚é…å›¾å†…å®¹å¦‚ä¸‹ï¼š\nè¦ç´ ç¬¦å·åŒ– æ–‡å­—æ ‡æ³¨ é‚£ä¹ˆåˆ†å±‚æ˜¾ç¤ºæ§åˆ¶èƒ½åŠ›ï¼ˆå±æ€§åˆ†çº§ï¼‰æ˜¯å¦åº”è¯¥å½’å±åˆ°é…å›¾ä¸­å‘¢ï¼Ÿåœ¨å›¾åƒåˆ‡ç‰‡æ—¶ä»£ä¸­ï¼Œæƒ³æ¥é…å›¾éƒ½æ˜¯æå‰ç¡®å®šå¥½çš„ï¼Œè€Œä¸”å—ç›Šäºå½±åƒé‡‘å­—å¡”è‡ªå¸¦å¤šå±‚æ¬¡åˆ†è¾¨ç‡çš„èƒ½åŠ›ï¼Œæ‰€ä»¥åœ¨é…å›¾ä¸­å‹æ ¹ä¸éœ€è¦è€ƒè™‘åˆ†çº§é—®é¢˜ï¼ˆå‡å®šæ•°æ®éƒ½æ˜¯æ …æ ¼æ•°æ®ï¼‰ã€‚ä½†æ˜¯çŸ¢é‡æ•°æ®å¹¶æ²¡æœ‰åˆ†è¾¨ç‡çš„è¯´æ³•ï¼Œæ‰€ä»¥æ— æ³•ä»å½±åƒé‡‘å­—å¡”æ¨¡å‹è·åˆ©ã€‚åœ¨é¢å¯¹å¤§æ•°æ®é‡æˆ–é«˜å¯†åº¦åŒºåŸŸçš„æƒ…å†µæ—¶ï¼Œéœ€è‡ªè¡Œå¤„ç†åˆ†çº§é—®é¢˜ã€‚\nå¯¹äºçŸ¢é‡æ•°æ®æ¥è¯´ï¼Œåœ¨çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å‡ºç°ä¹‹å‰ï¼Œæ‰€æœ‰ç“¦ç‰‡éƒ½æ˜¯åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œé‚£ä¹ˆå±æ€§åˆ†çº§æ§åˆ¶ä¹Ÿæ˜¯åœ¨æœåŠ¡ç«¯è¿›è¡Œçš„ã€‚è€Œåœ¨çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å‡ºç°ä¹‹åï¼Œå®Œå…¨å¯ä»¥ç›´æ¥åœ¨å®¢æˆ·ç«¯å®ç°å±æ€§åˆ†å±‚æ§åˆ¶äº†ã€‚ä¸”ç›®å‰å¼€æºGISæŠ€æœ¯æ–¹æ¡ˆå¤§å¤šéƒ½é€‰æ‹©ï¼šGeoServer+Mapboxï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­æ„Ÿè§‰GeoServerå¹¶ä¸ç†ä¼šä»€ä¹ˆå±æ€§åˆ†çº§å’Œç©ºé—´ç‰¹å¾ç®€åŒ–ï¼Œè€Œæ˜¯ä¸€è‚¡è„‘çš„å°†æ•°æ®ä¸¢ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è‡ªå·±ç­›é€‰ã€‚\nä»ç»“æœæ¥çœ‹ï¼Œå¥½åƒåœ¨åº”ç”¨ä¸Šç¡®å®æ˜¯è¡Œå¾—é€šçš„ã€‚å®é™…ä¸Šç¡®å®å¦‚æ­¤ï¼Œæˆ–è®¸å¤§å¤šæ•°å…¬å¸éƒ½æ˜¯è¿™æ ·åšçš„å§ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¿™å°±å¥½åƒæ˜¯å¾—ç›ŠäºçŸ¢é‡ç“¦ç‰‡æ¸²æŸ“èƒ½åŠ›åç§»çš„ç‰¹ç‚¹ï¼ŒæœåŠ¡ç«¯å°†åŸæœ¬åº”è¯¥è‡ªå·±ç®¡æ§çš„æ•°æ®ä¸€è‚¡è„‘çš„ä¸¢åˆ°äº†å®¢æˆ·ç«¯ï¼Œç”±å®¢æˆ·ç«¯è‡ªè¡Œæ§åˆ¶ã€‚\né‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ•°æ®çš„åˆ†å±‚åˆ†çº§æ§åˆ¶æƒåˆ°åº•åº”è¯¥ç»™è°ï¼Œæ˜¯ç“¦ç‰‡ç”Ÿäº§ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯å‘¢ï¼Ÿ\næˆ‘è®¤ä¸ºåº”è¯¥ä¼˜å…ˆå˜æ¸…æ•´ä¸ªç”Ÿäº§æµç¨‹ï¼Œæ˜ç¡®å„èŠ‚ç‚¹èƒ½åŠ›è¾¹ç•Œ\næ•°æ®çš„åˆ†ç±»ã€åˆ†å±‚è‚¯å®šæ˜¯åœ¨æœ€å‰é¢ï¼Œä¸”åˆ†ç±»ã€åˆ†å±‚ä¸é‡‘å­—å¡”åˆ†å±‚æ¯æ¯ç›¸å…³ã€‚ä¸”åº”è¯¥å½¢æˆå…¬çŸ¥ï¼Œç“¦ç‰‡çš„ç”Ÿäº§ç«¯ä¸åº”ç”¨çš„å®¢æˆ·ç«¯éƒ½åº”è¯¥æ¸…æ™°çš„çŸ¥é“ã€æ•°æ®åˆ†å±‚åˆ†çº§æ§åˆ¶ç­–ç•¥ â†’ çŸ¢é‡é‡‘å­—å¡”åˆ†å±‚è§„åˆ™å®šä¹‰ã€‘ å…¶æ¬¡æ˜¯çŸ¢é‡æ•°æ®çš„å‘å¸ƒï¼Œæ­¤ä¸­åº”è¯¥å®Œæ•´çš„å®ç°çŸ¢é‡æ•°æ®åˆ†å±‚ï¼Œå³å½¢æˆçŸ¢é‡é‡‘å­—å¡”ç»“æ„ã€çŸ¢é‡é‡‘å­—å¡”æ¨¡å‹å®ç°ã€‘ å› çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å¸¦æ¥çš„é…å›¾åç½®ï¼Œæ•°æ®çš„ç¬¦å·åŒ–åœ¨æ­¤å¤„å®Œæˆã€åœ°å›¾ç¬¦å·åŒ–ã€‘ å…¶æ¬¡ï¼Œå¯ä»¥æƒ³ä¸€ä¸‹æ•°æ®åˆ†å±‚æ§åˆ¶æƒé™å½’å±åˆ°å®¢æˆ·ç«¯åä¼šå¸¦æ¥ä»€ä¹ˆæ ·çš„å½±å“ï¼š\nåœ¨å¤§æ•°æ®é‡æˆ–é«˜å¯†åº¦åŒºåŸŸçš„æƒ…å†µä¸‹ï¼Œå°æ¯”ä¾‹å°ºçº§åˆ«ç“¦ç‰‡å°ºå¯¸å¯èƒ½çˆ†ç‚¸ è®¡ç®—èµ„æºã€å­˜å‚¨èµ„æºï¼ˆç¼“å­˜ï¼‰å ç”¨å¢å¤š å¯¹å¸¦å®½è¦æ±‚é«˜ï¼Œç§»åŠ¨ç«¯çš„è¯æµé‡å—–å—–çš„è·‘ å®¢æˆ·ç«¯æ€§èƒ½ä¸‹é™ æ‰€ä»¥æˆ‘è®¤ä¸ºï¼Œæ•°æ®æ§åˆ¶èƒ½åŠ›åº”è¯¥å½’å±äºç“¦ç‰‡ç”Ÿäº§ç«¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ”¯æŒåˆ†å±‚æ§åˆ¶èƒ½åŠ›ï¼Œä½†å…¶å¯¹äºæ•°æ®çš„æ§åˆ¶åªèƒ½åœ¨å…¨å±€ç»Ÿä¸€çš„åˆ†ç±»ã€åˆ†å±‚ç­–ç•¥æ‰€æä¾›çš„èŒƒå›´å†…æ´»åŠ¨ã€‚ä¹Ÿå°±æ˜¯è¯´å®¢æˆ·ç«¯å¯ä»¥å®ç°çš„åˆ†å±‚èŒƒå›´æ˜¯å…¨å±€è§„å®šçš„èŒƒå›´çš„å­é›†ã€‚\nå¯¹äºç›®å‰åœ¨é…å›¾ä¸­è¿›è¡Œå…¨å±€æ•°æ®çš„åˆ†å±‚åˆ†çº§è¡Œä¸ºï¼Œæˆ‘è®¤ä¸ºæ˜¯çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å¸¦æ¥çš„é…å›¾åŠ¨ä½œåç½®äº§ç”Ÿçš„å½±å“ã€‚åŒæ—¶åœ¨GeoServer + Mapbox å®¢æˆ·ç«¯æ§åˆ¶æ•°æ®æ“ä½œçš„é•¿æœŸå½±å“ä¸‹ï¼Œç»™åæ¥äººä¸€ç§é”™è§‰ä¾¿æ˜¯æ•°æ®æ§åˆ¶ä¹Ÿå˜æ›´åˆ°å®¢æˆ·ç«¯æ§åˆ¶ã€‚\nè®ºGeoServerçš„æ­£ç¡®ä½¿ç”¨ï¼Ÿ æœ€è¿‘åœ¨è‡ªå·±å®ç°ä¸€ä¸ªçŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œç”±äºè‡ªå·±ç›®å‰åªä¼šå†™Javaï¼Œæ‰€ä»¥ä¸å¾—ä¸å¯¹GeoServerè¿›è¡Œå€Ÿé‰´ï¼Œæ‰€ä»¥å°±è¿›ä¸€æ­¥çš„ç ”ç©¶äº†GeoServerçš„æºç ã€‚\nGeoServerå¯ä»¥çœ‹ä½œæ˜¯GeoToolsï¼ŒGeoWebCacheä»¥åŠOGC API Implementçš„ç»“åˆä½“ã€‚å…¶ä¸­ï¼ŒGeoWebCacheæä¾›äº†é‡‘å­—å¡”ç»“æ„çš„å®šä¹‰å’Œç¼“å­˜èƒ½åŠ›ï¼›GeoToolsæä¾›äº†ç©ºé—´æ•°æ®ç›¸å…³çš„å®šä¹‰å’Œæ“ä½œã€‚åœ¨æœ¬æ¬¡ç ”ç©¶åï¼Œæˆ‘ç¡®å®šæˆ‘éœ€è¦å‘GeoServeré“æ­‰ã€‚åœ¨æ­¤å‰çš„æè¿°ä¸­ï¼Œæˆ‘è®¤ä¸ºGeoServeræ˜¯æ²¡æœ‰æä¾›æ•°æ®åˆ†å±‚å’Œç©ºé—´ç®€åŒ–çš„èƒ½åŠ›çš„ï¼Œä½†æ˜¯æˆ‘é”™äº†ã€‚\næˆ‘æ‹‰å–çš„æ˜¯GeoServerçš„2.22.xåˆ†æ”¯ï¼Œå› ä¸ºè¿™ä¸ªç‰ˆæœ¬ç”¨çš„æ¯”è¾ƒå¤šï¼Œç›¸å¯¹è€Œè¨€æ›´å…·æœ‰ä»£è¡¨æ€§ï¼Œæ‰€ä»¥æ²¡æœ‰é€‰æ‹©æœ€æ–°ç‰ˆæœ¬ã€‚\nç©ºé—´ç®€åŒ–èƒ½åŠ› ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨GeoServer vector tileçš„ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œå·²ç»é›†æˆäº†SimplifyåŠŸèƒ½ã€‚\nè¿˜æœ‰ä¸€ä¸ªæƒ…å†µï¼Œå…¶å®GeoServer Vector Tile Pluginé‡‡ç”¨çš„çŸ¢é‡ç“¦ç‰‡ç¼–ç å™¨ï¼ˆjava-vector-tileï¼‰ä¸­å…¶å®ä¹Ÿæä¾›äº†Simplifyçš„åŠŸèƒ½ï¼Œåªä¸è¿‡é»˜è®¤æ˜¯å…³é—­çš„ã€‚\næ•°æ®åˆ†å±‚ï¼ˆå±æ€§åˆ†çº§ï¼‰ GeoServerçš„vector tileå®ç°ä¸­ï¼Œå±…ç„¶æ˜¯å°è¯•ä»Styleï¼ˆSLDï¼‰ä¸­è·å–åˆ°Filterçš„ä¿¡æ¯ï¼Œç”¨ä»¥å‡å°‘æ•°æ®çš„æ£€ç´¢ï¼ˆæ•°æ®åº“ä¸­çš„Filteræ¯”JavaåŸºäºå†…å­˜çš„Filteræ›´é«˜æ•ˆï¼‰ï¼ŒåŒæ—¶è¿˜æä¾›äº†ä¸€ä¸ªå°†Mapbox styleè½¬æ¢ä¸ºSLDçš„æ‹“å±•æ¨¡å—ã€‚\nçœ‹åˆ°è¿™é‡Œçš„æˆ‘å¾ˆæ¿€åŠ¨ï¼Œæ„Ÿè§‰æ‰¾åˆ°äº†çŸ¥å·±ä¸€èˆ¬ï¼Œå“ˆå“ˆå“ˆã€‚\nåœ¨æ˜ç™½çœŸç›¸ä¹‹åçš„æˆ‘ï¼Œåªèƒ½æ˜¯æ„Ÿå¹GeoServerçš„å†å²åŒ…è¢±å¤ªé‡äº†ï¼Œä½†åº”è¯¥è¢«æ•¬ä½©ã€‚\nè€Œæ­¤æ—¶å†æ¬¡å›å¤´çœ‹æˆ‘ä¹‹å‰æå‡ºè§£æé…å›¾æ–‡ä»¶çš„æƒ³æ³•ï¼Œå‘ç°è¿™ç§åšæ³•ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ã€‚\nçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å‡ºç°ï¼Œå®ç°äº†ä¸€å¥—ç“¦ç‰‡æ•°æ®å¯ä»¥æœ‰Nç§é…å›¾æ–¹æ¡ˆ çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯å®Œç¾çš„åˆ†ç¦»äº†æ•°æ®ä¸æ¸²æŸ“ï¼Œè¾¹ç•Œæ¸…æ™° æ‰€ä»¥ï¼ŒåŸºäºé…å›¾å‰¥ç¦»å±æ€§åˆ†çº§çš„æ–¹å¼ä¸å°±åˆå°†æ¸²æŸ“ä¸æ•°æ®è€¦åˆèµ·æ¥ï¼Œé…å›¾ä¹Ÿå°±ä¼šå’Œç¼“å­˜ç»‘å®šäº†ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§é…å›¾æ–¹æ¡ˆä¸€å¥—ç“¦ç‰‡æ•°æ®äº†ï¼ˆè‹¥ä¸€æ—¦æ¶‰åŠåˆ°åˆ†çº§éƒ¨åˆ†çš„å˜åŒ–ï¼‰ï¼Œè‡ªç„¶æ˜¯æœ‰é—®é¢˜çš„ã€‚\nç»“è®º ç»¼ä¸Šæ‰€è¿°ï¼Œç§ä»¥ä¸ºï¼š\nåœ¨çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ä¸‹ï¼Œæ•°æ®å½“æœ‰æ•°æ®æœ¬èº«çš„åˆ†å±‚è§„åˆ™ï¼Œä¸åº”è¯¥ä¾èµ–äºé…å›¾ï¼Œä¹Ÿä¸åº”è¯¥ç”±é…å›¾æ¥å®šä¹‰ã€‚\nåˆ†å±‚æ§åˆ¶å½“å±äºæ•°æ®æ§åˆ¶æƒé™ï¼Œåº”è¯¥å½’å±äºç“¦ç‰‡çš„ç”Ÿäº§ç«¯æ§åˆ¶ åœ¨çŸ¢é‡ç“¦ç‰‡æ—¶ä»£ï¼Œé…å›¾å°±æ˜¯åœ°å›¾ç¬¦å·åŒ–çš„è¿‡ç¨‹ï¼Œå¯¹åº”çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ä¸‹ï¼Œæ¸²æŸ“åç§»åˆ°å®¢æˆ·ç«¯çš„éƒ¨åˆ† å…¨å±€åˆ†å±‚åˆ†çº§ç­–ç•¥åº”è¯¥æ˜¯é¦–å…ˆå®šä¹‰çš„ï¼Œä¸”åº”è¯¥å½¢æˆå…¬çŸ¥çš„å½¢æ€ã€‚æœåŠ¡ç«¯çš„æ•°æ®æ§åˆ¶åº”å½“ä¸¥æ ¼éµå¾ªè¯¥ç­–ç•¥ï¼Œå®¢æˆ·ç«¯å¯æ§åˆ†å±‚èŒƒå›´æ˜¯è¯¥ç­–ç•¥çš„å­é›† å‚è€ƒ GeoServer Branch 2.","title":"å…³äºçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æ”¯æŒå‰ç«¯æ¸²æŸ“å¸¦æ¥çš„æ€è€ƒ"},{"content":"å‰è¨€ æœ¬æ–‡80%å†…å®¹èŠ‚é€‰è‡ªï¼šã€ŠWebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ã€‹ï¼Œååœ¨å…¶åŸºç¡€ä¸Šæ·»åŠ äº†éƒ¨åˆ†å†…å®¹ã€‚\næ•°æ®åˆ‡ç‰‡æ˜¯è§£å†³å¤§è§„æ¨¡å¤§ä½“ç§¯åœ°ç†æ•°æ®åœ¨Webå‰ç«¯è½»é‡åŒ–ä¼ è¾“å’Œæ˜¾ç¤ºçš„å…³é”®æŠ€æœ¯ï¼Œæ˜¯æ¯ä¸€ä¸ªå¼€å‘è€…å‡ ä¹æ¯å¤©éƒ½åœ¨ä½¿ç”¨çš„æŠ€æœ¯ï¼Œæœ‰æ—¶å€™å°†æœåŠ¡ç«¯åº•å›¾åˆ‡æˆxyzå›¾ç‰‡ï¼Œæœ‰æ—¶å€™å°†å¤§å½±åƒæ•°æ®åˆ‡æˆxyzå›¾ç‰‡ï¼Œä¹Ÿæœ‰æ—¶å€™å°†çŸ¢é‡æ•°æ®åˆ‡æˆxyzçš„çŸ¢é‡åˆ‡ç‰‡ã€‚\næ•°æ®åˆ‡ç‰‡èµ·æº\u0026ndash;å›¾åƒåˆ‡ç‰‡æ—¶ä»£ï¼ˆWMS â†’ WMTSï¼ŒæœåŠ¡ç«¯æ¸²æŸ“+é¢„å¤„ç†ï¼‰ Webä¸Šå¤æ—¶ä»£ï¼Œäººä»¬æµè§ˆåœ¨çº¿åœ°å›¾ï¼Œä¸€èˆ¬æ˜¯æœåŠ¡å™¨ç«¯å°†é¡µé¢åœ°å›¾è¦æ˜¾ç¤ºçš„åœ°ç†èŒƒå›´å†…çš„åœ°ç†æ•°æ®éƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶ååœ¨æœåŠ¡ç«¯æŒ‰ç…§ä¸“é¢˜åœ°å›¾çš„é…ç½®æ ·å¼ï¼Œæ¸²æŸ“æˆåœ°å›¾å›¾ç‰‡ï¼Œå†è¿”å›å®¢æˆ·ç«¯æµè§ˆï¼Œè¿™ä¸ªæ—¶ä»£è¯ç”Ÿçš„OGCæ ‡å‡†å°±æ˜¯WMSï¼ˆWeb Map Serviceï¼‰æœåŠ¡ï¼Œè¯¥æœåŠ¡ä¸€ç›´æ²¿ç”¨è‡³ä»Šã€‚\nç±»ä¼¼WMSè¿™ç§æœåŠ¡å­˜åœ¨å¾ˆå¤šè‡´å‘½çš„ç¼ºç‚¹ï¼šç”±äºåœ°ç†èŒƒå›´çš„ä¸å¯æ§ï¼Œè·å–èŒƒå›´å†…çš„æ•°æ®ä¸å¯æ§ï¼Œæ•°æ®æœ‰æ—¶å€™ä¼šå¾ˆå¤§ï¼Œæ•°æ®é€šå¸¸åœ¨æ•°æ®åº“ä¸­ï¼ŒIOå’Œç½‘ç»œä¼ è¾“å°±è€—æ—¶å¾ˆä¸¥é‡ï¼›æœåŠ¡ç«¯è·å–æ•°æ®åä¼šè¿›è¡Œæ•°æ®æ¸²æŸ“æˆåœ°å›¾å›¾ç‰‡ï¼Œå ç”¨å¤§é‡CPUèµ„æºï¼›å…‹æœä¸€ç³»åˆ—çš„å›°éš¾ç»ˆäºæˆå›¾ä¼ è¾“ç»™å‰ç«¯æµè§ˆã€‚å¯ä»¥æƒ³è±¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å¦‚æ­¤è‰°éš¾ï¼Œç”¨æˆ·å¯èƒ½ç­‰çš„èŠ±å„¿éƒ½å¼€äº†ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªç—›ç‚¹ï¼Œè°·æ­Œåœ°å›¾å¼€åˆ›æ€§æå‡ºäº†åŸºäºWebå¢¨å¡æ‰˜æŠ•å½±ï¼Œé¢„å…ˆåœ¨æœåŠ¡ç«¯å…¨é‡æ¸²æŸ“ï¼Œç„¶åæŒ‰ç…§åœ°å›¾ä¸åŒçš„æ˜¾ç¤ºçº§åˆ«ï¼ˆé‡‘å­—å¡”åŸç†ï¼‰ï¼Œåˆ‡æˆäº†xyzçš„å›¾ç‰‡ã€‚\nè¯¥æŠ€æœ¯æˆä¸ºWeb2.0æ—¶ä»£ä½¿ç”¨æœ€å¹¿æ³›çš„æŠ€æœ¯ï¼Œæˆä¸ºWebGISæ ‡å‡†ï¼Œè¯ç”Ÿäº†ä¸€ç³»åˆ—å¦‚åŸºäºå·¥ä¸šæ ‡å‡†çš„TMSæœåŠ¡ï¼ŒåŸºäºOGCè§„èŒƒçš„WMTSæœåŠ¡ã€‚å¾ˆå¿«ï¼Œç™¾åº¦åœ°å›¾ï¼Œé«˜å¾·åœ°å›¾ã€å¤©åœ°å›¾éƒ½ä½¿ç”¨è¯¥æŠ€æœ¯åŸç†å»ºè®¾äº†è‡ªå·±çš„åˆ‡ç‰‡åœ°å›¾æœåŠ¡ã€‚å¹¿å¤§GISä»ä¸šè€…ä¹Ÿå¼€å§‹äº†â€œé¡¹ç›®ä¸€å¯åŠ¨ï¼Œå…ˆæŠŠåº•å›¾åˆ‡â€çš„å¥—è·¯ã€‚\nåŸºäºè¯¥æŠ€æœ¯åŸç†ï¼Œå¯¹å¤§çš„å½±åƒæ•°æ®å¦‚å‡ åGçš„GeoTiffæ•°æ®ä¹Ÿè¿›è¡Œäº†åˆ‡ç‰‡ï¼Œå½¢æˆå½±åƒåº•å›¾ç»™å®¢æˆ·ç«¯ä½¿ç”¨ã€‚\nè¿™ä¸ªæ—¶æœŸçš„å¼€æºGISä¸»è¦æŠ€æœ¯æ˜¯åŸºäºGeoServerçš„WMSã€WFSã€TMSã€WMTSæœåŠ¡ã€‚\næ ¸å¿ƒæŠ€æœ¯ï¼šWebå¢¨å¡æ‰˜æŠ•å½±ã€æ …æ ¼é‡‘å­—å¡”\næ•°æ®åˆ‡ç‰‡å‘å±•\u0026ndash;çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ï¼ˆWMTSï¼Œå®¢æˆ·ç«¯æ¸²æŸ“+é¢„å¤„ç†ï¼‰ è™½ç„¶åŸºäºXYZçš„å›¾ç‰‡åˆ‡ç‰‡æŠ€æœ¯å¾ˆæˆåŠŸï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸å°‘é—®é¢˜ï¼š\nå…¨å›¾é¢„åˆ‡è€—æ—¶é•¿ï¼šé€šå¸¸åˆ‡å›¾zoomçº§åˆ«ä»0åˆ°20ï¼Œé€šè¿‡é‡‘å­—å¡”åŸç†å›¾å¯çŸ¥ï¼Œä¸Šä¸€çº§åˆ«çš„ä¸€å¼ å›¾ç‰‡ï¼Œä¸‹ä¸€çº§åˆ«ä¼šè£‚å˜æˆ4å¼ ï¼Œçº§åˆ«è¶Šå¤§ï¼Œå›¾ç‰‡è¶Šå¤šï¼ŒåŒæ—¶åœ°ç†èŒƒå›´è¶Šå¤§ï¼Œå›¾ç‰‡ä¹Ÿè¶Šå¤šï¼Œå›¾ç‰‡å¤šäº†ï¼Œåˆ‡å›¾è€—æ—¶å°±å¾ˆé•¿ï¼Œèµ„æºæ— è®ºæ˜¯åŸºç¡€åº•å›¾åˆ‡ç‰‡è¿˜æ˜¯å½±åƒåº•å›¾åˆ‡ç‰‡éƒ½è¦è€—æ—¶æ¼«é•¿ã€‚ èµ„æºè¦æ±‚é«˜ï¼šéœ€è¦åºå¤§çš„æœåŠ¡ç«¯æ¸²æŸ“å’Œåˆ‡å›¾çš„è®¡ç®—èµ„æºï¼Œæ»¡è¶³åˆ†å¸ƒå¼æ¸²æŸ“ã€åˆ‡å›¾ã€å­˜å‚¨éœ€æ±‚ã€‚ å­˜å‚¨å†—ä½™ï¼šåŸå§‹çŸ¢é‡å’Œæ …æ ¼æ•°æ®ï¼ŒåŒæ—¶å†—ä½™å­˜å‚¨äº†æ•°æ®åˆ‡ç‰‡ï¼Œå­˜å‚¨å‹åŠ›å¤§ï¼Œæ•°æ®åˆ‡ç‰‡è½¬å‚¨IOå‹åŠ›å¤§ã€‚ArcGISä¸ºäº†æå‡è½¬å‚¨æ€§èƒ½ï¼Œå¼€åˆ›äº†ç¦»æ•£æ€§åˆ‡ç‰‡å’Œç´§å‡‘å‹åˆ‡ç‰‡ä¸¤ä¸ªæ ¼å¼ï¼Œç´§å‡‘å‹åˆ‡ç‰‡åœ¨è½¬å‚¨æ—¶æ€§èƒ½è¾ƒé«˜ã€‚ æ•°æ®æ›´æ–°ä¸åŠæ—¶ï¼šç”±äºåˆ‡å›¾è€—æ—¶é•¿ï¼Œé€šå¸¸å¾ˆå°‘ä¼šå®šæœŸæ›´æ–°åœ°å›¾åˆ‡ç‰‡æ•°æ®ï¼Œå¯¼è‡´æ•°æ®æ˜¾ç¤ºè½åäºå®é™…ç”Ÿæ´»ç°çŠ¶ï¼Œä¸èƒ½å¾ˆå¥½çš„æœåŠ¡ç”¨æˆ·ã€‚ åœ°å›¾åƒç¯‡ä¸€å¾‹ï¼šè¿™ä¸ªæ—¶æœŸé¡¹ç›®æœ€å¸¸é‡‡ç”¨çš„æ˜¯å¤©åœ°å›¾åœ°å›¾æœåŠ¡ï¼Œä¸ç®¡å•¥é¡¹ç›®ï¼Œä¸ç®¡ä»€ä¹ˆåœ°åŒºï¼Œä¼¼ä¹åœ°å›¾éƒ½é•¿ä¸€ä¸ªæ ·å­ã€‚ç”²æ–¹å¯èƒ½å®¡ç¾ç–²æƒ«äº†ï¼Œä»–ä»¬å¸Œæœ›åº•å›¾èƒ½æ˜¯å®šåˆ¶åŒ–çš„ï¼Œèƒ½ä¸èƒ½æš—é»‘ä¸€ç‚¹ï¼Ÿç§‘å¹»ä¸€ç‚¹ï¼Ÿ æ—¢ç„¶å­˜åœ¨é—®é¢˜ï¼Œè‡ªç„¶æœ‰äººæƒ³è§£å†³é—®é¢˜ï¼Œä»15å¹´å·¦å³ï¼ŒMapboxå—å¤Ÿäº†ä¼ ç»Ÿåœ°å›¾æ˜¾ç¤ºé£æ ¼äº†ï¼Œå®ƒæå‡ºäº†MVTçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯ä¸€ç»æ¨å‡ºå°±å¤§å—æ¬¢è¿ï¼Œå¼€å¯äº†WebGISåº•å›¾å®šåˆ¶åŒ–æ—¶ä»£ã€‚\nå¾ˆæ˜¾ç„¶ï¼ŒçŸ¢é‡åˆ‡ç‰‡å’Œå›¾åƒåˆ‡ç‰‡æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼šæ¸²æŸ“ä»æœåŠ¡ç«¯è¿ç§»åˆ°å®¢æˆ·ç«¯äº†ï¼Œæ¢å¥è¯è¯´ï¼ŒæœåŠ¡ç«¯å‡è´Ÿäº†ï¼Œå¸¦æ¥çš„å¥½å¤„ä¹Ÿæ˜¯ä¸è¨€è€Œå–»ï¼š\nèµ„æºè¦æ±‚é™ä½ï¼šæœåŠ¡å™¨èµ„æºè¦æ±‚å¯è§æ€§é™ä½ï¼Œæ¸²æŸ“å¾ˆè€—èµ„æºçš„ã€‚ æ•°æ®æ›´æ–°æ¯”è¾ƒåŠæ—¶ï¼šå¦‚æœæ•°æ®æ›´æ–°ï¼Œç®€å•æ›´æ–°ä¸‹å±€éƒ¨å˜æ›´åœ°åŒºçš„æ•°æ®çš„çŸ¢é‡åˆ‡ç‰‡å³å¯ï¼Œç”±äºä¸ç”¨å…¨å›¾æ¸²æŸ“ï¼Œè€—æ—¶æå¤§å‡å°‘ï¼Œæ•°æ®çš„æœ‰æ•ˆæ€§æå¤§æé«˜ã€‚ å­˜å‚¨å†—ä½™é™ä½ï¼šé‡‡ç”¨MbTilesçš„è®¾è®¡è§„èŒƒï¼Œå°†æ•°æ®å’Œåºå·ç´¢å¼•å‰¥ç¦»ï¼Œå¤ç”¨é‡å¤åŒºåŸŸæ•°æ®ï¼Œæå¤§é™ä½åˆ‡ç‰‡æ•°æ®é‡ã€‚ä½†æ˜¯æ•°æ®å†—ä½™è¿˜æ˜¯å­˜åœ¨çš„ã€‚ åœ°å›¾ä¸å†åƒç¯‡ä¸€å¾‹ï¼šæ¸²æŸ“æ˜¯å®¢æˆ·ç«¯çš„ï¼Œé‚£ä¹ˆç”²æ–¹å„ç§ä¼˜ç§€çš„åˆ›æ„éƒ½èƒ½å¾—åˆ°é‡Šæ”¾äº†ï¼Œé…ç½®å¤§å±çš„æ„Ÿè§‰å·²ç»æ˜¯å¾ˆå®¹æ˜“çš„äº‹æƒ…äº†ã€‚å„è¡Œå„ä¸šçš„åœ°å›¾äº”å½©æ–‘æ–“å„æœ‰åƒç§‹ï¼Œåœ°å›¾è®¾è®¡è€…ä»¬çš„æ˜¥å¤©æ¥äº†ã€‚é«˜å¾·ã€ç™¾åº¦è·Ÿçš„å¾ˆå¿«ï¼Œç›®å‰ä¹Ÿéƒ½æä¾›çŸ¢é‡åˆ‡ç‰‡åº•å›¾å®šåˆ¶åŒ–æœåŠ¡äº† è¿™ä¸ªæ—¶æœŸçš„å¼€æºGISä¸»è¦æŠ€æœ¯æ˜¯åŸºäºGeoServerçš„çŸ¢é‡åˆ‡ç‰‡æœåŠ¡ï¼ŒåŸºäºMapboxçš„åº•å›¾åˆ‡å›¾å·¥å…·tippecanoeç­‰ã€‚è¿™ä¸ªæ—¶æœŸï¼Œ3D GISè“¬å‹ƒå‘å±•ï¼Œè¯ç”Ÿäº†3DTilesã€I3Sç­‰3Dåˆ‡ç‰‡ogcè§„èŒƒï¼Œå¹¶å¤§é‡åœ¨å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚\nçŸ¢é‡åˆ‡ç‰‡è§£å†³äº†ä¸å°‘é—®é¢˜ï¼Œä½†ä»é—ç•™é—®é¢˜æ˜¯ï¼šå…¨å›¾é¢„åˆ‡è€—æ—¶é•¿ï¼Œåˆ‡ç‰‡æ•°æ®å†—ä½™å ç”¨å­˜å‚¨ç©ºé—´ã€‚è¿™ä¸ªé—®é¢˜åŒæ ·ä¹Ÿæ˜¯æ …æ ¼åˆ‡ç‰‡ã€3Dåˆ‡ç‰‡å…±åŒçš„é—®é¢˜ã€‚äºæ˜¯æœ‰äººé—®ï¼Œèƒ½ä¸èƒ½æ•°æ®ä¸åˆ‡ç‰‡ï¼Ÿä¹Ÿå°±ä¸å­˜åœ¨é¢„åˆ‡è€—æ—¶é•¿ï¼Œåˆ‡ç‰‡æ•°æ®å†—ä½™çš„é—®é¢˜äº†ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚\næ ¸å¿ƒæŠ€æœ¯ï¼šçŸ¢é‡é‡‘å­—å¡”ï¼ŒMVT\næ­£æ‰€è°“å°¾å¤§ä¸æ‰ï¼Œè™½ç„¶å·²ç»å‡ºç°äº†çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ï¼Œä½†æ˜¯æ•´ä½“çš„å·¥è‰ºæµç¨‹è¿˜æ˜¯åœ¨é¢„åˆ‡è·¯çº¿ã€‚è¿™å¯èƒ½å’ŒçŸ¢é‡åˆ‡ç‰‡è§£å†³çš„é—®é¢˜ç›¸å…³ï¼Œå› ä¸ºçŸ¢é‡åˆ‡ç‰‡è§£å†³çš„æ˜¯æ¸²æŸ“çš„é—®é¢˜ï¼Œå¯ä»¥æ›´è‡ªç”±çš„è¿›è¡Œæ¸²æŸ“äº†ï¼Œè€Œä¸”åªéœ€è¦æä¾›ä¸€ä»½åˆ‡ç‰‡æ•°æ®å³å¯ã€‚\næ•°æ®åˆ‡ç‰‡æ–¹å‘\u0026ndash;åŠ¨æ€åˆ‡ç‰‡æ—¶ä»£ï¼ˆWMTSï¼Œå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰ é‚£ä¹ˆä¸Šä¸€ä¸ªé˜¶æ®µé—ç•™çš„é—®é¢˜è¿˜æœ‰ä»€ä¹ˆï¼šé¢„å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ä¸ç®¡æ€ä¹ˆæ ·ï¼Œæˆ‘å…ˆåˆ‡æ•°æ®\nç¬”è€…ï¼ˆåŸæ–‡ä½œè€…ï¼šé¥æƒ³å…¬ç‘¾å½“å¹´ï¼‰æ›¾ç»å¤§é‡ä½¿ç”¨PostGIS+å¹¶è¡Œè®¡ç®—+åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å®ç°åŠ¨æ€ä¸šåŠ¡æ•°æ®çš„å¿«é€Ÿå‰ç«¯çŸ¢é‡å‘ˆç°ï¼ŒPostGISæ˜¯ç›®å‰å¼€æºæ¶æ„é‡Œå”¯ä¸€èƒ½æ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡çš„æ•°æ®æŠ€æœ¯ã€‚\nåŠ¨æ€åˆ‡ç‰‡æŠ€æœ¯ä¸å†é¢„å…ˆåˆ‡å›¾ï¼Œä¹Ÿä¸ä¼šæœ‰å¤§é‡åˆ‡ç‰‡çš„æ–‡ä»¶å­˜å‚¨ï¼Œå°†åˆ‡ç‰‡æŠ€æœ¯è¯ç”Ÿä»¥æ¥æ‰€é—ç•™çš„é—®é¢˜éƒ½ä¸€æ¬¡æ¸…ç©ºã€‚ç”±äºé€šå¸¸æ•°æ®é‡å¾ˆå¤§ï¼ŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯åŸºæœ¬ä¸Šæ•°æ®ä¸å‡ºåº“ï¼Œè€Œç”±æ•°æ®åº“æ±‡æ€»ç»„ç»‡æ•°æ®å¹¶ç›´æ¥ç”Ÿæˆåˆ‡ç‰‡ç»“æœå‡ºå»ï¼Œåå°å‡ ä¹å•¥ä¹Ÿä¸åšï¼Œæ—¶ç©ºæ•°æ®åº“çš„åœ°ä½è¶Šæ¥è¶Šé‡è¦ã€‚\nè¿™æ˜¯ä¸€ä¸ªå´­æ–°çš„æ—¶ä»£ï¼Œé¢„ç¤ºç€æ•°æ®ä¸åˆ‡ç‰‡æ—¶ä»£çš„æ¥ä¸´ï¼Œæ¯•ç«ŸçŸ¢é‡å’Œæ …æ ¼ä¸åˆ‡ç‰‡æŠ€æœ¯ç†è®ºä¸Šè¿˜æ˜¯æ¯”è¾ƒæˆç†Ÿçš„ï¼Œæœªæ¥3DTilesè¿™äº›3Dåˆ‡ç‰‡ç†è®ºä¹Ÿä¼šé€æ¸æˆç†Ÿçš„ã€‚\næ ¸å¿ƒæŠ€æœ¯ï¼šåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡+çŸ¢é‡é‡‘å­—å¡”+MVT\nåœ¨è¿™é‡Œæˆ‘æƒ³è¦è¡¥å……ä¸€ä¸‹ä¸Šé¢çš„ç¤ºæ„å›¾ï¼Œè¿™é‡Œä¸æ˜¯è¯´åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯åªèƒ½åº”ç”¨åœ¨æ•°æ®åº“ä¸­ï¼Œå‰æ–‡ä¸­ä¹Ÿæåˆ°å½“å‰å¼€æºæ¶æ„ä¸­PostGISæ˜¯å”¯ä¸€èƒ½æ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡çš„æ•°æ®æŠ€æœ¯ã€‚è¿™é‡Œæ˜¯åŸºäºä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ä¸PostGISçš„åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯çš„å¯¹æ¯”ï¼Œæ›´å¤šçš„æ˜¯æƒ³è¡¨è¾¾æµç¨‹çš„å˜åŒ–ï¼ˆé¢„åˆ‡ â†’ åŠ¨æ€ï¼Œä»¥åŠåˆ‡ç‰‡äº§ç”Ÿçš„ä½ç½®ï¼‰ï¼Œä»¥åŠæµç¨‹å˜åŒ–å¸¦æ¥çš„æ€§èƒ½æå‡å’Œç›¸å…³å½±å“ï¼›è¿˜æœ‰å°±æ˜¯åŸæ–‡ä½œè€…è®¤ä¸ºçš„åç»­çš„å‘å±•æ–¹å‘ï¼ŒBased on spatial databaseã€‚\nå…³äºåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å¯ä»¥è¯´æ˜¯ä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡çš„åŠ¨æ€åº”ç”¨ï¼ˆæ›´å¹¿ä¹‰çš„å¯ä»¥è®¤ä¸ºï¼šæ˜¯å¯ä»¥æŒ‰éœ€åŠ¨æ€ç”Ÿæˆçš„ï¼Œå…·å¤‡å¤šå±‚æ¬¡æ¨¡å‹ï¼Œä¸”æ¯ä¸ªå±‚æ¬¡åŒ…å«é€‚å½“é€‰å–åŠç®€åŒ–çš„æ•°æ®çš„åˆ‡ç‰‡æŠ€æœ¯ï¼‰ã€‚å¼ºè°ƒä¸å†é¢„åˆ‡ï¼Œè€Œæ˜¯æŒ‰éœ€ç”Ÿæˆï¼Œä¸”åº”è¯¥åŒæ—¶æ»¡è¶³å¯ä»¥å¿«é€Ÿæ˜¾ç¤ºçš„è¦æ±‚ã€‚\næŒ‰éœ€åŠ¨æ€ç”Ÿæˆï¼ˆä¸æ•°æ®æºæ˜¯é“¾æ¥ç€çš„æˆ–æ˜¯å¯é“¾æ¥çš„ï¼Œå³å¯è¾¾æˆéšæ—¶å¯è®¿é—®ï¼‰ï¼Œä¸åšé¢„åˆ‡ å¤šå±‚æ¬¡ç»“æ„ï¼ˆå¦‚ï¼šçŸ¢é‡é‡‘å­—å¡”ï¼‰ æ•°æ®é€‰å–ä¸ç®€åŒ– MVTæ”¯æŒ ä»å‘å±•è¿›ç¨‹ä¸Šé¢çœ‹ï¼ŒæŠ€æœ¯çš„å‡çº§æ˜¯ä¸ºäº†è§£å†³æ­¤å‰å­˜åœ¨çš„ç—›ç‚¹é—®é¢˜ã€‚åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯æ˜¯ä¸ºäº†è§£å†³é¢„åˆ‡è€—æ—¶ï¼Œä¸”ä¼šäº§ç”Ÿå¤§é‡çš„ç“¦ç‰‡å­˜å‚¨ï¼ˆé¢„åˆ‡ï¼‰ï¼Œæ•°æ®è¶Šå¤§ï¼Œäº§ç”Ÿçš„ç“¦ç‰‡è¶Šå¤šã€‚\nä»å®é™…çš„åº”ç”¨ä¸Šçœ‹ï¼Œæ­¤å‰çš„çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯æˆ‘æ›´æ„¿æ„å°†ä¹‹ç§°ä¸ºä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ï¼Œç”¨ä»¥ä¸çŸ¢é‡åˆ‡ç‰‡åšä¸€å®šçš„åŒºåˆ†ã€‚ä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯è¿˜æ˜¯èµ°çš„é¢„å¤„ç†çš„è·¯å­ï¼Œäº§ç”Ÿçš„æ˜¯é™æ€çŸ¢é‡ç“¦ç‰‡æ•°æ®ï¼Œå³åœ¨æµç¨‹ä¸Šæ˜¯æ— æ³•åšåˆ°å¿«é€Ÿæ›´æ–°çš„ã€‚ä¸ä¹‹å¯¹åº”çš„ä¾¿æ˜¯åŠ¨æ€å®æ—¶ç”Ÿäº§çš„è·¯çº¿ï¼Œå¯ç§°ä¸ºåŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯ã€‚ç§ä»¥ä¸ºï¼Œä¸¤è€…æ›´å¤§çš„åŒºåˆ«åœ¨äºçŸ¢é‡ç“¦ç‰‡ç”Ÿäº§çš„æ€è·¯ï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦éœ€è¦é¢„åˆ‡ã€‚\næ‰€ä»¥ï¼ŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å¯ä»¥æœ‰å„ç§å„æ ·çš„å®ç°ï¼Œè€ŒPostGISä¸­çš„åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯ä¾¿æ˜¯å…¶ä¸­çš„ä¸€ç§ã€‚ä¸”åˆ°ç›®å‰ï¼ŒGeoServeråŒæ ·å®ç°äº†åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯ï¼ˆåªä¸è¿‡å…¶å†å²åŒ…è¢±è¿‡é‡ ğŸ«¡ï¼‰ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒåŸºäºæ•°æ®åº“çš„åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ï¼šç¼©çŸ­äº†åˆ‡ç‰‡çš„ä¼ å¯¼è·¯å¾„ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„æ•°æ®ä¸å‡ºåº“ï¼Œå‡ºåº“å³ä¸ºåˆ‡ç‰‡ï¼‰ã€‚\nå‚è€ƒ WebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ PostGISåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡ï¼ˆåŸç†+å®ç°ï¼‰ ","permalink":"https://fuyi-atlas.github.io/posts/gis/tiling-technology-development/","summary":"å‰è¨€ æœ¬æ–‡80%å†…å®¹èŠ‚é€‰è‡ªï¼šã€ŠWebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ã€‹ï¼Œååœ¨å…¶åŸºç¡€ä¸Šæ·»åŠ äº†éƒ¨åˆ†å†…å®¹ã€‚\næ•°æ®åˆ‡ç‰‡æ˜¯è§£å†³å¤§è§„æ¨¡å¤§ä½“ç§¯åœ°ç†æ•°æ®åœ¨Webå‰ç«¯è½»é‡åŒ–ä¼ è¾“å’Œæ˜¾ç¤ºçš„å…³é”®æŠ€æœ¯ï¼Œæ˜¯æ¯ä¸€ä¸ªå¼€å‘è€…å‡ ä¹æ¯å¤©éƒ½åœ¨ä½¿ç”¨çš„æŠ€æœ¯ï¼Œæœ‰æ—¶å€™å°†æœåŠ¡ç«¯åº•å›¾åˆ‡æˆxyzå›¾ç‰‡ï¼Œæœ‰æ—¶å€™å°†å¤§å½±åƒæ•°æ®åˆ‡æˆxyzå›¾ç‰‡ï¼Œä¹Ÿæœ‰æ—¶å€™å°†çŸ¢é‡æ•°æ®åˆ‡æˆxyzçš„çŸ¢é‡åˆ‡ç‰‡ã€‚\næ•°æ®åˆ‡ç‰‡èµ·æº\u0026ndash;å›¾åƒåˆ‡ç‰‡æ—¶ä»£ï¼ˆWMS â†’ WMTSï¼ŒæœåŠ¡ç«¯æ¸²æŸ“+é¢„å¤„ç†ï¼‰ Webä¸Šå¤æ—¶ä»£ï¼Œäººä»¬æµè§ˆåœ¨çº¿åœ°å›¾ï¼Œä¸€èˆ¬æ˜¯æœåŠ¡å™¨ç«¯å°†é¡µé¢åœ°å›¾è¦æ˜¾ç¤ºçš„åœ°ç†èŒƒå›´å†…çš„åœ°ç†æ•°æ®éƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶ååœ¨æœåŠ¡ç«¯æŒ‰ç…§ä¸“é¢˜åœ°å›¾çš„é…ç½®æ ·å¼ï¼Œæ¸²æŸ“æˆåœ°å›¾å›¾ç‰‡ï¼Œå†è¿”å›å®¢æˆ·ç«¯æµè§ˆï¼Œè¿™ä¸ªæ—¶ä»£è¯ç”Ÿçš„OGCæ ‡å‡†å°±æ˜¯WMSï¼ˆWeb Map Serviceï¼‰æœåŠ¡ï¼Œè¯¥æœåŠ¡ä¸€ç›´æ²¿ç”¨è‡³ä»Šã€‚\nç±»ä¼¼WMSè¿™ç§æœåŠ¡å­˜åœ¨å¾ˆå¤šè‡´å‘½çš„ç¼ºç‚¹ï¼šç”±äºåœ°ç†èŒƒå›´çš„ä¸å¯æ§ï¼Œè·å–èŒƒå›´å†…çš„æ•°æ®ä¸å¯æ§ï¼Œæ•°æ®æœ‰æ—¶å€™ä¼šå¾ˆå¤§ï¼Œæ•°æ®é€šå¸¸åœ¨æ•°æ®åº“ä¸­ï¼ŒIOå’Œç½‘ç»œä¼ è¾“å°±è€—æ—¶å¾ˆä¸¥é‡ï¼›æœåŠ¡ç«¯è·å–æ•°æ®åä¼šè¿›è¡Œæ•°æ®æ¸²æŸ“æˆåœ°å›¾å›¾ç‰‡ï¼Œå ç”¨å¤§é‡CPUèµ„æºï¼›å…‹æœä¸€ç³»åˆ—çš„å›°éš¾ç»ˆäºæˆå›¾ä¼ è¾“ç»™å‰ç«¯æµè§ˆã€‚å¯ä»¥æƒ³è±¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å¦‚æ­¤è‰°éš¾ï¼Œç”¨æˆ·å¯èƒ½ç­‰çš„èŠ±å„¿éƒ½å¼€äº†ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªç—›ç‚¹ï¼Œè°·æ­Œåœ°å›¾å¼€åˆ›æ€§æå‡ºäº†åŸºäºWebå¢¨å¡æ‰˜æŠ•å½±ï¼Œé¢„å…ˆåœ¨æœåŠ¡ç«¯å…¨é‡æ¸²æŸ“ï¼Œç„¶åæŒ‰ç…§åœ°å›¾ä¸åŒçš„æ˜¾ç¤ºçº§åˆ«ï¼ˆé‡‘å­—å¡”åŸç†ï¼‰ï¼Œåˆ‡æˆäº†xyzçš„å›¾ç‰‡ã€‚\nè¯¥æŠ€æœ¯æˆä¸ºWeb2.0æ—¶ä»£ä½¿ç”¨æœ€å¹¿æ³›çš„æŠ€æœ¯ï¼Œæˆä¸ºWebGISæ ‡å‡†ï¼Œè¯ç”Ÿäº†ä¸€ç³»åˆ—å¦‚åŸºäºå·¥ä¸šæ ‡å‡†çš„TMSæœåŠ¡ï¼ŒåŸºäºOGCè§„èŒƒçš„WMTSæœåŠ¡ã€‚å¾ˆå¿«ï¼Œç™¾åº¦åœ°å›¾ï¼Œé«˜å¾·åœ°å›¾ã€å¤©åœ°å›¾éƒ½ä½¿ç”¨è¯¥æŠ€æœ¯åŸç†å»ºè®¾äº†è‡ªå·±çš„åˆ‡ç‰‡åœ°å›¾æœåŠ¡ã€‚å¹¿å¤§GISä»ä¸šè€…ä¹Ÿå¼€å§‹äº†â€œé¡¹ç›®ä¸€å¯åŠ¨ï¼Œå…ˆæŠŠåº•å›¾åˆ‡â€çš„å¥—è·¯ã€‚\nåŸºäºè¯¥æŠ€æœ¯åŸç†ï¼Œå¯¹å¤§çš„å½±åƒæ•°æ®å¦‚å‡ åGçš„GeoTiffæ•°æ®ä¹Ÿè¿›è¡Œäº†åˆ‡ç‰‡ï¼Œå½¢æˆå½±åƒåº•å›¾ç»™å®¢æˆ·ç«¯ä½¿ç”¨ã€‚\nè¿™ä¸ªæ—¶æœŸçš„å¼€æºGISä¸»è¦æŠ€æœ¯æ˜¯åŸºäºGeoServerçš„WMSã€WFSã€TMSã€WMTSæœåŠ¡ã€‚\næ ¸å¿ƒæŠ€æœ¯ï¼šWebå¢¨å¡æ‰˜æŠ•å½±ã€æ …æ ¼é‡‘å­—å¡”\næ•°æ®åˆ‡ç‰‡å‘å±•\u0026ndash;çŸ¢é‡åˆ‡ç‰‡æ—¶ä»£ï¼ˆWMTSï¼Œå®¢æˆ·ç«¯æ¸²æŸ“+é¢„å¤„ç†ï¼‰ è™½ç„¶åŸºäºXYZçš„å›¾ç‰‡åˆ‡ç‰‡æŠ€æœ¯å¾ˆæˆåŠŸï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸å°‘é—®é¢˜ï¼š\nå…¨å›¾é¢„åˆ‡è€—æ—¶é•¿ï¼šé€šå¸¸åˆ‡å›¾zoomçº§åˆ«ä»0åˆ°20ï¼Œé€šè¿‡é‡‘å­—å¡”åŸç†å›¾å¯çŸ¥ï¼Œä¸Šä¸€çº§åˆ«çš„ä¸€å¼ å›¾ç‰‡ï¼Œä¸‹ä¸€çº§åˆ«ä¼šè£‚å˜æˆ4å¼ ï¼Œçº§åˆ«è¶Šå¤§ï¼Œå›¾ç‰‡è¶Šå¤šï¼ŒåŒæ—¶åœ°ç†èŒƒå›´è¶Šå¤§ï¼Œå›¾ç‰‡ä¹Ÿè¶Šå¤šï¼Œå›¾ç‰‡å¤šäº†ï¼Œåˆ‡å›¾è€—æ—¶å°±å¾ˆé•¿ï¼Œèµ„æºæ— è®ºæ˜¯åŸºç¡€åº•å›¾åˆ‡ç‰‡è¿˜æ˜¯å½±åƒåº•å›¾åˆ‡ç‰‡éƒ½è¦è€—æ—¶æ¼«é•¿ã€‚ èµ„æºè¦æ±‚é«˜ï¼šéœ€è¦åºå¤§çš„æœåŠ¡ç«¯æ¸²æŸ“å’Œåˆ‡å›¾çš„è®¡ç®—èµ„æºï¼Œæ»¡è¶³åˆ†å¸ƒå¼æ¸²æŸ“ã€åˆ‡å›¾ã€å­˜å‚¨éœ€æ±‚ã€‚ å­˜å‚¨å†—ä½™ï¼šåŸå§‹çŸ¢é‡å’Œæ …æ ¼æ•°æ®ï¼ŒåŒæ—¶å†—ä½™å­˜å‚¨äº†æ•°æ®åˆ‡ç‰‡ï¼Œå­˜å‚¨å‹åŠ›å¤§ï¼Œæ•°æ®åˆ‡ç‰‡è½¬å‚¨IOå‹åŠ›å¤§ã€‚ArcGISä¸ºäº†æå‡è½¬å‚¨æ€§èƒ½ï¼Œå¼€åˆ›äº†ç¦»æ•£æ€§åˆ‡ç‰‡å’Œç´§å‡‘å‹åˆ‡ç‰‡ä¸¤ä¸ªæ ¼å¼ï¼Œç´§å‡‘å‹åˆ‡ç‰‡åœ¨è½¬å‚¨æ—¶æ€§èƒ½è¾ƒé«˜ã€‚ æ•°æ®æ›´æ–°ä¸åŠæ—¶ï¼šç”±äºåˆ‡å›¾è€—æ—¶é•¿ï¼Œé€šå¸¸å¾ˆå°‘ä¼šå®šæœŸæ›´æ–°åœ°å›¾åˆ‡ç‰‡æ•°æ®ï¼Œå¯¼è‡´æ•°æ®æ˜¾ç¤ºè½åäºå®é™…ç”Ÿæ´»ç°çŠ¶ï¼Œä¸èƒ½å¾ˆå¥½çš„æœåŠ¡ç”¨æˆ·ã€‚ åœ°å›¾åƒç¯‡ä¸€å¾‹ï¼šè¿™ä¸ªæ—¶æœŸé¡¹ç›®æœ€å¸¸é‡‡ç”¨çš„æ˜¯å¤©åœ°å›¾åœ°å›¾æœåŠ¡ï¼Œä¸ç®¡å•¥é¡¹ç›®ï¼Œä¸ç®¡ä»€ä¹ˆåœ°åŒºï¼Œä¼¼ä¹åœ°å›¾éƒ½é•¿ä¸€ä¸ªæ ·å­ã€‚ç”²æ–¹å¯èƒ½å®¡ç¾ç–²æƒ«äº†ï¼Œä»–ä»¬å¸Œæœ›åº•å›¾èƒ½æ˜¯å®šåˆ¶åŒ–çš„ï¼Œèƒ½ä¸èƒ½æš—é»‘ä¸€ç‚¹ï¼Ÿç§‘å¹»ä¸€ç‚¹ï¼Ÿ æ—¢ç„¶å­˜åœ¨é—®é¢˜ï¼Œè‡ªç„¶æœ‰äººæƒ³è§£å†³é—®é¢˜ï¼Œä»15å¹´å·¦å³ï¼ŒMapboxå—å¤Ÿäº†ä¼ ç»Ÿåœ°å›¾æ˜¾ç¤ºé£æ ¼äº†ï¼Œå®ƒæå‡ºäº†MVTçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯ä¸€ç»æ¨å‡ºå°±å¤§å—æ¬¢è¿ï¼Œå¼€å¯äº†WebGISåº•å›¾å®šåˆ¶åŒ–æ—¶ä»£ã€‚\nå¾ˆæ˜¾ç„¶ï¼ŒçŸ¢é‡åˆ‡ç‰‡å’Œå›¾åƒåˆ‡ç‰‡æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼šæ¸²æŸ“ä»æœåŠ¡ç«¯è¿ç§»åˆ°å®¢æˆ·ç«¯äº†ï¼Œæ¢å¥è¯è¯´ï¼ŒæœåŠ¡ç«¯å‡è´Ÿäº†ï¼Œå¸¦æ¥çš„å¥½å¤„ä¹Ÿæ˜¯ä¸è¨€è€Œå–»ï¼š\nèµ„æºè¦æ±‚é™ä½ï¼šæœåŠ¡å™¨èµ„æºè¦æ±‚å¯è§æ€§é™ä½ï¼Œæ¸²æŸ“å¾ˆè€—èµ„æºçš„ã€‚ æ•°æ®æ›´æ–°æ¯”è¾ƒåŠæ—¶ï¼šå¦‚æœæ•°æ®æ›´æ–°ï¼Œç®€å•æ›´æ–°ä¸‹å±€éƒ¨å˜æ›´åœ°åŒºçš„æ•°æ®çš„çŸ¢é‡åˆ‡ç‰‡å³å¯ï¼Œç”±äºä¸ç”¨å…¨å›¾æ¸²æŸ“ï¼Œè€—æ—¶æå¤§å‡å°‘ï¼Œæ•°æ®çš„æœ‰æ•ˆæ€§æå¤§æé«˜ã€‚ å­˜å‚¨å†—ä½™é™ä½ï¼šé‡‡ç”¨MbTilesçš„è®¾è®¡è§„èŒƒï¼Œå°†æ•°æ®å’Œåºå·ç´¢å¼•å‰¥ç¦»ï¼Œå¤ç”¨é‡å¤åŒºåŸŸæ•°æ®ï¼Œæå¤§é™ä½åˆ‡ç‰‡æ•°æ®é‡ã€‚ä½†æ˜¯æ•°æ®å†—ä½™è¿˜æ˜¯å­˜åœ¨çš„ã€‚ åœ°å›¾ä¸å†åƒç¯‡ä¸€å¾‹ï¼šæ¸²æŸ“æ˜¯å®¢æˆ·ç«¯çš„ï¼Œé‚£ä¹ˆç”²æ–¹å„ç§ä¼˜ç§€çš„åˆ›æ„éƒ½èƒ½å¾—åˆ°é‡Šæ”¾äº†ï¼Œé…ç½®å¤§å±çš„æ„Ÿè§‰å·²ç»æ˜¯å¾ˆå®¹æ˜“çš„äº‹æƒ…äº†ã€‚å„è¡Œå„ä¸šçš„åœ°å›¾äº”å½©æ–‘æ–“å„æœ‰åƒç§‹ï¼Œåœ°å›¾è®¾è®¡è€…ä»¬çš„æ˜¥å¤©æ¥äº†ã€‚é«˜å¾·ã€ç™¾åº¦è·Ÿçš„å¾ˆå¿«ï¼Œç›®å‰ä¹Ÿéƒ½æä¾›çŸ¢é‡åˆ‡ç‰‡åº•å›¾å®šåˆ¶åŒ–æœåŠ¡äº† è¿™ä¸ªæ—¶æœŸçš„å¼€æºGISä¸»è¦æŠ€æœ¯æ˜¯åŸºäºGeoServerçš„çŸ¢é‡åˆ‡ç‰‡æœåŠ¡ï¼ŒåŸºäºMapboxçš„åº•å›¾åˆ‡å›¾å·¥å…·tippecanoeç­‰ã€‚è¿™ä¸ªæ—¶æœŸï¼Œ3D GISè“¬å‹ƒå‘å±•ï¼Œè¯ç”Ÿäº†3DTilesã€I3Sç­‰3Dåˆ‡ç‰‡ogcè§„èŒƒï¼Œå¹¶å¤§é‡åœ¨å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚\nçŸ¢é‡åˆ‡ç‰‡è§£å†³äº†ä¸å°‘é—®é¢˜ï¼Œä½†ä»é—ç•™é—®é¢˜æ˜¯ï¼šå…¨å›¾é¢„åˆ‡è€—æ—¶é•¿ï¼Œåˆ‡ç‰‡æ•°æ®å†—ä½™å ç”¨å­˜å‚¨ç©ºé—´ã€‚è¿™ä¸ªé—®é¢˜åŒæ ·ä¹Ÿæ˜¯æ …æ ¼åˆ‡ç‰‡ã€3Dåˆ‡ç‰‡å…±åŒçš„é—®é¢˜ã€‚äºæ˜¯æœ‰äººé—®ï¼Œèƒ½ä¸èƒ½æ•°æ®ä¸åˆ‡ç‰‡ï¼Ÿä¹Ÿå°±ä¸å­˜åœ¨é¢„åˆ‡è€—æ—¶é•¿ï¼Œåˆ‡ç‰‡æ•°æ®å†—ä½™çš„é—®é¢˜äº†ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚\næ ¸å¿ƒæŠ€æœ¯ï¼šçŸ¢é‡é‡‘å­—å¡”ï¼ŒMVT\næ­£æ‰€è°“å°¾å¤§ä¸æ‰ï¼Œè™½ç„¶å·²ç»å‡ºç°äº†çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ï¼Œä½†æ˜¯æ•´ä½“çš„å·¥è‰ºæµç¨‹è¿˜æ˜¯åœ¨é¢„åˆ‡è·¯çº¿ã€‚è¿™å¯èƒ½å’ŒçŸ¢é‡åˆ‡ç‰‡è§£å†³çš„é—®é¢˜ç›¸å…³ï¼Œå› ä¸ºçŸ¢é‡åˆ‡ç‰‡è§£å†³çš„æ˜¯æ¸²æŸ“çš„é—®é¢˜ï¼Œå¯ä»¥æ›´è‡ªç”±çš„è¿›è¡Œæ¸²æŸ“äº†ï¼Œè€Œä¸”åªéœ€è¦æä¾›ä¸€ä»½åˆ‡ç‰‡æ•°æ®å³å¯ã€‚\næ•°æ®åˆ‡ç‰‡æ–¹å‘\u0026ndash;åŠ¨æ€åˆ‡ç‰‡æ—¶ä»£ï¼ˆWMTSï¼Œå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰ é‚£ä¹ˆä¸Šä¸€ä¸ªé˜¶æ®µé—ç•™çš„é—®é¢˜è¿˜æœ‰ä»€ä¹ˆï¼šé¢„å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ä¸ç®¡æ€ä¹ˆæ ·ï¼Œæˆ‘å…ˆåˆ‡æ•°æ®\nç¬”è€…ï¼ˆåŸæ–‡ä½œè€…ï¼šé¥æƒ³å…¬ç‘¾å½“å¹´ï¼‰æ›¾ç»å¤§é‡ä½¿ç”¨PostGIS+å¹¶è¡Œè®¡ç®—+åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å®ç°åŠ¨æ€ä¸šåŠ¡æ•°æ®çš„å¿«é€Ÿå‰ç«¯çŸ¢é‡å‘ˆç°ï¼ŒPostGISæ˜¯ç›®å‰å¼€æºæ¶æ„é‡Œå”¯ä¸€èƒ½æ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡çš„æ•°æ®æŠ€æœ¯ã€‚\nåŠ¨æ€åˆ‡ç‰‡æŠ€æœ¯ä¸å†é¢„å…ˆåˆ‡å›¾ï¼Œä¹Ÿä¸ä¼šæœ‰å¤§é‡åˆ‡ç‰‡çš„æ–‡ä»¶å­˜å‚¨ï¼Œå°†åˆ‡ç‰‡æŠ€æœ¯è¯ç”Ÿä»¥æ¥æ‰€é—ç•™çš„é—®é¢˜éƒ½ä¸€æ¬¡æ¸…ç©ºã€‚ç”±äºé€šå¸¸æ•°æ®é‡å¾ˆå¤§ï¼ŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯åŸºæœ¬ä¸Šæ•°æ®ä¸å‡ºåº“ï¼Œè€Œç”±æ•°æ®åº“æ±‡æ€»ç»„ç»‡æ•°æ®å¹¶ç›´æ¥ç”Ÿæˆåˆ‡ç‰‡ç»“æœå‡ºå»ï¼Œåå°å‡ ä¹å•¥ä¹Ÿä¸åšï¼Œæ—¶ç©ºæ•°æ®åº“çš„åœ°ä½è¶Šæ¥è¶Šé‡è¦ã€‚\nè¿™æ˜¯ä¸€ä¸ªå´­æ–°çš„æ—¶ä»£ï¼Œé¢„ç¤ºç€æ•°æ®ä¸åˆ‡ç‰‡æ—¶ä»£çš„æ¥ä¸´ï¼Œæ¯•ç«ŸçŸ¢é‡å’Œæ …æ ¼ä¸åˆ‡ç‰‡æŠ€æœ¯ç†è®ºä¸Šè¿˜æ˜¯æ¯”è¾ƒæˆç†Ÿçš„ï¼Œæœªæ¥3DTilesè¿™äº›3Dåˆ‡ç‰‡ç†è®ºä¹Ÿä¼šé€æ¸æˆç†Ÿçš„ã€‚\næ ¸å¿ƒæŠ€æœ¯ï¼šåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡+çŸ¢é‡é‡‘å­—å¡”+MVT\nåœ¨è¿™é‡Œæˆ‘æƒ³è¦è¡¥å……ä¸€ä¸‹ä¸Šé¢çš„ç¤ºæ„å›¾ï¼Œè¿™é‡Œä¸æ˜¯è¯´åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯åªèƒ½åº”ç”¨åœ¨æ•°æ®åº“ä¸­ï¼Œå‰æ–‡ä¸­ä¹Ÿæåˆ°å½“å‰å¼€æºæ¶æ„ä¸­PostGISæ˜¯å”¯ä¸€èƒ½æ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡çš„æ•°æ®æŠ€æœ¯ã€‚è¿™é‡Œæ˜¯åŸºäºä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ä¸PostGISçš„åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯çš„å¯¹æ¯”ï¼Œæ›´å¤šçš„æ˜¯æƒ³è¡¨è¾¾æµç¨‹çš„å˜åŒ–ï¼ˆé¢„åˆ‡ â†’ åŠ¨æ€ï¼Œä»¥åŠåˆ‡ç‰‡äº§ç”Ÿçš„ä½ç½®ï¼‰ï¼Œä»¥åŠæµç¨‹å˜åŒ–å¸¦æ¥çš„æ€§èƒ½æå‡å’Œç›¸å…³å½±å“ï¼›è¿˜æœ‰å°±æ˜¯åŸæ–‡ä½œè€…è®¤ä¸ºçš„åç»­çš„å‘å±•æ–¹å‘ï¼ŒBased on spatial databaseã€‚\nå…³äºåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å¯ä»¥è¯´æ˜¯ä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡çš„åŠ¨æ€åº”ç”¨ï¼ˆæ›´å¹¿ä¹‰çš„å¯ä»¥è®¤ä¸ºï¼šæ˜¯å¯ä»¥æŒ‰éœ€åŠ¨æ€ç”Ÿæˆçš„ï¼Œå…·å¤‡å¤šå±‚æ¬¡æ¨¡å‹ï¼Œä¸”æ¯ä¸ªå±‚æ¬¡åŒ…å«é€‚å½“é€‰å–åŠç®€åŒ–çš„æ•°æ®çš„åˆ‡ç‰‡æŠ€æœ¯ï¼‰ã€‚å¼ºè°ƒä¸å†é¢„åˆ‡ï¼Œè€Œæ˜¯æŒ‰éœ€ç”Ÿæˆï¼Œä¸”åº”è¯¥åŒæ—¶æ»¡è¶³å¯ä»¥å¿«é€Ÿæ˜¾ç¤ºçš„è¦æ±‚ã€‚\næŒ‰éœ€åŠ¨æ€ç”Ÿæˆï¼ˆä¸æ•°æ®æºæ˜¯é“¾æ¥ç€çš„æˆ–æ˜¯å¯é“¾æ¥çš„ï¼Œå³å¯è¾¾æˆéšæ—¶å¯è®¿é—®ï¼‰ï¼Œä¸åšé¢„åˆ‡ å¤šå±‚æ¬¡ç»“æ„ï¼ˆå¦‚ï¼šçŸ¢é‡é‡‘å­—å¡”ï¼‰ æ•°æ®é€‰å–ä¸ç®€åŒ– MVTæ”¯æŒ ä»å‘å±•è¿›ç¨‹ä¸Šé¢çœ‹ï¼ŒæŠ€æœ¯çš„å‡çº§æ˜¯ä¸ºäº†è§£å†³æ­¤å‰å­˜åœ¨çš„ç—›ç‚¹é—®é¢˜ã€‚åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯æ˜¯ä¸ºäº†è§£å†³é¢„åˆ‡è€—æ—¶ï¼Œä¸”ä¼šäº§ç”Ÿå¤§é‡çš„ç“¦ç‰‡å­˜å‚¨ï¼ˆé¢„åˆ‡ï¼‰ï¼Œæ•°æ®è¶Šå¤§ï¼Œäº§ç”Ÿçš„ç“¦ç‰‡è¶Šå¤šã€‚\nä»å®é™…çš„åº”ç”¨ä¸Šçœ‹ï¼Œæ­¤å‰çš„çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯æˆ‘æ›´æ„¿æ„å°†ä¹‹ç§°ä¸ºä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯ï¼Œç”¨ä»¥ä¸çŸ¢é‡åˆ‡ç‰‡åšä¸€å®šçš„åŒºåˆ†ã€‚ä¼ ç»ŸçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯è¿˜æ˜¯èµ°çš„é¢„å¤„ç†çš„è·¯å­ï¼Œäº§ç”Ÿçš„æ˜¯é™æ€çŸ¢é‡ç“¦ç‰‡æ•°æ®ï¼Œå³åœ¨æµç¨‹ä¸Šæ˜¯æ— æ³•åšåˆ°å¿«é€Ÿæ›´æ–°çš„ã€‚ä¸ä¹‹å¯¹åº”çš„ä¾¿æ˜¯åŠ¨æ€å®æ—¶ç”Ÿäº§çš„è·¯çº¿ï¼Œå¯ç§°ä¸ºåŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯ã€‚ç§ä»¥ä¸ºï¼Œä¸¤è€…æ›´å¤§çš„åŒºåˆ«åœ¨äºçŸ¢é‡ç“¦ç‰‡ç”Ÿäº§çš„æ€è·¯ï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦éœ€è¦é¢„åˆ‡ã€‚\næ‰€ä»¥ï¼ŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯å¯ä»¥æœ‰å„ç§å„æ ·çš„å®ç°ï¼Œè€ŒPostGISä¸­çš„åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯ä¾¿æ˜¯å…¶ä¸­çš„ä¸€ç§ã€‚ä¸”åˆ°ç›®å‰ï¼ŒGeoServeråŒæ ·å®ç°äº†åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯ï¼ˆåªä¸è¿‡å…¶å†å²åŒ…è¢±è¿‡é‡ ğŸ«¡ï¼‰ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒåŸºäºæ•°æ®åº“çš„åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ï¼šç¼©çŸ­äº†åˆ‡ç‰‡çš„ä¼ å¯¼è·¯å¾„ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„æ•°æ®ä¸å‡ºåº“ï¼Œå‡ºåº“å³ä¸ºåˆ‡ç‰‡ï¼‰ã€‚\nå‚è€ƒ WebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ PostGISåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡ï¼ˆåŸç†+å®ç°ï¼‰ ","title":"åˆ‡ç‰‡æŠ€æœ¯å‘å±•"},{"content":"èµ·æº å¤©æ°”å°ç¨‹åºäº§ç”Ÿäº2022å¹´å¹´åˆï¼Œç›®çš„æ˜¯ç”¨äºéªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘ï¼ˆä»…å‰åç«¯ï¼‰çš„èƒ½åŠ›ã€‚\nå—æ–°å† ç–«æƒ…å½±å“ï¼Œ2022å¹´çš„æ˜¥èŠ‚æ˜¯åœ¨æ­å·è¿‡çš„ã€‚è¿˜è®°å¾—å½“æ—¶é™„è¿‘å¥½å‡ ä¸ªåœ°æ–¹éƒ½è¢«åˆ’ä¸ºäº†é«˜é£é™©ï¼Œå¯¹æ•´ä¸ªåŒºè¿›è¡Œäº†ç®¡æ§ã€‚å¦‚æœé€‰æ‹©å›å®¶çš„è¯ï¼Œå¾—åˆ°å°†æ˜¯14å¤©çš„éš”ç¦»ï¼Œè¿˜ä¸ç¡®å®šèƒ½å¦å›æ¥ä¸Šç­ã€‚å› æ­¤ä¾¿æ²¡æœ‰å›å»äº†ã€‚å¥½åœ¨æ‰€åœ¨çš„åŒºåŸŸæƒ…å†µå¹¶æ²¡æœ‰é‚£ä¹ˆçš„ä¸¥é‡ï¼Œè¿˜æ˜¯å¯ä»¥å»ä¹°èœçš„ã€‚é¢†äº†æ¶ˆè´¹åˆ¸ï¼Œå†åŠ ä¸Šå…¬å¸å‘çš„å¹´è´§ï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆç³Ÿç³•ã€‚\næ‰€ä»¥ï¼Œæ—¢ç„¶æ²¡æœ‰å›å»ï¼Œåˆæœ‰åæ¥å¤©çš„æ—¶é—´ï¼Œæ€»å¾—åšç‚¹ä»€ä¹ˆä¸œè¥¿æ‰è¡Œï¼Œå¯¹å§ ğŸ™„ï¼\n2022å¹´ï¼Œæ˜¯æˆ‘å·¥ä½œçš„ç¬¬å››ä¸ªå¹´å¤´ã€‚å—å¤šæ–¹é¢çš„ä¿¡æ¯å½±å“ï¼Œæˆ‘ä¹Ÿæƒ³çœ‹çœ‹éªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘ï¼ˆä»…å‰åç«¯ï¼‰çš„èƒ½åŠ›ã€‚\nå†ç¨‹ æ‹‚è¡£å¤©æ°”ï¼Œåˆåå¾®å¤©æ°”ã€‚\nä¸€ä¸ªé›†åœ°ç†ä¿¡æ¯ä¸å¤©æ°”é¢„æŠ¥ä¸ºä¸€ä½“çš„å¤©æ°”é¢„æŠ¥ç±»å°ç¨‹åºï¼Œç•Œé¢ç²¾ç¾ï¼Œä½¿ç”¨ä¾¿æ·ã€‚ã€è‡´æ•¬ï¼šå’Œé£å¤©æ°”ã€‘ï¼\nğŸ’¡ ä¸»è¦æ˜¯æœ‰äººç»™æˆ‘è¯´æ‹‚è¡£å¤©æ°”ï¼Œå¬ç€è¿˜ä»¥ä¸ºæ˜¯å–è¡£æœçš„ã€‚soï¼Œæˆ‘å°±æƒ³ç€æ¢ä¸ªåå­—ï¼Œå°±æœ‰äº†å¾®å¤©æ°”ã€‚ä½†æ˜¯ç”±äºå¾®ä¿¡è®¤è¯çš„åŸå› ï¼Œæ‰€ä»¥æœ‰äº›åœ°æ–¹è¿˜æ˜¯æ‹‚è¡£å¤©æ°”ã€‚ç°åœ¨ç»†ç»†æƒ³æ¥ï¼Œå¥½åƒä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œé‚£å°±å…ˆè¿™æ ·å§ ğŸ™„\nè¯¥é¡¹ç›®ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬ï¼ˆ1.1.9ï¼‰ï¼Œæ€»ä½“è€—æ—¶2ä¸ªæœˆé›¶7å¤©ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±70åˆ†ã€‚ æ­¤å‰å®åœ¨æ˜¯æ²¡æœ‰ç»éªŒï¼Œä¹Ÿæ²¡æœ‰ç›¸å…³çš„ä¹ æƒ¯ï¼Œå¤©æ°”å°ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰ç¼–å†™ç›¸å…³çš„æ–‡æ¡£ã€‚æ‰€ä»¥åœ¨å°ç¨‹åºå¼€å‘å®Œæˆä¹‹åï¼Œæœ¬æ¥è®¡åˆ’æ˜¯å°†æ‹‚è¡£å¤©æ°”å®Œæ•´çš„å¼€å‘è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œå¹¶å°†è¯¥é¡¹ç›®å¼€æºå‡ºå»ï¼Œç”šè‡³è¿˜æƒ³å°†è¯¥é¡¹ç›®æäº¤ç»™å’Œé£å¤©æ°”ã€‚ä½†æœ€åçš„ç»“æœå°±æ˜¯ï¼šæ–‡ç« å°±å®Œæˆäº†å››ç¯‡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¼€å¤´ï¼Œæ²¡å•¥å®é™…å†…å®¹ã€‚@time 2022å¹´8æœˆ16æ—¥ å¥½çš„ï¼Œç°åœ¨æ—¶é—´æ¥åˆ°2023å¹´12æœˆï¼Œæˆ‘åˆæœ‰ç‚¹æ—¶é—´äº†ï¼Œå› ä¸ºæˆ‘ç¦»èŒäº†ï¼ˆä¸æ˜¯è¢«è£ï¼‰ã€‚è¿™æ¬¡çš„ç›®æ ‡æ˜¯å®Œå–„æ–‡æ¡£ï¼Œä¿®å¤å‘ç°çš„ä¸€äº›BUGï¼Œç„¶åæ–°å¢ä¸€äº›å†…å®¹ï¼Œæœ€ç»ˆå°†è¯¥å°ç¨‹åºå¼€æºï¼Œå¹¶è´¡çŒ®ç»™å’Œé£å¤©æ°”ã€‚ æ¥ä¸‹æ¥ï¼Œè®©æˆ‘æ¥å›å¿†ä¸€ä¸‹æ¯ä¸ªé˜¶æ®µçš„è¯¦ç»†å†…å®¹ ğŸ¤”\né¡¹ç›®åˆå§‹ ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°åšä¸€ä¸ªå¤©æ°”å°ç¨‹åºå‘¢ï¼Ÿ\nå—¯ï¼Œé¦–å…ˆæˆ‘æ˜¯ä¸€ä¸ªåšæœåŠ¡ç«¯å¼€å‘çš„GISå¼€å‘å·¥ç¨‹å¸ˆã€‚åœ¨å½“æ—¶åˆšç»“æŸä¸€ä¸ªå°ç¨‹åºçš„å¼€å‘å·¥ä½œï¼Œè§‰å¾—å°ç¨‹åºè¿™ä¸ªä¸œè¥¿è¿˜æŒºæœ‰æ„æ€ã€‚åŒæ—¶å—åˆ°å‘¨è¾¹å„ç§ä¿¡æ¯çš„å½±å“ï¼Œä¹Ÿæƒ³è¯•ä¸€è¯•å†™ç‚¹å‰ç«¯çš„å†…å®¹ï¼Œæœ€å¥½æ˜¯å¯ä»¥æ–¹ä¾¿å‘å¸ƒçš„é‚£ç§ï¼Œä¹Ÿç®—æ˜¯è‡ªå·±çš„ä½œå“ä¸æ˜¯ã€‚ä¸ºä»€ä¹ˆä¼šé€‰æ‹©å¤©æ°”ç±»åˆ«ï¼Œå¥½åƒæ˜¯å½“æ—¶åˆ·ç½‘é¡µè¿˜æ˜¯ä»€ä¹ˆï¼Œçœ‹åˆ°ä¸€ä¸ªäººåˆ†äº«è‡ªå·±åšäº†ä¸€ä¸ªå¤©æ°”æœºå™¨äººï¼Œç„¶åç»™å¥³æœ‹å‹æ¨å¤©æ°”ä¿¡æ¯ã€‚soï¼Œ ğŸ«£\næ‰€ä»¥ï¼Œæˆ‘å½“æ—¶å°±æƒ³åšä¸€ä¸ªå¤©æ°”ç±»åˆ«çš„å°ç¨‹åºï¼Œä»¥æ­¤è¿›è¡Œå…¨æ ˆå¼€å‘èƒ½åŠ›çš„è¯•ç‚¼ã€‚æˆ‘æƒ³è¿™ä¼šæ˜¯ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºã€æ˜¯ä¸€ä¸ªå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å°ç¨‹åºï¼Œä»¥Javaè¿›è¡ŒæœåŠ¡ç«¯å¼€å‘ï¼Œä»¥Mapboxå®ç°å¤©æ°”æ•°æ®å¯è§†åŒ–ã€‚\næœ¬é˜¶æ®µäº‹åŠ¡åˆ†ä¸ºäº†ä¸‰ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼šè°ƒç ”ã€å­¦ä¹ ã€å®ç°\nè°ƒç ” å¤©æ°”å°ç¨‹åºä»€ä¹ˆæœ€é‡è¦ï¼Ÿå½“ç„¶æ˜¯å¤©æ°”æ•°æ®æœ€ä¸ºé‡è¦ï¼Œæ‰€ä»¥é¦–è¦å†…å®¹ä¾¿æ˜¯ç¡®å®šå¤©æ°”æ•°æ®çš„æ¥æºã€‚å…¶æ¬¡ä¾¿æ˜¯ç¡®å®šæœ¬æ¬¡å¤©æ°”å°ç¨‹åºçš„æŠ€æœ¯å®ç°æ„æˆã€‚\nå¤©æ°”æ•°æ®\nå¤©æ°”æ•°æ®éœ€è¦æ˜¯çœŸå®çš„ã€å¯ç”¨çš„ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡ç½‘ç»œä¸­æä¾›çš„å¤©æ°”APIè¿›è¡Œè·å–ã€‚\né€šè¿‡ä¸€å®šçš„æ£€ç´¢åï¼Œæˆ‘é€‰å®šäº†ä¸¤ä¸ªå¤©æ°”å¹³å°ï¼Œåˆ†åˆ«æ˜¯ï¼šå’Œé£å¤©æ°”ã€å¿ƒçŸ¥å¤©æ°”ã€‚\né«˜å¾·å¤©æ°”ï¼šå¤§å¹³å°ï¼Œä½†æ˜¯ç›®å‰æœåŠ¡ç±»ç›®æ¯”è¾ƒå°‘\nå½©äº‘å¤©æ°”ï¼šå…è´¹æ¥å£å‡ ä¹æ²¡æœ‰ï¼Œæ”¶è´¹åˆå¤ªè´µ\nå¿ƒçŸ¥å¤©æ°”\nå¿ƒçŸ¥å¤©æ°”è¯•ç”¨ç‰ˆä¸å¼€å‘è€…ç‰ˆå¼€å‘äº§å“å‡ ä¹ç­‰åŒï¼Œä¸”å¼€å‘è€…ç‰ˆæ”¶è´¹ä¹Ÿä¸è´µã€‚æœ€ä¸ºå…³é”®çš„æ˜¯ï¼Œæ”¯æŒä»¥ç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå’Œé£å¤©æ°”\nå‡ ä¹å¯ä»¥å…è´¹ä½¿ç”¨å…¶æä¾›çš„æ‰€æœ‰ APIï¼Œä¸”åŒæ ·æ”¯æŒç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå¯¹æ¯”äº†è¿™ä¸¤è€…ï¼Œå‘ç°è‡³å°‘éƒ½éœ€è¦æ³¨å†Œä¸ºå¼€å‘è€…ä¹‹åï¼Œæ‰å¯ä»¥è¾ƒå¥½çš„ä½¿ç”¨å…¶æœåŠ¡ã€‚ä¸”ä¸¤è€…çš„å¼€å‘è€…è®¤è¯å‡éœ€è¦å®åã€‚\nå…³äºå¤©æ°”APIçš„é€‰æ‹©ï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©äº†å’Œé£å¤©æ°”ï¼Œå€’ä¸æ˜¯å› ä¸ºå®ƒå¯ä»¥å…è´¹ä½¿ç”¨ã€‚å…¶å®ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æˆ‘æ›´å€¾å‘äºä½¿ç”¨å¿ƒçŸ¥å¤©æ°”ï¼Œå› ä¸ºå®ƒè¿˜å¯ä»¥ç›´æ¥æŸ¥æ˜¨å¤©çš„å¤©æ°”ï¼ˆå’Œé£å¯¹äºå†å²å¤©æ°”çš„æŸ¥è¯¢æ¯”è¾ƒéº»çƒ¦ï¼‰ã€‚ä½†æ˜¯å’Œé£å¤©æ°”é¦–é¡µç»“åˆäº†åœ°å›¾è¿›è¡Œå¯è§†åŒ–ï¼Œè€Œä¸”è¿˜æä¾›æœ‰APPå¯ä»¥ä½¿ç”¨ï¼ˆæ–¹ä¾¿å‚è€ƒï¼‰ã€‚å†åŠ ä¸Šï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œå…¶å®æˆ‘å¹¶æ²¡æœ‰è¿«åˆ‡çš„éœ€è¦çŸ¥é“æ˜¨å¤©çš„å¤©æ°”æƒ…å†µã€‚ ğŸ™„\nğŸ’¡ å…¶å®æœ€é‡è¦çš„åŸå› åœ¨äºï¼šæˆ‘å…ˆæ³¨å†Œäº†å¿ƒçŸ¥å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œè¿‡äº†åŠå¤©åå†å»æ³¨å†Œäº†å’Œé£å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œä½†æ˜¯æœ€å…ˆé€šè¿‡å®¡æ ¸çš„æ˜¯å’Œé£å¤©æ°”ï¼ˆè€—æ—¶å¤§æ¦‚ä¹Ÿå°±åŠå¤©å·¦å³ï¼Œæˆ‘æ˜¯åœ¨æ˜¥èŠ‚æœŸé—´æ³¨å†Œçš„å•Šï¼‰ã€‚\næŠ€æœ¯å®ç°æ„æˆ\nè¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—æ†¾ï¼Œå°ç¨‹åºåŸç”Ÿå¹¶ä¸æ”¯æŒä½¿ç”¨å¦‚mapboxè¿™æ ·çš„ç¬¬ä¸‰æ–¹åœ°å›¾æ¡†æ¶ï¼Œåˆå§‹æƒ³æ³•æ˜¯é€šè¿‡webviewçš„æ–¹å¼ä½¿ç”¨mapboxï¼Œä½†æ˜¯é—æ†¾çš„æ˜¯ï¼Œwebviewå¹¶ä¸å¯¹ä¸ªäººç±»å‹çš„å°ç¨‹åºå¼€æ”¾ä½¿ç”¨ã€‚\næ‰€ä»¥ï¼Œé€€è€Œæ±‚å…¶æ¬¡ï¼Œé€‰æ‹©è…¾è®¯åœ°å›¾ï¼ˆåŠå…¶æä¾›çš„æ ·å¼ï¼‰å®ç°åœ°å›¾æµè§ˆã€‚\næœåŠ¡ç«¯ç¨‹åºåˆ™ä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œå¤©æ°”æ•°æ®æ˜¯ç»è¿‡æœåŠ¡ç«¯ä»£ç†çš„æ–¹å¼å½¢æˆå†…éƒ¨çš„æ•°æ®æ¥å£ï¼Œå¹¶éæ˜¯å°ç¨‹åºç›´æ¥è°ƒç”¨å’Œé£çš„æ¥å£\næœ€ç»ˆå°†æœåŠ¡ç«¯ç¨‹åºéƒ¨ç½²åˆ°é˜¿é‡Œäº‘\nå­¦ä¹  æˆ‘æ˜¯ä¸€ä¸ªåç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸æ€ä¹ˆä¼šå†™é¡µé¢ï¼Œæˆ‘ç‰¹åˆ«çš„è®¨åŒå†™CSSã€‚æˆ‘ä¹Ÿæ²¡æœ‰æ¥è§¦è¿‡å‰ç«¯å¼€å‘å’Œå¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œæ‰€ä»¥éœ€è¦æå‰å‚¨å¤‡ä¸€ä¸‹ç›¸å…³çŸ¥è¯†ã€‚\nå‰ç«¯çŸ¥è¯†\næˆ‘å¹¶æ²¡æœ‰æƒ³è¦ç²¾é€šå‰ç«¯æŠ€æœ¯ï¼Œä½†æ˜¯æˆ‘éœ€è¦æ¯”è¾ƒä½“ç³»çš„äº†è§£ä¸€ä¸‹å‰ç«¯æŠ€æœ¯ï¼Œæ–¹ä¾¿è¿›è¡Œå°ç¨‹åºå¼€å‘ã€‚æ‰€ä»¥æˆ‘åœ¨Bç«™æ‰¾äº†ä¸¤é—¨å‰ç«¯è§†é¢‘å­¦ä¹ ï¼ˆç²—ç•¥çš„åˆ·äº†ä¸€éï¼‰\nå°šç¡…è°·Webå‰ç«¯é›¶åŸºç¡€å…¥é—¨HTML5+CSS3åŸºç¡€æ•™ç¨‹ä¸¨åˆå­¦è€…ä»å…¥é—¨åˆ°ç²¾é€š åƒé”‹webå‰ç«¯å¼€å‘é¡¹ç›®æ•™ç¨‹_1000é›†å®Œå…¨é›¶åŸºç¡€å…¥é—¨HTML5+CSS3+JSåˆ°ç²¾é€š å¾®ä¿¡å°ç¨‹åºçŸ¥è¯†\nå…¶å®å°±çœ‹å®˜æ–¹æ–‡æ¡£å°±è¶³å¤Ÿäº†ï¼Œä¸è¿‡å¿ƒè™šçš„æˆ‘è¿˜æ˜¯åœ¨æå®¢æ—¶é—´æ‰¾äº†é—¨è¯¾ã€‚æœ€ç»ˆå‘ç°ï¼šå°±å®˜æ–¹æ–‡æ¡£å°±è¶³å¤Ÿäº†ï¼Œå› ä¸ºæˆ‘å¹¶ä¸éœ€è¦å¾ˆæ·±å…¥çš„ä¸œè¥¿\nå®ç° åœ¨æœ‰ä¸€å®šå‡†å¤‡åï¼Œå°±å¼€å§‹è¿›å…¥å®ç°ç¯èŠ‚äº†ã€‚\nåœ¨è¿™é‡Œæœ‰ä¸€ä¸ªå¤§é—®é¢˜å°±æ˜¯UIè®¾è®¡é—®é¢˜ï¼Œæˆ‘çœ‹å’Œé£å¤©æ°”APPå°±æŒºå¥½çœ‹çš„ï¼Œæœ‰å¤©æ°”æœ‰åœ°å›¾ï¼Œèº«ä¸ºGISå¼€å‘çš„æˆ‘å°±å¾ˆå–œæ¬¢ã€‚åˆå‘ç°æ— è®ºæ˜¯å’Œé£å¤©æ°”å®˜æ–¹ï¼Œè¿˜æ˜¯å…¶ä»–å¤©æ°”å°ç¨‹åºåº”ç”¨ï¼ŒåŸºæœ¬éƒ½æ²¡æœ‰æºå¸¦åœ°å›¾çš„ã€‚\næ‰€ä»¥ï¼Œæˆ‘å½“å³å†³å®šå‚è€ƒå’Œé£å¤©æ°”å®˜æ–¹APPç•Œé¢ï¼Œåšä¸€ä¸ªç±»ä¼¼çš„å¤©æ°”å°ç¨‹åºã€‚å½“ç„¶ï¼Œæˆ‘åšçš„è¿™ä¸ªå°ç¨‹åºå°±æ˜¯å¥”ç€å¼€æºï¼ŒåŒæ—¶å°†ä½œä¸ºä½œå“åˆ†äº«ç»™å’Œé£å¤©æ°”ï¼Œæ‰æƒ³ç€å¦‚æ­¤æ“ä½œçš„ã€‚è¯·åŠ¡å¿…æ…é‡ ğŸ¤”\nåœ¨ç»è¿‡ç®€å•çš„è®¾è®¡è¿‡åï¼Œäº2022å¹´1æœˆ18æ—¥æ­£å¼è¿›è¡Œå¼€å‘ï¼Œ2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬1.1.9ã€‚\næ–‡æ¡£è¡¥å…… ä»Šå¤©å·çš„æ‡’ï¼Œæ˜å¤©éƒ½ä¼šè®©ä½ åŠ å€è¿˜å›æ¥ã€‚æ­¤å‰ä¸€æ˜¯æ²¡æ„è¯†ï¼ŒäºŒæ˜¯è®¤ä¸ºæ²¡å¿…è¦ï¼Œä¸‰è¿˜æ˜¯å¤ªæ‡’ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰åŒæ­¥ç¼–å†™æ–‡æ¡£ã€‚\nç°åœ¨è®¡åˆ’å°†æ‹‚è¡£å¤©æ°”å¼€å‘çš„å®Œæ•´è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œä¸‹é¢æ˜¯æˆ‘å¯¹è¯¥æ•´ä½“å†…å®¹çš„ç¼–å†™è®¡åˆ’ï¼š\nä½†æ˜¯ï¼Œæˆ‘åˆè¦å¼€å§‹è¯´ä½†æ˜¯äº†ã€‚æ‰“å·¥äººè¿˜æ˜¯æ‰“å·¥äººï¼\nå¤©æ°”å°ç¨‹åºäº2022å¹´4æœˆå‰å°±å·²ç»å®Œæˆäº†å¼€å‘ï¼Œç›´è‡³åˆ°ä»Šå¤©ï¼ˆ2022å¹´8æœˆ16æ—¥ï¼‰ä¹Ÿå°±æ‰å®Œæˆäº†ä¸‰ç¯‡æ–‡ç« ï¼Œä¸å¾—ä¸è¯´æ‹–å»¶ç—‡æ˜¯çœŸçš„ä¸¥é‡ã€‚å¤©æ°”å°ç¨‹åºåªæ˜¯ä¸€ä¸ªåº”ç”¨ï¼Œå°±ç›®å‰çš„æŠ•å…¥æ”¶ç›Šæ¥è¯´ï¼Œä¸åº”è¯¥æŠŠè¿‡å¤šçš„æ—¶é—´æ”¾åœ¨å°ç¨‹åºä¸Šé¢ã€‚åœ¨åŠ ä¸Šè·ç¦»å¼€å‘å·²ç»è¿‡å»äº†4ä¸ªæœˆï¼Œå¼€å‘ä¹‹æ—¶å¹¶æ²¡æœ‰è¿›è¡Œæ–‡æ¡£äº§å‡ºï¼Œæ‰€ä»¥ç°åœ¨æ‰è¿›è¡Œå¤ç›˜åˆ™æ˜¯ç›¸å½“äºé‡æ–°å®ç°äº†ä¸€éã€‚å°±ç›®å‰æ¥çœ‹ï¼Œæ ¸å¿ƒçš„è¡Œæ”¿åŒºåˆ’æ•°æ®åˆå¹¶å·²åŸºæœ¬å®Œæˆï¼Œæ‰€ä»¥ï¼Œåé¢å°†æš‚åœå°ç¨‹åºç›¸å…³å†…å®¹ï¼Œå˜æ›´ä¸ºGISåŸºç¡€ä¸è®¡ç®—æœºåŸºç¡€çš„å­¦ä¹ ã€‚\nğŸ’¡ å¯¹çš„ï¼Œåœæ›´è¯´æ˜ã€‚\næ­»ç°å¤ç‡ƒ æ‰“å·¥æ˜¯ä¸å¯èƒ½æ‰“å·¥çš„ï¼Œåªè¦æˆ‘ä¸æ‰“å·¥ï¼Œæˆ‘å°±æœ‰æ—¶é—´äº† ğŸ™„\né‚£å°±ä¿®å¤ã€ä¼˜åŒ–ã€æ–°å¢ ğŸ˜\nBUGä¿®å¤ é€»è¾‘ä¼˜åŒ– æ–‡æ¡£ç¼–å†™ æ–°å¢Webç«¯ã€æ¶ˆæ¯æ¨é€ã€æ¥å…¥AIGC å°†ä½œå“åˆ†äº«ç»™å’Œé£å¤©æ°” æˆ‘è¿˜ç‰¹æ„ç”»äº†ä¸¤å¼ å›¾å‘¢\nå¥½çš„ï¼Œæˆ‘åˆè¦å¼€å§‹è¯´ä½†æ˜¯äº†ã€‚ä½†æ˜¯ï¼Œæˆ‘é”™è¯¯ä¼°è®¡äº†è‡ªå·±çš„ç©ºé—²æ—¶é—´ã€‚æ‰€ä»¥ï¼Œæ— æƒ…çš„é¸½äº†æ–°å¢çš„éƒ¨åˆ†ä»¥åŠæ­¤å‰è®¡åˆ’çš„å¼€å‘è¿‡ç¨‹æ–‡æ¡£ã€‚æˆªè‡³åˆ°2024å¹´3æœˆ12æ—¥ï¼Œå·²å®Œæˆå¦‚ä¸‹å†…å®¹ï¼š\næ—¢æœ‰BUGä¿®å¤\nå…³æ³¨åŸå¸‚ã€ç™»å½•ã€æµ·æŠ¥éƒ¨åˆ†ä¼˜åŒ–\næä¾›Docker Composeè„šæœ¬ï¼ŒåŒæ—¶å°†é˜¿é‡Œäº‘çš„éƒ¨ç½²å…¨éƒ¨å˜æ›´ä¸ºä½¿ç”¨Docker\nç¼–å†™é¡¹ç›®Readmeæ–‡æ¡£\nå·²ç»ç»™å’Œé£å¤©æ°”æäº†ä½œå“åˆ†äº«çš„PRï¼Œå¹¶è”ç³»ä»–ä»¬è¡¨è¾¾äº†è¯‰æ±‚ ğŸ˜ƒ\næ›´æ–°äº†3ç¯‡å¼€å‘è¿‡ç¨‹æ–‡æ¡£\né‚£ä¹ˆï¼Œå°ç¨‹åºçš„ç‰ˆæœ¬ä¹Ÿæ¥åˆ°äº†1.1.12ï¼Œå½“å‰å°±åˆ°è¿™é‡Œäº†ã€‚ ğŸ˜®â€ğŸ’¨\nä»“åº“åœ°å€ï¼š\næœåŠ¡ç«¯ï¼šmicro-weather-backend\nå°ç¨‹åºç«¯ï¼šmicro-weather-wechat\næ–‡æ¡£åº“ï¼šmicro-weather-docs\nå°ç»“ æ‹‚è¡£å¤©æ°”ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒ1.1.9ç‰ˆæœ¬ï¼Œ2024å¹´3æœˆ14æ—¥å‘å¸ƒ1.1.12ç‰ˆæœ¬ï¼Œæ—¶é—´å‡ ä¹è·¨äº†2å¹´ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±75åˆ†ã€‚\næˆ‘çŸ¥é“ï¼Œè¿™ä¸ªä¸œè¥¿æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œæ•´ä½“ä¹Ÿæ˜¯å¾ˆç®€å•ã€‚ä½†æˆ‘å°±æ˜¯æ„Ÿè§‰è¿˜ä¸é”™çš„ï¼Œå“ˆå“ˆå“ˆï¼\nåæ­£è¿™2å¹´é—´ï¼Œæˆ‘å€’æ˜¯ä¸€ç›´åœ¨ç”¨ï¼ŒæœŸé—´åªå‡ºç°å› ä¸ºæ›´æ¢æœåŠ¡å™¨ï¼Œè¯ä¹¦ç­‰é—®é¢˜çŸ­æš‚çš„åœè¿‡å‡ å¤©ã€‚\nä¸è¿‡ï¼Œç»è¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä¹Ÿæ¯”è¾ƒæ¸…æ™°çš„æš´éœ²å‡ºæ¥æˆ‘çš„å‡ ä¸ªé—®é¢˜ï¼š\næ‹–å»¶ç—‡é—®é¢˜ï¼Œæ‰§è¡ŒåŠ›ä¸å¤Ÿé«˜ æ€è€ƒé—®é¢˜ä¸å¤Ÿçº¿æ€§ï¼Œæœ‰äº›æ•£ä¹±ï¼ˆå¥½ ä¹Ÿä¸å¥½ï¼‰ å†™æ–‡æ¡£çš„èƒ½åŠ›æ¯”è¾ƒå·® â˜¹ï¸ æ¯”è¾ƒå†…å‘æ•æ„Ÿï¼Œå½“æ—¶ä¸å¤ªæ•¢æŠŠè‡ªå·±çš„ä¸œè¥¿æ”¾å‡ºæ¥ï¼Œæ€•è¢«äººåˆ«åæ§½ å‰©ä¸‹çš„äº‹æƒ…å°±æ˜¯ï¼Œä¸€ä¸€å…‹æœå’¯ï¼\nå¿«é€Ÿä½“éªŒ å¾®ä¿¡æœç´¢ï¼šæ‹‚è¡£å¤©æ°”\næ‰«æä¸‹æ–¹å°ç¨‹åºç \nå£°æ˜ä¸è‡´è°¢ å¤©æ°”æ•°æ®å‡ç”±å’Œé£å¤©æ°”å…è´¹æä¾› å¤©æ°”å°ç¨‹åºçš„ç•Œé¢è®¾è®¡ä¸äº¤äº’è®¾è®¡ä¸»è¦å‚è€ƒå’Œé£å¤©æ°”APP è¡Œæ”¿åŒºåŸŸæ•°æ®æœ€ç»ˆä½¿ç”¨é”å¤šå®æä¾›çš„çœå¸‚å¿æ•°æ®ï¼Œæˆ‘ä»…åœ¨æ­¤åŸºç¡€ä¸Šåšäº†äº›è®¸å¤„ç† éƒ¨åˆ†å›¾æ ‡æ¥è‡ªé˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ å¤©æ°”é¢„æŠ¥æ¨¡å—çš„å›¾æ ‡ç”±å’Œé£å¤©æ°”æä¾› echartsç»„ä»¶ç”±Apache Echartsæä¾› å°ç¨‹åºå†…åœ°å›¾ç”±è…¾è®¯åœ°å›¾æä¾› å®¹å™¨é•œåƒä»“åº“æœåŠ¡ç”±é˜¿é‡Œäº‘æä¾› ä»£ç ä»“åº“ä»¥åŠæœåŠ¡ç«¯CIç”±Githubæä¾› æ„Ÿè°¢å’Œé£å¤©æ°”ã€Githubã€å¾®ä¿¡ã€è…¾è®¯åœ°å›¾ã€é˜¿é‡Œäº‘ã€é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ã€é”å¤šå®ä»¥åŠæ‰€æœ‰ä¸ºæœ¬é¡¹ç›®æä¾›æ”¯æŒçš„ä¸»ä½“ã€‚\nåæ§½ å®åœ¨æ˜¯ä¸åä¸å¿«â€¦â€¦\nè…¾è®¯åœ°å›¾è‡ªå®šä¹‰æ ·å¼æ”¶è´¹ å…¶å®ï¼Œæˆ‘æ˜¯æƒ³è¯´ä»€ä¹ˆã€‚å°±æ˜¯ä½ æ”¶è´¹æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¯¹äºä¸ªäººå¼€å‘è€…èƒ½ä¸èƒ½å•ç‹¬æ‹‰ä¸ªå¥—é¤å•Šã€‚\nä½ è¯´ä½ è¦æ˜¯399ä¸€å¹´ï¼Œæˆ‘ä¹Ÿå°±å†²äº†ã€‚ä¸€ä¸ªæœˆ399ï¼Œæˆ‘å“ªé‡Œä¹°å¾—èµ·å•Šï¼Œè¿™å°±ä¸æ­ç†ä¸ªäººå¼€å‘çš„äº†å•Š ğŸ™„\nçœ‹ä¸€ä¸‹å‰åçš„å¯¹æ¯”å›¾ï¼Œå·¦è¾¹çš„ä½¿ç”¨äº†ä¸ªæ€§åŒ–åœ°å›¾ï¼Œå³è¾¹çš„å°±æ˜¯é»˜è®¤æ ·å¼äº†ã€‚\né˜¿é‡Œäº‘å…è´¹SSLè¯ä¹¦æ”¶è´¹ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤å‰ä¸€ä¸ªåŸŸåæ¯å¹´æœ‰20ä¸ªå…è´¹çš„å•åŸŸåSSLè¯ä¹¦è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œä½†æ˜¯æ¯ä¸ªå•åŸŸåè¯ä¹¦çš„æœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆã€‚è¦æ˜¯åªæ˜¯ç”¨æ¥æµ‹è¯•å¼€å‘å€’æ˜¯æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå¦‚æˆ‘è¿™è¾¹ï¼Œä¸‰ä¸ªæœˆæ¢ä¸€æ¬¡åŸŸåéƒ¨çš„éº»çƒ¦æ­»ã€‚ä½ åªè¦èŠ±68å—é’±ï¼Œä½ å°±å¯ä»¥è·å¾—ä¸€ä¸ªå’Œæ­¤å‰ä¸€æ‘¸ä¸€æ ·çš„ï¼Œæœ‰æ•ˆæœŸ12ä¸ªæœˆçš„å•åŸŸåè¯ä¹¦ ğŸ˜¯\nå¾®ä¿¡å°ç¨‹åºè®¤è¯æ”¶è´¹ æ€»ä½“æ¥è¯´ï¼Œå°±æ˜¯ï¼š\nä¸€å¹´ä¸€å®¡ å®¡æ ¸è´¹ç”¨æŒ‰æ¬¡æ•°æ”¶è´¹ï¼Œå¤±è´¥ä¹Ÿæ˜¯è¦æ”¶è´¹çš„å“¦ æˆ‘ä»˜äº†30å…ƒï¼Œä¹Ÿå°±æ˜¯30å…ƒ/æ¬¡ã€‚æˆ‘æ˜¯ä¸ªäººè®¤è¯ï¼Œä¸æ˜¯ä¼ä¸š å±•æœ› æ‹‚è¡£å¤©æ°”ï¼ˆå¾®å¤©æ°”ï¼‰æ²¡åšå®Œçš„å†…å®¹ï¼Œæˆ‘è‚¯å®šè¿˜æ˜¯ä¼šç»§ç»­åšçš„ï¼Œä¸è¿‡å†…å®¹å¯èƒ½ä¼šè·Ÿéšç€è§é—»å‘ç”Ÿå˜åŒ–ã€‚åªä¸è¿‡å½“å‰å®ƒæš‚åœäº†ï¼Œå› ä¸ºæˆ‘è¿˜æœ‰æ›´é‡è¦çš„ä¸œè¥¿è¦å†™ã€‚\nä¸‹ä¸€ä¸ªè¦åšçš„å°±æ˜¯ï¼šåœ°å›¾æœåŠ¡ç¨‹åºï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»å¦‚Geoserverçš„ä¸­é—´æœåŠ¡ç¨‹åºï¼Œä½†æ˜¯å®ƒéœ€è¦æ˜¯ç®€å•çš„ï¼Œæ›´å®¹æ˜“ä¸Šæ‰‹çš„ï¼Œä»¥MVTä¸ºä¸»çš„ï¼Œç¨‹åºæ€§èƒ½å’Œç“¦ç‰‡è´¨é‡æ›´å¥½çš„ç¨‹åºã€‚\nå°±å¦‚åŒgeojson-vtä¸€æ ·çš„ç²¾ç®€ï¼Œä½†å´æ˜¯å®ç”¨çš„ã€‚\næ¯•ç«Ÿï¼Œæˆ‘æ˜¯ä¸€åä»¥æœåŠ¡ç«¯å¼€å‘ä¸ºä¸»çš„GISå¼€å‘å·¥ç¨‹å¸ˆ ğŸ«¡\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/009/","summary":"èµ·æº å¤©æ°”å°ç¨‹åºäº§ç”Ÿäº2022å¹´å¹´åˆï¼Œç›®çš„æ˜¯ç”¨äºéªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘ï¼ˆä»…å‰åç«¯ï¼‰çš„èƒ½åŠ›ã€‚\nå—æ–°å† ç–«æƒ…å½±å“ï¼Œ2022å¹´çš„æ˜¥èŠ‚æ˜¯åœ¨æ­å·è¿‡çš„ã€‚è¿˜è®°å¾—å½“æ—¶é™„è¿‘å¥½å‡ ä¸ªåœ°æ–¹éƒ½è¢«åˆ’ä¸ºäº†é«˜é£é™©ï¼Œå¯¹æ•´ä¸ªåŒºè¿›è¡Œäº†ç®¡æ§ã€‚å¦‚æœé€‰æ‹©å›å®¶çš„è¯ï¼Œå¾—åˆ°å°†æ˜¯14å¤©çš„éš”ç¦»ï¼Œè¿˜ä¸ç¡®å®šèƒ½å¦å›æ¥ä¸Šç­ã€‚å› æ­¤ä¾¿æ²¡æœ‰å›å»äº†ã€‚å¥½åœ¨æ‰€åœ¨çš„åŒºåŸŸæƒ…å†µå¹¶æ²¡æœ‰é‚£ä¹ˆçš„ä¸¥é‡ï¼Œè¿˜æ˜¯å¯ä»¥å»ä¹°èœçš„ã€‚é¢†äº†æ¶ˆè´¹åˆ¸ï¼Œå†åŠ ä¸Šå…¬å¸å‘çš„å¹´è´§ï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆç³Ÿç³•ã€‚\næ‰€ä»¥ï¼Œæ—¢ç„¶æ²¡æœ‰å›å»ï¼Œåˆæœ‰åæ¥å¤©çš„æ—¶é—´ï¼Œæ€»å¾—åšç‚¹ä»€ä¹ˆä¸œè¥¿æ‰è¡Œï¼Œå¯¹å§ ğŸ™„ï¼\n2022å¹´ï¼Œæ˜¯æˆ‘å·¥ä½œçš„ç¬¬å››ä¸ªå¹´å¤´ã€‚å—å¤šæ–¹é¢çš„ä¿¡æ¯å½±å“ï¼Œæˆ‘ä¹Ÿæƒ³çœ‹çœ‹éªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘ï¼ˆä»…å‰åç«¯ï¼‰çš„èƒ½åŠ›ã€‚\nå†ç¨‹ æ‹‚è¡£å¤©æ°”ï¼Œåˆåå¾®å¤©æ°”ã€‚\nä¸€ä¸ªé›†åœ°ç†ä¿¡æ¯ä¸å¤©æ°”é¢„æŠ¥ä¸ºä¸€ä½“çš„å¤©æ°”é¢„æŠ¥ç±»å°ç¨‹åºï¼Œç•Œé¢ç²¾ç¾ï¼Œä½¿ç”¨ä¾¿æ·ã€‚ã€è‡´æ•¬ï¼šå’Œé£å¤©æ°”ã€‘ï¼\nğŸ’¡ ä¸»è¦æ˜¯æœ‰äººç»™æˆ‘è¯´æ‹‚è¡£å¤©æ°”ï¼Œå¬ç€è¿˜ä»¥ä¸ºæ˜¯å–è¡£æœçš„ã€‚soï¼Œæˆ‘å°±æƒ³ç€æ¢ä¸ªåå­—ï¼Œå°±æœ‰äº†å¾®å¤©æ°”ã€‚ä½†æ˜¯ç”±äºå¾®ä¿¡è®¤è¯çš„åŸå› ï¼Œæ‰€ä»¥æœ‰äº›åœ°æ–¹è¿˜æ˜¯æ‹‚è¡£å¤©æ°”ã€‚ç°åœ¨ç»†ç»†æƒ³æ¥ï¼Œå¥½åƒä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œé‚£å°±å…ˆè¿™æ ·å§ ğŸ™„\nè¯¥é¡¹ç›®ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬ï¼ˆ1.1.9ï¼‰ï¼Œæ€»ä½“è€—æ—¶2ä¸ªæœˆé›¶7å¤©ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±70åˆ†ã€‚ æ­¤å‰å®åœ¨æ˜¯æ²¡æœ‰ç»éªŒï¼Œä¹Ÿæ²¡æœ‰ç›¸å…³çš„ä¹ æƒ¯ï¼Œå¤©æ°”å°ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰ç¼–å†™ç›¸å…³çš„æ–‡æ¡£ã€‚æ‰€ä»¥åœ¨å°ç¨‹åºå¼€å‘å®Œæˆä¹‹åï¼Œæœ¬æ¥è®¡åˆ’æ˜¯å°†æ‹‚è¡£å¤©æ°”å®Œæ•´çš„å¼€å‘è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œå¹¶å°†è¯¥é¡¹ç›®å¼€æºå‡ºå»ï¼Œç”šè‡³è¿˜æƒ³å°†è¯¥é¡¹ç›®æäº¤ç»™å’Œé£å¤©æ°”ã€‚ä½†æœ€åçš„ç»“æœå°±æ˜¯ï¼šæ–‡ç« å°±å®Œæˆäº†å››ç¯‡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¼€å¤´ï¼Œæ²¡å•¥å®é™…å†…å®¹ã€‚@time 2022å¹´8æœˆ16æ—¥ å¥½çš„ï¼Œç°åœ¨æ—¶é—´æ¥åˆ°2023å¹´12æœˆï¼Œæˆ‘åˆæœ‰ç‚¹æ—¶é—´äº†ï¼Œå› ä¸ºæˆ‘ç¦»èŒäº†ï¼ˆä¸æ˜¯è¢«è£ï¼‰ã€‚è¿™æ¬¡çš„ç›®æ ‡æ˜¯å®Œå–„æ–‡æ¡£ï¼Œä¿®å¤å‘ç°çš„ä¸€äº›BUGï¼Œç„¶åæ–°å¢ä¸€äº›å†…å®¹ï¼Œæœ€ç»ˆå°†è¯¥å°ç¨‹åºå¼€æºï¼Œå¹¶è´¡çŒ®ç»™å’Œé£å¤©æ°”ã€‚ æ¥ä¸‹æ¥ï¼Œè®©æˆ‘æ¥å›å¿†ä¸€ä¸‹æ¯ä¸ªé˜¶æ®µçš„è¯¦ç»†å†…å®¹ ğŸ¤”\né¡¹ç›®åˆå§‹ ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°åšä¸€ä¸ªå¤©æ°”å°ç¨‹åºå‘¢ï¼Ÿ\nå—¯ï¼Œé¦–å…ˆæˆ‘æ˜¯ä¸€ä¸ªåšæœåŠ¡ç«¯å¼€å‘çš„GISå¼€å‘å·¥ç¨‹å¸ˆã€‚åœ¨å½“æ—¶åˆšç»“æŸä¸€ä¸ªå°ç¨‹åºçš„å¼€å‘å·¥ä½œï¼Œè§‰å¾—å°ç¨‹åºè¿™ä¸ªä¸œè¥¿è¿˜æŒºæœ‰æ„æ€ã€‚åŒæ—¶å—åˆ°å‘¨è¾¹å„ç§ä¿¡æ¯çš„å½±å“ï¼Œä¹Ÿæƒ³è¯•ä¸€è¯•å†™ç‚¹å‰ç«¯çš„å†…å®¹ï¼Œæœ€å¥½æ˜¯å¯ä»¥æ–¹ä¾¿å‘å¸ƒçš„é‚£ç§ï¼Œä¹Ÿç®—æ˜¯è‡ªå·±çš„ä½œå“ä¸æ˜¯ã€‚ä¸ºä»€ä¹ˆä¼šé€‰æ‹©å¤©æ°”ç±»åˆ«ï¼Œå¥½åƒæ˜¯å½“æ—¶åˆ·ç½‘é¡µè¿˜æ˜¯ä»€ä¹ˆï¼Œçœ‹åˆ°ä¸€ä¸ªäººåˆ†äº«è‡ªå·±åšäº†ä¸€ä¸ªå¤©æ°”æœºå™¨äººï¼Œç„¶åç»™å¥³æœ‹å‹æ¨å¤©æ°”ä¿¡æ¯ã€‚soï¼Œ ğŸ«£\næ‰€ä»¥ï¼Œæˆ‘å½“æ—¶å°±æƒ³åšä¸€ä¸ªå¤©æ°”ç±»åˆ«çš„å°ç¨‹åºï¼Œä»¥æ­¤è¿›è¡Œå…¨æ ˆå¼€å‘èƒ½åŠ›çš„è¯•ç‚¼ã€‚æˆ‘æƒ³è¿™ä¼šæ˜¯ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºã€æ˜¯ä¸€ä¸ªå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å°ç¨‹åºï¼Œä»¥Javaè¿›è¡ŒæœåŠ¡ç«¯å¼€å‘ï¼Œä»¥Mapboxå®ç°å¤©æ°”æ•°æ®å¯è§†åŒ–ã€‚\næœ¬é˜¶æ®µäº‹åŠ¡åˆ†ä¸ºäº†ä¸‰ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼šè°ƒç ”ã€å­¦ä¹ ã€å®ç°\nè°ƒç ” å¤©æ°”å°ç¨‹åºä»€ä¹ˆæœ€é‡è¦ï¼Ÿå½“ç„¶æ˜¯å¤©æ°”æ•°æ®æœ€ä¸ºé‡è¦ï¼Œæ‰€ä»¥é¦–è¦å†…å®¹ä¾¿æ˜¯ç¡®å®šå¤©æ°”æ•°æ®çš„æ¥æºã€‚å…¶æ¬¡ä¾¿æ˜¯ç¡®å®šæœ¬æ¬¡å¤©æ°”å°ç¨‹åºçš„æŠ€æœ¯å®ç°æ„æˆã€‚\nå¤©æ°”æ•°æ®\nå¤©æ°”æ•°æ®éœ€è¦æ˜¯çœŸå®çš„ã€å¯ç”¨çš„ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡ç½‘ç»œä¸­æä¾›çš„å¤©æ°”APIè¿›è¡Œè·å–ã€‚\né€šè¿‡ä¸€å®šçš„æ£€ç´¢åï¼Œæˆ‘é€‰å®šäº†ä¸¤ä¸ªå¤©æ°”å¹³å°ï¼Œåˆ†åˆ«æ˜¯ï¼šå’Œé£å¤©æ°”ã€å¿ƒçŸ¥å¤©æ°”ã€‚\né«˜å¾·å¤©æ°”ï¼šå¤§å¹³å°ï¼Œä½†æ˜¯ç›®å‰æœåŠ¡ç±»ç›®æ¯”è¾ƒå°‘\nå½©äº‘å¤©æ°”ï¼šå…è´¹æ¥å£å‡ ä¹æ²¡æœ‰ï¼Œæ”¶è´¹åˆå¤ªè´µ\nå¿ƒçŸ¥å¤©æ°”\nå¿ƒçŸ¥å¤©æ°”è¯•ç”¨ç‰ˆä¸å¼€å‘è€…ç‰ˆå¼€å‘äº§å“å‡ ä¹ç­‰åŒï¼Œä¸”å¼€å‘è€…ç‰ˆæ”¶è´¹ä¹Ÿä¸è´µã€‚æœ€ä¸ºå…³é”®çš„æ˜¯ï¼Œæ”¯æŒä»¥ç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå’Œé£å¤©æ°”\nå‡ ä¹å¯ä»¥å…è´¹ä½¿ç”¨å…¶æä¾›çš„æ‰€æœ‰ APIï¼Œä¸”åŒæ ·æ”¯æŒç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå¯¹æ¯”äº†è¿™ä¸¤è€…ï¼Œå‘ç°è‡³å°‘éƒ½éœ€è¦æ³¨å†Œä¸ºå¼€å‘è€…ä¹‹åï¼Œæ‰å¯ä»¥è¾ƒå¥½çš„ä½¿ç”¨å…¶æœåŠ¡ã€‚ä¸”ä¸¤è€…çš„å¼€å‘è€…è®¤è¯å‡éœ€è¦å®åã€‚\nå…³äºå¤©æ°”APIçš„é€‰æ‹©ï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©äº†å’Œé£å¤©æ°”ï¼Œå€’ä¸æ˜¯å› ä¸ºå®ƒå¯ä»¥å…è´¹ä½¿ç”¨ã€‚å…¶å®ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æˆ‘æ›´å€¾å‘äºä½¿ç”¨å¿ƒçŸ¥å¤©æ°”ï¼Œå› ä¸ºå®ƒè¿˜å¯ä»¥ç›´æ¥æŸ¥æ˜¨å¤©çš„å¤©æ°”ï¼ˆå’Œé£å¯¹äºå†å²å¤©æ°”çš„æŸ¥è¯¢æ¯”è¾ƒéº»çƒ¦ï¼‰ã€‚ä½†æ˜¯å’Œé£å¤©æ°”é¦–é¡µç»“åˆäº†åœ°å›¾è¿›è¡Œå¯è§†åŒ–ï¼Œè€Œä¸”è¿˜æä¾›æœ‰APPå¯ä»¥ä½¿ç”¨ï¼ˆæ–¹ä¾¿å‚è€ƒï¼‰ã€‚å†åŠ ä¸Šï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œå…¶å®æˆ‘å¹¶æ²¡æœ‰è¿«åˆ‡çš„éœ€è¦çŸ¥é“æ˜¨å¤©çš„å¤©æ°”æƒ…å†µã€‚ ğŸ™„\nğŸ’¡ å…¶å®æœ€é‡è¦çš„åŸå› åœ¨äºï¼šæˆ‘å…ˆæ³¨å†Œäº†å¿ƒçŸ¥å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œè¿‡äº†åŠå¤©åå†å»æ³¨å†Œäº†å’Œé£å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œä½†æ˜¯æœ€å…ˆé€šè¿‡å®¡æ ¸çš„æ˜¯å’Œé£å¤©æ°”ï¼ˆè€—æ—¶å¤§æ¦‚ä¹Ÿå°±åŠå¤©å·¦å³ï¼Œæˆ‘æ˜¯åœ¨æ˜¥èŠ‚æœŸé—´æ³¨å†Œçš„å•Šï¼‰ã€‚\næŠ€æœ¯å®ç°æ„æˆ\nè¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—æ†¾ï¼Œå°ç¨‹åºåŸç”Ÿå¹¶ä¸æ”¯æŒä½¿ç”¨å¦‚mapboxè¿™æ ·çš„ç¬¬ä¸‰æ–¹åœ°å›¾æ¡†æ¶ï¼Œåˆå§‹æƒ³æ³•æ˜¯é€šè¿‡webviewçš„æ–¹å¼ä½¿ç”¨mapboxï¼Œä½†æ˜¯é—æ†¾çš„æ˜¯ï¼Œwebviewå¹¶ä¸å¯¹ä¸ªäººç±»å‹çš„å°ç¨‹åºå¼€æ”¾ä½¿ç”¨ã€‚\næ‰€ä»¥ï¼Œé€€è€Œæ±‚å…¶æ¬¡ï¼Œé€‰æ‹©è…¾è®¯åœ°å›¾ï¼ˆåŠå…¶æä¾›çš„æ ·å¼ï¼‰å®ç°åœ°å›¾æµè§ˆã€‚\næœåŠ¡ç«¯ç¨‹åºåˆ™ä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œå¤©æ°”æ•°æ®æ˜¯ç»è¿‡æœåŠ¡ç«¯ä»£ç†çš„æ–¹å¼å½¢æˆå†…éƒ¨çš„æ•°æ®æ¥å£ï¼Œå¹¶éæ˜¯å°ç¨‹åºç›´æ¥è°ƒç”¨å’Œé£çš„æ¥å£\næœ€ç»ˆå°†æœåŠ¡ç«¯ç¨‹åºéƒ¨ç½²åˆ°é˜¿é‡Œäº‘\nå­¦ä¹  æˆ‘æ˜¯ä¸€ä¸ªåç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸æ€ä¹ˆä¼šå†™é¡µé¢ï¼Œæˆ‘ç‰¹åˆ«çš„è®¨åŒå†™CSSã€‚æˆ‘ä¹Ÿæ²¡æœ‰æ¥è§¦è¿‡å‰ç«¯å¼€å‘å’Œå¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œæ‰€ä»¥éœ€è¦æå‰å‚¨å¤‡ä¸€ä¸‹ç›¸å…³çŸ¥è¯†ã€‚\nå‰ç«¯çŸ¥è¯†\næˆ‘å¹¶æ²¡æœ‰æƒ³è¦ç²¾é€šå‰ç«¯æŠ€æœ¯ï¼Œä½†æ˜¯æˆ‘éœ€è¦æ¯”è¾ƒä½“ç³»çš„äº†è§£ä¸€ä¸‹å‰ç«¯æŠ€æœ¯ï¼Œæ–¹ä¾¿è¿›è¡Œå°ç¨‹åºå¼€å‘ã€‚æ‰€ä»¥æˆ‘åœ¨Bç«™æ‰¾äº†ä¸¤é—¨å‰ç«¯è§†é¢‘å­¦ä¹ ï¼ˆç²—ç•¥çš„åˆ·äº†ä¸€éï¼‰\nå°šç¡…è°·Webå‰ç«¯é›¶åŸºç¡€å…¥é—¨HTML5+CSS3åŸºç¡€æ•™ç¨‹ä¸¨åˆå­¦è€…ä»å…¥é—¨åˆ°ç²¾é€š åƒé”‹webå‰ç«¯å¼€å‘é¡¹ç›®æ•™ç¨‹_1000é›†å®Œå…¨é›¶åŸºç¡€å…¥é—¨HTML5+CSS3+JSåˆ°ç²¾é€š å¾®ä¿¡å°ç¨‹åºçŸ¥è¯†\nå…¶å®å°±çœ‹å®˜æ–¹æ–‡æ¡£å°±è¶³å¤Ÿäº†ï¼Œä¸è¿‡å¿ƒè™šçš„æˆ‘è¿˜æ˜¯åœ¨æå®¢æ—¶é—´æ‰¾äº†é—¨è¯¾ã€‚æœ€ç»ˆå‘ç°ï¼šå°±å®˜æ–¹æ–‡æ¡£å°±è¶³å¤Ÿäº†ï¼Œå› ä¸ºæˆ‘å¹¶ä¸éœ€è¦å¾ˆæ·±å…¥çš„ä¸œè¥¿\nå®ç° åœ¨æœ‰ä¸€å®šå‡†å¤‡åï¼Œå°±å¼€å§‹è¿›å…¥å®ç°ç¯èŠ‚äº†ã€‚\nåœ¨è¿™é‡Œæœ‰ä¸€ä¸ªå¤§é—®é¢˜å°±æ˜¯UIè®¾è®¡é—®é¢˜ï¼Œæˆ‘çœ‹å’Œé£å¤©æ°”APPå°±æŒºå¥½çœ‹çš„ï¼Œæœ‰å¤©æ°”æœ‰åœ°å›¾ï¼Œèº«ä¸ºGISå¼€å‘çš„æˆ‘å°±å¾ˆå–œæ¬¢ã€‚åˆå‘ç°æ— è®ºæ˜¯å’Œé£å¤©æ°”å®˜æ–¹ï¼Œè¿˜æ˜¯å…¶ä»–å¤©æ°”å°ç¨‹åºåº”ç”¨ï¼ŒåŸºæœ¬éƒ½æ²¡æœ‰æºå¸¦åœ°å›¾çš„ã€‚\næ‰€ä»¥ï¼Œæˆ‘å½“å³å†³å®šå‚è€ƒå’Œé£å¤©æ°”å®˜æ–¹APPç•Œé¢ï¼Œåšä¸€ä¸ªç±»ä¼¼çš„å¤©æ°”å°ç¨‹åºã€‚å½“ç„¶ï¼Œæˆ‘åšçš„è¿™ä¸ªå°ç¨‹åºå°±æ˜¯å¥”ç€å¼€æºï¼ŒåŒæ—¶å°†ä½œä¸ºä½œå“åˆ†äº«ç»™å’Œé£å¤©æ°”ï¼Œæ‰æƒ³ç€å¦‚æ­¤æ“ä½œçš„ã€‚è¯·åŠ¡å¿…æ…é‡ ğŸ¤”\nåœ¨ç»è¿‡ç®€å•çš„è®¾è®¡è¿‡åï¼Œäº2022å¹´1æœˆ18æ—¥æ­£å¼è¿›è¡Œå¼€å‘ï¼Œ2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬1.1.9ã€‚\næ–‡æ¡£è¡¥å…… ä»Šå¤©å·çš„æ‡’ï¼Œæ˜å¤©éƒ½ä¼šè®©ä½ åŠ å€è¿˜å›æ¥ã€‚æ­¤å‰ä¸€æ˜¯æ²¡æ„è¯†ï¼ŒäºŒæ˜¯è®¤ä¸ºæ²¡å¿…è¦ï¼Œä¸‰è¿˜æ˜¯å¤ªæ‡’ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰åŒæ­¥ç¼–å†™æ–‡æ¡£ã€‚\nç°åœ¨è®¡åˆ’å°†æ‹‚è¡£å¤©æ°”å¼€å‘çš„å®Œæ•´è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œä¸‹é¢æ˜¯æˆ‘å¯¹è¯¥æ•´ä½“å†…å®¹çš„ç¼–å†™è®¡åˆ’ï¼š\nä½†æ˜¯ï¼Œæˆ‘åˆè¦å¼€å§‹è¯´ä½†æ˜¯äº†ã€‚æ‰“å·¥äººè¿˜æ˜¯æ‰“å·¥äººï¼\nå¤©æ°”å°ç¨‹åºäº2022å¹´4æœˆå‰å°±å·²ç»å®Œæˆäº†å¼€å‘ï¼Œç›´è‡³åˆ°ä»Šå¤©ï¼ˆ2022å¹´8æœˆ16æ—¥ï¼‰ä¹Ÿå°±æ‰å®Œæˆäº†ä¸‰ç¯‡æ–‡ç« ï¼Œä¸å¾—ä¸è¯´æ‹–å»¶ç—‡æ˜¯çœŸçš„ä¸¥é‡ã€‚å¤©æ°”å°ç¨‹åºåªæ˜¯ä¸€ä¸ªåº”ç”¨ï¼Œå°±ç›®å‰çš„æŠ•å…¥æ”¶ç›Šæ¥è¯´ï¼Œä¸åº”è¯¥æŠŠè¿‡å¤šçš„æ—¶é—´æ”¾åœ¨å°ç¨‹åºä¸Šé¢ã€‚åœ¨åŠ ä¸Šè·ç¦»å¼€å‘å·²ç»è¿‡å»äº†4ä¸ªæœˆï¼Œå¼€å‘ä¹‹æ—¶å¹¶æ²¡æœ‰è¿›è¡Œæ–‡æ¡£äº§å‡ºï¼Œæ‰€ä»¥ç°åœ¨æ‰è¿›è¡Œå¤ç›˜åˆ™æ˜¯ç›¸å½“äºé‡æ–°å®ç°äº†ä¸€éã€‚å°±ç›®å‰æ¥çœ‹ï¼Œæ ¸å¿ƒçš„è¡Œæ”¿åŒºåˆ’æ•°æ®åˆå¹¶å·²åŸºæœ¬å®Œæˆï¼Œæ‰€ä»¥ï¼Œåé¢å°†æš‚åœå°ç¨‹åºç›¸å…³å†…å®¹ï¼Œå˜æ›´ä¸ºGISåŸºç¡€ä¸è®¡ç®—æœºåŸºç¡€çš„å­¦ä¹ ã€‚\nğŸ’¡ å¯¹çš„ï¼Œåœæ›´è¯´æ˜ã€‚\næ­»ç°å¤ç‡ƒ æ‰“å·¥æ˜¯ä¸å¯èƒ½æ‰“å·¥çš„ï¼Œåªè¦æˆ‘ä¸æ‰“å·¥ï¼Œæˆ‘å°±æœ‰æ—¶é—´äº† ğŸ™„","title":"å¾®å¤©æ°” ç»ˆç¯‡"},{"content":"å‰è¨€ æœåŠ¡ç«¯éƒ¨ç½²ï¼šç”±äºå¹¶æ²¡æœ‰å»ºç«‹å…¨é“¾è·¯çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œç›®å‰è¿˜éœ€è¦åˆ°äº‘æœåŠ¡å™¨ä¸Šè¿›è¡Œç¯å¢ƒåˆ¶ä½œï¼ˆæ•°æ®åº“ï¼ŒNginxï¼‰ï¼Œå¹¶æ‹‰å–åç«¯æœåŠ¡è¿›è¡Œéƒ¨ç½² å°ç¨‹åºå‘å¸ƒï¼šéœ€è¦å…ˆå®ŒæˆæœåŠ¡ç«¯éƒ¨ç½²ï¼Œä¿è¯åº”ç”¨æ­£å¸¸å¯ç”¨ æœåŠ¡ç«¯éƒ¨ç½² æ•°æ®åº“å®‰è£…ä¸æ•°æ®åˆå§‹åŒ– æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘æ˜¯ç›´æ¥å°†åœ¨æ“ä½œç³»ç»Ÿä¸Šé¢å®‰è£…æ•°æ®åº“ï¼Œåé¢å‘ç°è¿ç§»çš„æ—¶å€™è¿˜æ˜¯ä¸æ–¹ä¾¿ï¼Œå³ä½¿æˆ‘å¯ä»¥æ”¾å¼ƒæ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦é‡æ–°åˆ›å»ºæ•°æ®è¡¨ç»“æ„ã€‚\næ‰€ä»¥ï¼Œåœ¨è¿™ä¸€æ¬¡ä¸­ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªDockerfileè„šæœ¬ï¼Œä½¿ç”¨ä¸€ä¸ªç©ºæ•°æ®åº“ä½œä¸ºæ¨¡æ¿ï¼Œæ„å»ºäº†postgisé•œåƒã€‚åŸºäºæ­¤ï¼Œæˆ‘å¯ä»¥å®ç°å¿«é€Ÿçš„è¿ç§»ä¸éƒ¨ç½²ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§è´¨çš„å°ç¨‹åºï¼Œæ‰€ä»¥æ•°æ®èµ„äº§å¹¶ä¸æ˜¯ååˆ†é‡è¦ï¼ˆå¹¶ä¸æ˜¯è¯´ä¸å®‰å…¨ï¼Œè€Œæ˜¯æˆ‘å¯ä»¥ä¸¢å¼ƒï¼‰ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥å®‰å¿ƒçš„ä½¿ç”¨dockeræŠ€æœ¯ã€‚åœ¨åˆå§‹åŒ–postgiså®¹å™¨çš„æ—¶å€™ï¼Œä¼šåŒæ­¥é‡Šæ”¾æ¨¡æ¿ä»¥åˆ›å»ºæ•°æ®åº“ã€‚è¿™å°†ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚æœé‡æ–°åˆ›å»ºå®¹å™¨ï¼Œé‚£ä¹ˆå°†ä¼šå¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„æ•°æ®åº“ã€‚å½“ç„¶ä½ å¯ä»¥æŠŠæ•°æ®åº“çš„dataç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºä¸Šï¼Œåº”è¯¥å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\ndocker build -t registry.cn-hangzhou.aliyuncs.com/fuyi-atlas/micro-weather-postgis:12-3.4 . æœ€åï¼Œæˆ‘åœ¨æœ¬åœ°å®Œæˆè¯¥é•œåƒçš„åˆ¶ä½œåï¼Œå°†å…¶æ¨é€åˆ°æˆ‘çš„é˜¿é‡Œäº‘é•œåƒä»“åº“ä¸­ï¼Œä¾¿äºåç»­ä½¿ç”¨ã€‚ä½ å¯ä»¥æ³¨å†Œä¸€ä¸ªé˜¿é‡Œäº‘è´¦æˆ·å»å…è´¹å¯ç”¨ä¸ªäººç‰ˆçš„é•œåƒä»“åº“ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨dockerhubã€‚\ndocker push registry.cn-hangzhou.aliyuncs.com/fuyi-atlas/micro-weather-postgis:latest åº”ç”¨éƒ¨ç½² äºæœ¬åœ°å®Œæˆé•œåƒåˆ¶ä½œï¼Œå¹¶æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“ä¸­ã€‚\nä¸ºäº†æ›´æ–¹ä¾¿çš„è¿›è¡Œéƒ¨ç½²ï¼Œæˆ‘ç¼–å†™äº†docker composeè„šæœ¬ï¼Œç”¨äºå°†æ•°æ®åº“ä¸åº”ç”¨æœåŠ¡ç«¯ç¨‹åºä¸€å¹¶å¯åŠ¨ã€‚ç›®å‰ç¨‹åºä¸­æœ‰ä¸€ä¸ªæµ·æŠ¥åˆ†äº«çš„åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½å®ç°ä¸­éœ€è¦ä¸€äº›é¢å¤–çš„ä¸­æ–‡å­—ä½“çš„æ”¯æŒï¼Œæ‰€ä»¥éœ€è¦å°†æ­¤éƒ¨åˆ†ä¸­æ–‡å­—ä½“æ”¾ç½®åˆ°å®¿ä¸»æœºçš„æŸä¸ªç›®å½•ä¸‹ï¼Œå¹¶åœ¨ç¯å¢ƒå˜é‡ä¸­æŒ‡å®šè¯¥ç›®å½•ï¼Œè„šæœ¬ä¸­ä¼šå°†è¯¥ç›®å½•æ˜ å°„è¯¥åˆ°å®¹å™¨å†…çš„/usr/share/fontsç›®å½•ä¸‹\nå¯¹äºå›¾ç‰‡è®¿é—®ï¼Œè¿˜æ˜¯å»¶ç»­æ­¤å‰çš„å®ç°ï¼Œå³åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆåˆ†äº«æµ·æŠ¥ï¼Œå­˜å‚¨åˆ°æœ¬åœ°ï¼ˆæŒ‡æœåŠ¡å™¨ç£ç›˜ï¼‰ï¼Œè€Œåé€šè¿‡Nginxä»£ç†è®¿é—®ã€‚ç”±äºç›®å‰çš„æœåŠ¡å™¨æˆ‘æ˜¯ä¸ä»–äººå…±ç”¨ï¼ŒåŒæ—¶è¿˜éœ€è¦é…ç½®åŸŸåè¯ä¹¦ï¼Œæ‰€ä»¥æš‚æ—¶æ²¡æœ‰å°†Nginxçš„éƒ¨ç½²åŒæ­¥æ”¾ç½®åˆ°docker composeè„šæœ¬ä¸­ã€‚\nğŸ’¡ ç”±äºéƒ¨ç½²ä¸­éœ€è¦æä¾›éƒ¨åˆ†æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šå°ç¨‹åºçš„å¯†é’¥ã€å¤©æ°”åº”ç”¨çš„keyã€dockeré•œåƒä»“åº“åœ°å€ã€‚æˆ‘å°†æ‰€æœ‰ä¿¡æ¯ä»¥ç¯å¢ƒå˜é‡çš„æ–¹å¼è¿›è¡Œå ä½ï¼Œé€šè¿‡docker composeçš„ç¯å¢ƒå˜é‡è¿›è¡Œæ›¿æ¢ï¼Œå³.envæ–‡ä»¶\nå°ç¨‹åºå‘å¸ƒ å°ç¨‹åºç«¯çš„å‘å¸ƒå°±æ¯”è¾ƒç®€å•äº†\nå…ˆå°†base_urlæ›´æ¢ä¸ºæ­£å¼ç¯å¢ƒçš„åœ°å€ï¼ˆæˆ‘æ²¡æœ‰æäº¤æ­¤éƒ¨åˆ†ä»£ç ï¼Œä½ å¯ä»¥è‡ªå·±æ›´æ”¹ï¼‰ æœ¬æ¬¡è°ƒè¯•æ²¡æœ‰é—®é¢˜åï¼Œå°±å¯ä»¥ä¸Šä¼ ä»£ç ï¼Œå³æäº¤ä¸ºä½“éªŒç‰ˆæœ¬ è€Œåä½¿ç”¨ä½“éªŒç‰ˆæœ¬æµ‹è¯•æ²¡æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥æäº¤å®¡æ ¸ å®¡æ ¸é€šè¿‡åï¼Œå°±å¯ä»¥å‘å¸ƒäº† æ€»ä½“æ¥çœ‹ï¼Œæœ¬æ¬¡å‘å¸ƒå¾ˆé¡ºåˆ©ï¼Œå®¡æ ¸åœ¨ååˆ†é’Ÿå°±é€šè¿‡äº†ã€‚\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/008/","summary":"å‰è¨€ æœåŠ¡ç«¯éƒ¨ç½²ï¼šç”±äºå¹¶æ²¡æœ‰å»ºç«‹å…¨é“¾è·¯çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œç›®å‰è¿˜éœ€è¦åˆ°äº‘æœåŠ¡å™¨ä¸Šè¿›è¡Œç¯å¢ƒåˆ¶ä½œï¼ˆæ•°æ®åº“ï¼ŒNginxï¼‰ï¼Œå¹¶æ‹‰å–åç«¯æœåŠ¡è¿›è¡Œéƒ¨ç½² å°ç¨‹åºå‘å¸ƒï¼šéœ€è¦å…ˆå®ŒæˆæœåŠ¡ç«¯éƒ¨ç½²ï¼Œä¿è¯åº”ç”¨æ­£å¸¸å¯ç”¨ æœåŠ¡ç«¯éƒ¨ç½² æ•°æ®åº“å®‰è£…ä¸æ•°æ®åˆå§‹åŒ– æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘æ˜¯ç›´æ¥å°†åœ¨æ“ä½œç³»ç»Ÿä¸Šé¢å®‰è£…æ•°æ®åº“ï¼Œåé¢å‘ç°è¿ç§»çš„æ—¶å€™è¿˜æ˜¯ä¸æ–¹ä¾¿ï¼Œå³ä½¿æˆ‘å¯ä»¥æ”¾å¼ƒæ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦é‡æ–°åˆ›å»ºæ•°æ®è¡¨ç»“æ„ã€‚\næ‰€ä»¥ï¼Œåœ¨è¿™ä¸€æ¬¡ä¸­ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªDockerfileè„šæœ¬ï¼Œä½¿ç”¨ä¸€ä¸ªç©ºæ•°æ®åº“ä½œä¸ºæ¨¡æ¿ï¼Œæ„å»ºäº†postgisé•œåƒã€‚åŸºäºæ­¤ï¼Œæˆ‘å¯ä»¥å®ç°å¿«é€Ÿçš„è¿ç§»ä¸éƒ¨ç½²ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§è´¨çš„å°ç¨‹åºï¼Œæ‰€ä»¥æ•°æ®èµ„äº§å¹¶ä¸æ˜¯ååˆ†é‡è¦ï¼ˆå¹¶ä¸æ˜¯è¯´ä¸å®‰å…¨ï¼Œè€Œæ˜¯æˆ‘å¯ä»¥ä¸¢å¼ƒï¼‰ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥å®‰å¿ƒçš„ä½¿ç”¨dockeræŠ€æœ¯ã€‚åœ¨åˆå§‹åŒ–postgiså®¹å™¨çš„æ—¶å€™ï¼Œä¼šåŒæ­¥é‡Šæ”¾æ¨¡æ¿ä»¥åˆ›å»ºæ•°æ®åº“ã€‚è¿™å°†ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚æœé‡æ–°åˆ›å»ºå®¹å™¨ï¼Œé‚£ä¹ˆå°†ä¼šå¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„æ•°æ®åº“ã€‚å½“ç„¶ä½ å¯ä»¥æŠŠæ•°æ®åº“çš„dataç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºä¸Šï¼Œåº”è¯¥å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\ndocker build -t registry.cn-hangzhou.aliyuncs.com/fuyi-atlas/micro-weather-postgis:12-3.4 . æœ€åï¼Œæˆ‘åœ¨æœ¬åœ°å®Œæˆè¯¥é•œåƒçš„åˆ¶ä½œåï¼Œå°†å…¶æ¨é€åˆ°æˆ‘çš„é˜¿é‡Œäº‘é•œåƒä»“åº“ä¸­ï¼Œä¾¿äºåç»­ä½¿ç”¨ã€‚ä½ å¯ä»¥æ³¨å†Œä¸€ä¸ªé˜¿é‡Œäº‘è´¦æˆ·å»å…è´¹å¯ç”¨ä¸ªäººç‰ˆçš„é•œåƒä»“åº“ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨dockerhubã€‚\ndocker push registry.cn-hangzhou.aliyuncs.com/fuyi-atlas/micro-weather-postgis:latest åº”ç”¨éƒ¨ç½² äºæœ¬åœ°å®Œæˆé•œåƒåˆ¶ä½œï¼Œå¹¶æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“ä¸­ã€‚\nä¸ºäº†æ›´æ–¹ä¾¿çš„è¿›è¡Œéƒ¨ç½²ï¼Œæˆ‘ç¼–å†™äº†docker composeè„šæœ¬ï¼Œç”¨äºå°†æ•°æ®åº“ä¸åº”ç”¨æœåŠ¡ç«¯ç¨‹åºä¸€å¹¶å¯åŠ¨ã€‚ç›®å‰ç¨‹åºä¸­æœ‰ä¸€ä¸ªæµ·æŠ¥åˆ†äº«çš„åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½å®ç°ä¸­éœ€è¦ä¸€äº›é¢å¤–çš„ä¸­æ–‡å­—ä½“çš„æ”¯æŒï¼Œæ‰€ä»¥éœ€è¦å°†æ­¤éƒ¨åˆ†ä¸­æ–‡å­—ä½“æ”¾ç½®åˆ°å®¿ä¸»æœºçš„æŸä¸ªç›®å½•ä¸‹ï¼Œå¹¶åœ¨ç¯å¢ƒå˜é‡ä¸­æŒ‡å®šè¯¥ç›®å½•ï¼Œè„šæœ¬ä¸­ä¼šå°†è¯¥ç›®å½•æ˜ å°„è¯¥åˆ°å®¹å™¨å†…çš„/usr/share/fontsç›®å½•ä¸‹\nå¯¹äºå›¾ç‰‡è®¿é—®ï¼Œè¿˜æ˜¯å»¶ç»­æ­¤å‰çš„å®ç°ï¼Œå³åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆåˆ†äº«æµ·æŠ¥ï¼Œå­˜å‚¨åˆ°æœ¬åœ°ï¼ˆæŒ‡æœåŠ¡å™¨ç£ç›˜ï¼‰ï¼Œè€Œåé€šè¿‡Nginxä»£ç†è®¿é—®ã€‚ç”±äºç›®å‰çš„æœåŠ¡å™¨æˆ‘æ˜¯ä¸ä»–äººå…±ç”¨ï¼ŒåŒæ—¶è¿˜éœ€è¦é…ç½®åŸŸåè¯ä¹¦ï¼Œæ‰€ä»¥æš‚æ—¶æ²¡æœ‰å°†Nginxçš„éƒ¨ç½²åŒæ­¥æ”¾ç½®åˆ°docker composeè„šæœ¬ä¸­ã€‚\nğŸ’¡ ç”±äºéƒ¨ç½²ä¸­éœ€è¦æä¾›éƒ¨åˆ†æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šå°ç¨‹åºçš„å¯†é’¥ã€å¤©æ°”åº”ç”¨çš„keyã€dockeré•œåƒä»“åº“åœ°å€ã€‚æˆ‘å°†æ‰€æœ‰ä¿¡æ¯ä»¥ç¯å¢ƒå˜é‡çš„æ–¹å¼è¿›è¡Œå ä½ï¼Œé€šè¿‡docker composeçš„ç¯å¢ƒå˜é‡è¿›è¡Œæ›¿æ¢ï¼Œå³.envæ–‡ä»¶\nå°ç¨‹åºå‘å¸ƒ å°ç¨‹åºç«¯çš„å‘å¸ƒå°±æ¯”è¾ƒç®€å•äº†\nå…ˆå°†base_urlæ›´æ¢ä¸ºæ­£å¼ç¯å¢ƒçš„åœ°å€ï¼ˆæˆ‘æ²¡æœ‰æäº¤æ­¤éƒ¨åˆ†ä»£ç ï¼Œä½ å¯ä»¥è‡ªå·±æ›´æ”¹ï¼‰ æœ¬æ¬¡è°ƒè¯•æ²¡æœ‰é—®é¢˜åï¼Œå°±å¯ä»¥ä¸Šä¼ ä»£ç ï¼Œå³æäº¤ä¸ºä½“éªŒç‰ˆæœ¬ è€Œåä½¿ç”¨ä½“éªŒç‰ˆæœ¬æµ‹è¯•æ²¡æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥æäº¤å®¡æ ¸ å®¡æ ¸é€šè¿‡åï¼Œå°±å¯ä»¥å‘å¸ƒäº† æ€»ä½“æ¥çœ‹ï¼Œæœ¬æ¬¡å‘å¸ƒå¾ˆé¡ºåˆ©ï¼Œå®¡æ ¸åœ¨ååˆ†é’Ÿå°±é€šè¿‡äº†ã€‚","title":"å¾®å¤©æ°” å°ç¨‹åºå‘å¸ƒè®°å½•"},{"content":"å‰è¨€ è¿™é‡Œæš‚ä¸ä½œè¿‡å¤šçš„æ“ä½œï¼Œè¿˜æ˜¯ä¿æŒä¸æ­¤å‰ä¸€è‡´ã€‚å³é€šè¿‡Github Actionå®ŒæˆDocker Imageçš„buildä¸pushï¼Œç›®æ ‡ä»“åº“ä¸ºé˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡å®ä¾‹ï¼ˆä¸ªäººç‰ˆï¼‰registry.cn-hangzhou.aliyuncs.com\né‚£ä¹ˆä¸€å…±åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š\nDockerfileç¼–å†™ é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡é…ç½® Github Action Dockerfileç¼–å†™ jdk17 gradle FROM gradle:jdk17-alpine AS build # è®¾ç½®è¯­è¨€ï¼Œæ”¯æŒä¸­æ–‡ ENV LANG C.UTF-8 COPY --chown=gradle:gradle . /opt/gradle/src WORKDIR /opt/gradle/src RUN gradle clean build -x test --no-daemon FROM eclipse-temurin:17-jdk-jammy COPY --from=build /opt/gradle/src/build/libs/*.jar /usr/app/ WORKDIR /usr/app/ RUN sh -c \u0026#39;touch micro-weather-backend-1.0.0-RELEASE.jar\u0026#39; ENTRYPOINT [\u0026#34;java\u0026#34;, \u0026#34;-jar\u0026#34;, \u0026#34;micro-weather-backend-1.0.0-RELEASE.jar\u0026#34;] Github Action å…ˆåœ¨é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸­åˆ›å»ºå‘½åç©ºé—´\nåˆ›å»ºä»“åº“ï¼ˆå¯é€‰ï¼Œå› ä¸ºå¯ä»¥è‡ªåŠ¨åˆ›å»ºï¼‰\nç¼–å†™Github Actionè„šæœ¬\nname: Micro Weather Service Image Build And Push CI on: push: branches: - \u0026#39;main\u0026#39; jobs: docker: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 # setup-qemu å¦‚æœæ‚¨æƒ³ä½¿ç”¨ QEMU æ·»åŠ ä»¿çœŸæ”¯æŒä»¥ä¾¿èƒ½å¤Ÿé’ˆå¯¹æ›´å¤šå¹³å°è¿›è¡Œæ„å»ºï¼Œåˆ™ action ä¼šå¾ˆæœ‰ç”¨ - name: Set up QEMU uses: docker/setup-qemu-action@v1 # setup-buildx-action å°†é»˜è®¤ä½¿ç”¨docker-container æ„å»ºå™¨é©±åŠ¨ç¨‹åºåˆ›å»ºå’Œå¼•å¯¼æ„å»ºå™¨ã€‚éå¿…éœ€ - name: Set up Docker Buildx uses: docker/setup-buildx-action@v1 - name: Login to Aliyun DockerHub uses: docker/login-action@v1 with: registry: ${{secrets.ALIYUN_DOCKERHUB_REGISTRY}} username: ${{ secrets.ALIYUN_DOCKERHUB_USERNAME }} password: ${{ secrets.ALIYUN_DOCKERHUB_TOKEN }} - name: Build and push uses: docker/build-push-action@v2 with: push: true tags: registry.cn-hangzhou.aliyuncs.com/fuyi-atlas/micro-weather:latest è®¾ç½®ç¯å¢ƒå˜é‡\nè§¦å‘Actionæµ‹è¯•ï¼ˆæäº¤ä»£ç ï¼‰\nç¬¬ä¸€æ¬¡å¤±è´¥æ˜¯å› ä¸ºæˆ‘æ˜¯ç›´æ¥åœ¨githubä¸Šé¢æ·»åŠ çš„actioné…ç½®ï¼Œé€šè¿‡commitæäº¤åç›´æ¥è§¦å‘äº†actionåŠ¨ä½œï¼Œä½†æ˜¯æ­¤æ—¶è¿˜æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥å¤±è´¥äº†ã€‚æ‰€ä»¥å¯ä»¥åœ¨actionè§¦å‘å‰å°†ç¯å¢ƒå˜é‡è®¾ç½®å¥½å°±ä¸ä¼šå¤±è´¥äº†ã€‚\nå‚è€ƒæ–‡æ¡£ åœ¨githubä¸Šä½¿ç”¨workflowæ„å»ºdockeré•œåƒå¹¶æ¨é€é˜¿é‡Œäº‘ ğŸ’¡ Github Actionè„šæœ¬å†…å®¹æ¥è‡ªäºç½‘ç»œï¼Œå­˜åœ¨å°‘è®¸æ›´æ”¹ã€‚ä½†ç”±äºè®°ä¸å¾—æ¥æºï¼Œæ‰€ä»¥æ²¡æœ‰åšå‡ºè®°å½•\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/007/","summary":"å‰è¨€ è¿™é‡Œæš‚ä¸ä½œè¿‡å¤šçš„æ“ä½œï¼Œè¿˜æ˜¯ä¿æŒä¸æ­¤å‰ä¸€è‡´ã€‚å³é€šè¿‡Github Actionå®ŒæˆDocker Imageçš„buildä¸pushï¼Œç›®æ ‡ä»“åº“ä¸ºé˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡å®ä¾‹ï¼ˆä¸ªäººç‰ˆï¼‰registry.cn-hangzhou.aliyuncs.com\né‚£ä¹ˆä¸€å…±åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š\nDockerfileç¼–å†™ é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡é…ç½® Github Action Dockerfileç¼–å†™ jdk17 gradle FROM gradle:jdk17-alpine AS build # è®¾ç½®è¯­è¨€ï¼Œæ”¯æŒä¸­æ–‡ ENV LANG C.UTF-8 COPY --chown=gradle:gradle . /opt/gradle/src WORKDIR /opt/gradle/src RUN gradle clean build -x test --no-daemon FROM eclipse-temurin:17-jdk-jammy COPY --from=build /opt/gradle/src/build/libs/*.jar /usr/app/ WORKDIR /usr/app/ RUN sh -c \u0026#39;touch micro-weather-backend-1.0.0-RELEASE.jar\u0026#39; ENTRYPOINT [\u0026#34;java\u0026#34;, \u0026#34;-jar\u0026#34;, \u0026#34;micro-weather-backend-1.0.0-RELEASE.jar\u0026#34;] Github Action å…ˆåœ¨é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸­åˆ›å»ºå‘½åç©ºé—´\nåˆ›å»ºä»“åº“ï¼ˆå¯é€‰ï¼Œå› ä¸ºå¯ä»¥è‡ªåŠ¨åˆ›å»ºï¼‰\nç¼–å†™Github Actionè„šæœ¬\nname: Micro Weather Service Image Build And Push CI on: push: branches: - \u0026#39;main\u0026#39; jobs: docker: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 # setup-qemu å¦‚æœæ‚¨æƒ³ä½¿ç”¨ QEMU æ·»åŠ ä»¿çœŸæ”¯æŒä»¥ä¾¿èƒ½å¤Ÿé’ˆå¯¹æ›´å¤šå¹³å°è¿›è¡Œæ„å»ºï¼Œåˆ™ action ä¼šå¾ˆæœ‰ç”¨ - name: Set up QEMU uses: docker/setup-qemu-action@v1 # setup-buildx-action å°†é»˜è®¤ä½¿ç”¨docker-container æ„å»ºå™¨é©±åŠ¨ç¨‹åºåˆ›å»ºå’Œå¼•å¯¼æ„å»ºå™¨ã€‚éå¿…éœ€ - name: Set up Docker Buildx uses: docker/setup-buildx-action@v1 - name: Login to Aliyun DockerHub uses: docker/login-action@v1 with: registry: ${{secrets.","title":"å¾®å¤©æ°” Github Actioné•œåƒè‡ªåŠ¨æ„å»ºä¸æ¨é€"},{"content":"å‰è¨€ æ­¤å‰æåˆ°å¾®å¤©æ°”åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨åˆ°è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼Œä¸è¿‡ä¸Šä¸€ç« æ‰€ä½¿ç”¨çš„æ•°æ®æ¥æºäºç½‘ç»œï¼Œæˆ–å¤šæˆ–å°‘éƒ½å¯ä»¥è€ƒè™‘ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰å…¶ä»–è·å–çš„æ–¹å¼ï¼Œæ‰€ä»¥ä¹Ÿå°±æœ‰äº†æœ¬æ–‡çš„å†…å®¹ã€‚\nåœ¨è¿™é‡Œï¼Œå°†åŸºäºå…¨å›½1:100ä¸‡åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®è¿›è¡Œè¡Œæ”¿åŒºåˆ’æ•°æ®çš„æå–ã€‚æœ¬æ–‡ç”¨äºè®°å½•ä½¿ç”¨ç¨‹åºå®ç°å…¨å›½1:100ä¸‡åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®åˆå¹¶çš„å…¨è¿‡ç¨‹ã€‚\nå½“ç„¶ï¼Œæœ¬æ–‡äº§ç”Ÿçš„æœ€é‡è¦åŸå› å…¶å®å¹¶ä¸æ˜¯å—åˆ°å¾®å¤©æ°”çš„å¯å‘ï¼Œæ›´å¤šçš„æ˜¯ä¸ªäººæƒ³è¯•ä¸€è¯•èƒ½ä¸èƒ½ç”¨ã€‚\næ•°æ®è¯´æ˜ å…¨å›½1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®ï¼ˆ2021ï¼‰è¦†ç›–å…¨å›½é™†åœ°èŒƒå›´å’ŒåŒ…æ‹¬å°æ¹¾å²›ã€æµ·å—å²›ã€é’“é±¼å²›ã€å—æµ·è¯¸å²›åœ¨å†…çš„ä¸»è¦å²›å±¿åŠå…¶ä¸´è¿‘æµ·åŸŸï¼Œå…±77å¹…1:100ä¸‡å›¾å¹…ï¼Œè¯¥æ•°æ®é›†æ•´ä½“ç°åŠ¿æ€§ä¸º2019å¹´ã€‚æ•°æ®é‡‡ç”¨2000å›½å®¶å¤§åœ°åæ ‡ç³»ï¼Œ1985å›½å®¶é«˜ç¨‹åŸºå‡†ï¼Œç»çº¬åº¦åæ ‡ã€‚\nä¸ºæ»¡è¶³å¹¿å¤§ç¤¾ä¼šç¾¤ä¼—å¯¹åœ°ç†ä¿¡æ¯æ•°æ®èµ„æºçš„éœ€æ±‚ï¼Œç»è‡ªç„¶èµ„æºéƒ¨æˆæƒï¼Œå…¨å›½åœ°ç†ä¿¡æ¯èµ„æºç›®å½•æœåŠ¡ç³»ç»Ÿæä¾›å…¨å›½1:100ä¸‡å…¨å›¾å±‚è¦ç´ å…è´¹ä¸‹è½½çš„æœåŠ¡ã€‚ä¸‹è½½æ•°æ®é‡‡ç”¨1ï¼š100ä¸‡æ ‡å‡†å›¾å¹…åˆ†å‘ï¼Œå†…å®¹åŒ…æ‹¬æ°´ç³»ã€å±…æ°‘åœ°åŠè®¾æ–½ã€äº¤é€šã€ç®¡çº¿ã€å¢ƒç•Œä¸æ”¿åŒºã€åœ°è²Œä¸åœŸè´¨ã€æ¤è¢«ã€åœ°ååŠæ³¨è®°9ä¸ªæ•°æ®é›†ï¼Œä¸”ä¿å­˜è¦ç´ é—´ç©ºé—´å…³ç³»å’Œç›¸å…³å±æ€§ä¿¡æ¯ã€‚\nğŸ’¡ æä¾›ä¸‹è½½çš„æ˜¯çŸ¢é‡æ•°æ®ï¼Œä¸æ˜¯æœ€ç»ˆåœ°å›¾ï¼Œä¸ç¬¦å·åŒ–åçš„åœ°å›¾å†å¯è§†åŒ–è¡¨è¾¾ä¸Šå­˜åœ¨ä¸€å®šå·®å¼‚ã€‚ç”¨æˆ·åˆ©ç”¨æ­¤æ•°æ®ç¼–åˆ¶åœ°å›¾ï¼Œåº”å½“ä¸¥æ ¼æ‰§è¡Œã€Šåœ°å›¾ç®¡ç†æ¡ä¾‹ã€‹æœ‰å…³è§„å®šï¼›ç¼–åˆ¶çš„åœ°å›¾å¦‚éœ€å‘ç¤¾ä¼šå…¬å¼€çš„ï¼Œè¿˜åº”å½“ä¾æ³•å±¥è¡Œåœ°å›¾å®¡æ ¸ç¨‹åºã€‚\næˆæœè§„æ ¼ åˆ†å¹…ç¼–å·åŠèŒƒå›´\n1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®ï¼ˆ2021ï¼‰çš„å›¾å¹…æ€»æ•°ä¸º77å¹…ï¼Œåˆ†å¹…æ•°æ®æŒ‰ç…§GB/T 13989-2012ã€Šå›½å®¶åŸºæœ¬æ¯”ä¾‹å°ºåœ°å½¢å›¾åˆ†å¹…å’Œç¼–å·ã€‹æ‰§è¡Œã€‚ç©ºé—´å­˜å‚¨å•å…ƒä¸º6Â°ï¼ˆç»å·®ï¼‰Ã—4Â°ï¼ˆçº¬å·®ï¼‰ã€‚\nåæ ‡ç³»ç»Ÿ\nå¹³é¢åæ ‡ç³»ï¼š 2000å›½å®¶å¤§åœ°åæ ‡ç³»ã€‚ é«˜ç¨‹åŸºå‡†ï¼š1985å›½å®¶é«˜ç¨‹åŸºå‡†ã€‚ åœ°å›¾æŠ•å½±ï¼šåˆ†å¹…æ•°æ®é‡‡ç”¨åœ°ç†åæ ‡ï¼Œåæ ‡å•ä½ä¸ºåº¦ã€‚ å‡ ä½•ç²¾åº¦\næ›´æ–°ååœ°ç‰©ç‚¹å¯¹äºé™„è¿‘é‡å¤–æ§åˆ¶ç‚¹çš„å¹³é¢ä½ç½®å’Œé«˜ç¨‹ä¸­è¯¯å·®ç¬¦åˆä¸‹è¡¨çš„è¦æ±‚ï¼Œä»¥ä¸¤å€ä¸­è¯¯å·®å€¼ä¸ºæœ€å¤§è¯¯å·®ã€‚\nåœ°ç‰©ç‚¹è¯¯å·® æœ€å° æœ€å¤§ å¹³é¢ä½ç½® 100 500 é«˜ç¨‹ 50 200 ç°åŠ¿æ€§\n1:100ä¸‡åœ°å½¢æ•°æ®ç°åŠ¿æ€§ä¸æ›´æ–°ä½¿ç”¨çš„æ•°æ®æºçš„ç°åŠ¿æ€§ä¸€è‡´ï¼Œæ•°æ®æ•´ä½“ç°åŠ¿æ€§è¾¾åˆ°2019å¹´ã€‚\næˆæœæ•°æ®ç»„ç»‡ å…¨å›½1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåœ°å½¢æ•°æ®ï¼ˆ2021ï¼‰å†…å®¹åŒ…æ‹¬æ°´ç³»ã€å±…æ°‘åœ°åŠè®¾æ–½ã€äº¤é€šã€ç®¡çº¿ã€å¢ƒç•Œä¸æ”¿åŒºã€åœ°è²Œä¸åœŸè´¨ã€æ¤è¢«ã€åœ°ååŠæ³¨è®°9ä¸ªæ•°æ®é›†ã€‚\næ•°æ®åˆ†å±‚çš„å‘½åé‡‡ç”¨å››ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨æ•°æ®åˆ†ç±»ï¼Œç¬¬äºŒä¸‰ä¸ªå­—ç¬¦æ˜¯æ•°æ®å†…å®¹çš„ç¼©å†™ï¼Œç¬¬å››ä¸ªå­—ç¬¦ä»£è¡¨å‡ ä½•ç±»å‹ã€‚\nç›®æ ‡ å®ç°åˆ†å›¾å±‚åˆå¹¶ï¼ˆå¤„ç†å›¾å¹…åˆå¹¶æ—¶æ¥è¾¹é—®é¢˜ï¼‰ æ°´ç³»ï¼ˆæš‚ç¼“ï¼‰ äº¤é€šï¼ˆæš‚ç¼“ï¼‰ å¢ƒç•Œä¸æ”¿åŒºï¼ˆå›½ã€çœã€å¸‚ã€å¿ï¼‰ åœ°ååŠæ³¨è®° æ ¹æ®åˆå¹¶åçš„è¡Œæ”¿åŒºåˆ’ä¸åœ°åæ³¨è®°ï¼Œåˆ¶ä½œè¡Œæ”¿åŒºåˆ’æ•°æ®åº“ æ•°æ®åº“ä½¿ç”¨PostgreSQLï¼ˆPostGISï¼‰ è®¾è®¡ å›¾å±‚è§£æç¨‹åº Javaç¨‹åºï¼Œ ä½¿ç”¨GDAL è¯»å–GDB\né€»è¾‘ æ ¹æ®ã€Šå›½å®¶åŸºæœ¬æ¯”ä¾‹å°ºåœ°å½¢å›¾åˆ†å¹…å’Œç¼–å·ã€‹è§„å®šå¯çŸ¥ç½‘æ ¼èŒƒå›´ï¼Œé€šè¿‡ç½‘æ ¼èŒƒå›´åŠ¨æ€ç”Ÿæˆå¯¹åº”ç½‘æ ¼çš„åˆ†å¹…ç¼–å·ï¼Œå¹¶ä»¥è¯¥ç¼–å·è¿›è¡Œæ•°æ®æ£€ç´¢ã€‚å¦‚æœå‘½ä¸­åˆ™æ ¹æ®æˆæœæ•°æ®ç»„ç»‡è§„æ ¼ä»¥åŠç›¸å…³æ ‡å‡†å¯¹æ•°æ®è¿›è¡Œè§£æï¼Œå¦‚æœæœªå‘½ä¸­åˆ™è·³è¿‡ï¼Œç›´è‡³ç½‘æ ¼æ‰«æå®Œæ¯•ã€‚\nç»åº¦ï¼š72~138ï¼ˆEï¼‰ï¼Œ43~53ï¼ˆ11ï¼‰ çº¬åº¦ï¼š0~56ï¼ˆNï¼‰ï¼ŒA~Nï¼ˆ14ï¼‰ å³ï¼Œç½‘æ ¼èŒƒå›´:[43,53] x [A,N] æ•°æ®çš„å¤„ç†æµç¨‹å¯ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼è¿›è¡Œï¼Œåç»­ä¹Ÿæ–¹ä¾¿åŠ å…¥å…¶ä»–çš„å¤„ç†æµç¨‹ã€‚å³ï¼Œæ•´ä½“çš„æ‰§è¡Œæ¡†æ¶ä¸ºç­–ç•¥æ¨¡å¼+è´£ä»»é“¾æ¨¡å¼ã€‚ä¸ºç»Ÿä¸€ç­–ç•¥é€‰æ‹©æ¨¡å‹ï¼Œåœ¨æ­¤æå‡ºå›¾å±‚å®šä¹‰ï¼ˆLayerDefinitionï¼‰çš„æ¦‚å¿µã€‚\nLayerDefinitionç”±å¦‚ä¸‹å‡ ä¸ªå…³é”®è¦ç´ ç»„æˆï¼š\nå›¾å±‚æ•°æ®æºï¼ˆLayerSourceï¼‰ driverï¼šé©±åŠ¨ï¼Œå‚è€ƒjava.sql.UnWrapperå®ç° instance name catalogï¼š schemaï¼š tableï¼š commonDefinitionKey ï¼šå¸¸è§„å®šä¹‰ç¼“å­˜çš„key fieldDefinitionKey ï¼šå­—æ®µå®šä¹‰ç¼“å­˜çš„key featureCarrierKey ï¼šè¦ç´ è½½ä½“ç¼“å­˜çš„key originï¼šæ•°æ®æ¥æºï¼ˆåˆ†å¹…æ–‡ä»¶è·¯å¾„ï¼‰ scaleï¼šæ¯”ä¾‹å°ºï¼ˆå¦‚ï¼š1000000ï¼Œè¡¨ç¤º1:1000000ï¼‰ sourceSpatialRefï¼šæºåæ ‡ç³»ï¼ˆè¡¨ç°å½¢å¼å¯ä¸ºæ ‡å‡†IDã€PROJ Textã€WKT Textï¼‰ sinkSpatialRefï¼šç›®æ ‡åæ ‡ç³»ï¼ˆè¡¨ç°å½¢å¼å¯ä¸ºæ ‡å‡†IDã€PROJ Textã€WKT Textï¼‰ featureCodeï¼šè¦ç´ åˆ†ç±»ç ï¼Œå¯¹åº”æˆæœæ•°æ®ç»„ç»‡ä¸­çš„è¦ç´ åˆ†ç±»ï¼ˆå¦‚ï¼šCã€Bï¼‰ nameï¼šå›¾å±‚å‘½åï¼Œä¹Ÿæ˜¯å›¾å±‚åˆ†ç±»ç  layerCodeï¼šå›¾å±‚åˆ†ç±»ç  releaseï¼šé‡Šæ”¾æ ¼å¼ï¼ˆæ¯”å¦‚ï¼šWMTSã€Shapefileã€GDBâ€¦ï¼‰ æè¿°å­—ç¬¦ä¸ºï¼šæ¯”ä¾‹å°º:æºåæ ‡ç³»:ç›®æ ‡åæ ‡ç³»:è¦ç´ åˆ†ç±»ç :å›¾å±‚åç§°:é‡Šæ”¾æ ¼å¼ï¼Œåœ¨æè¿°å­—ç¬¦ä¸²ä¸­ï¼Œåæ ‡ç³»ä»…ä½¿ç”¨æ ‡å‡†IDè¡¨ç¤º\nğŸ’¡ æºåæ ‡ç³»ã€è¦ç´ åˆ†ç±»ç ã€å›¾å±‚åç§°å‡æ¥è‡ªäºæºæ•°æ®ã€‚å½“ä¸”ä»…å½“åŸå§‹æ•°æ®ä¸­æ— æ³•è·å–åˆ°æºåæ ‡ç³»å®šä¹‰æ—¶ï¼Œæºåæ ‡ç³»å®šä¹‰å¯æ¥è‡ªäºé…ç½®ã€‚\nåŸºæœ¬æµç¨‹ æ‰«æç½‘æ ¼å®šä¹‰ï¼ˆå¯é…ç½®ï¼‰\nGDBè¯»å–ï¼ˆæ”¯æŒzipï¼Œå¹¶æ¨èä½¿ç”¨zipï¼‰\n/home/fuyi/GeoDatabase/China_Basic_1-100/J50.gdb /home/fuyi/GeoDatabase/China_Basic_1-100/J50.gdb.zip ç­–ç•¥ç®¡ç†å™¨ï¼ˆStrategyManagerï¼‰ï¼ŒèŒè´£ï¼šæ ¹æ®é…ç½®é€‰æ‹©å…·ä½“ç­–ç•¥æ–¹æ¡ˆï¼Œå¹¶è°ƒç”¨æ‰§è¡Œ\nç­–ç•¥ï¼ˆStrategyï¼‰ï¼ŒæŒæœ‰ç›¸åº”çš„å¤„ç†å™¨å¯¹è±¡ï¼Œè´£ä»»é“¾ç”±æ­¤å¼€å§‹å¯åŠ¨\næ€»ä½“ä¸Šåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ\n1ã€å›¾å±‚å½’ä¸€ï¼ˆæ•°æ®ã€ä½ç½®ã€åæ ‡ç³»ï¼‰ 2ã€å›¾å±‚åˆå¹¶ 3ã€å›¾å±‚é‡Šæ”¾ï¼ˆserviceã€dumpã€nothingï¼‰ Layer normalization (data, location, coordinate system) Layer merging Layer release (service, dump, nothing) å½’ä¸€åŒ–å¤„ç†é˜¶æ®µï¼ˆåº”ä¿è¯ç©ºé—´å‚è€ƒå½’ä¸€ã€å›¾å±‚æ•°æ®å­˜å‚¨å½’ä¸€ï¼Œå³åº”ä¿æŒæ•´ä½“ä¸€è‡´ï¼‰ åˆå¹¶å¤„ç†é˜¶æ®µï¼ˆæˆ–è€…ç§°ä¹‹ä¸ºä¸­é—´å¤„ç†é˜¶æ®µï¼Œåœ¨è¿™é‡Œä¸ä»…å¯ä»¥å¤„ç†åˆå¹¶ï¼Œè¿˜å¯ä»¥åšå…¶ä»–çš„äº‹æƒ…ï¼‰ é‡Šæ”¾é˜¶æ®µï¼ˆæ•°æ®çš„å¤„ç†æ€»å½’æ˜¯æœ‰ç›®çš„å­˜åœ¨çš„ï¼Œé‚£ä¹ˆæœ¬é˜¶æ®µå°±æ˜¯ç¡®å®šæ•°æ®æœ€ç»ˆå­˜åœ¨æˆ–æœåŠ¡çš„å½¢å¼ï¼Œæ¯”å¦‚å¯¼å‡ºä¸ºShapefileæ–‡ä»¶ã€å†™å…¥PostGISæ•°æ®åº“æˆ–é€šè¿‡WMTSæœåŠ¡å¯¹å¤–æä¾›æ•°æ®è®¿é—®ç­‰ï¼‰ GDALç­–ç•¥ï¼šé»˜è®¤ç­–ç•¥ï¼Œå³å…¨ç¨‹åŸºæœ¬ä¸Šä½¿ç”¨GDALå¤„ç†\nåŒ¹é…è·å–æŒ‡å®šå›¾å±‚å¤„ç†å™¨ï¼ˆå½’ä¸€åŒ–ï¼‰ï¼ŒèŒè´£ä¸ºï¼šè§£æ\nå…ˆå†™ç¼“å­˜ï¼ˆredisï¼‰\nsupportï¼ˆæ ¹æ®å›¾å±‚å‘½åï¼‰ï¼Œå¦‚ï¼šbouaï¼Œè¯¥å€¼ä½œä¸ºå¤„ç†å™¨çš„åˆ¤æ–­æ¡ä»¶ å¯æä¾›è½¬æ¢å¤„ç†å™¨ï¼ŒèŒè´£ä¸ºï¼šåæ ‡ç³»è½¬æ¢\nåæ ‡ç³»è½¬æ¢æ—¢å¯ä»¥åœ¨å½’ä¸€åŒ–å¤„ç†é˜¶æ®µè¿›è¡Œï¼ˆä¿è¯ä¸åŒç©ºé—´å‚è€ƒçš„æ•°æ®è½¬å…¥åŒä¸€ç©ºé—´å‚è€ƒï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸­é—´å¤„ç†é˜¶æ®µï¼ˆç»Ÿä¸€è¿›è¡Œæ•°æ®è½¬æ¢ï¼‰æˆ–æ˜¯é‡Šæ”¾é˜¶æ®µï¼ˆæ ¹æ®é‡Šæ”¾éœ€æ±‚è¿›è¡Œå¤„ç†ï¼‰\næä¾›æ•°æ®åˆå¹¶å¤„ç†å™¨ï¼ŒèŒè´£ä¸ºï¼šè·¨å›¾å¹…çš„å›¾å±‚åˆå¹¶\nå¤„ç†é€»è¾‘ï¼Œæ ¹æ®ç»™å®šçš„å…³è”åˆ—è¿›è¡Œç©ºé—´å¯¹è±¡åˆå¹¶ï¼ˆå¦‚ï¼šåœ¨è¡Œæ”¿å¢ƒç•Œä¸­ä½¿ç”¨è¡Œæ”¿åŒºåˆ’ç¼–ç ä»¥åŠåç§°è¿›è¡Œç©ºé—´åˆå¹¶ï¼‰\nä¸åŒå›¾å±‚å¯ä»¥å…·æœ‰ä¸åŒçš„åˆå¹¶è§„åˆ™ï¼Œç”±ä¸åŒçš„å®ä¾‹è¿›è¡Œæä¾›å¯¹åº”çš„åˆå¹¶è¡Œä¸º\né‡Šæ”¾é€»è¾‘ä¹Ÿé€šè¿‡å®šä¹‰æ ¼å¼å¤„ç†å™¨å®Œæˆå¤„ç†ï¼ŒèŒè´£ï¼šæ ¼å¼å¤„ç†\néœ€æŒ‡æ˜æ ¼å¼ä¸æ¯”ä¾‹å°º supportï¼Œæ ¹æ®æ ¼å¼ä¸æ¯”ä¾‹å°ºï¼Œå¦‚ï¼špostgis:1000000ï¼Œè¯¥å€¼ä½œä¸ºå¤„ç†å™¨çš„åˆ¤æ–­æ¡ä»¶ ä¸åŒæ¯”ä¾‹å°ºåˆ›å»ºä¸åŒçš„å­˜å‚¨åç§°ã€‚å¦‚ï¼Œå­˜å‚¨æ ¼å¼ä¸ºPostGISï¼š\nè¡¨å‘½åè§„åˆ™ï¼šå›¾å±‚åç§°_æ¯”ä¾‹å°ºï¼Œå°å†™\nå¦‚ï¼šboua_1000000ï¼Œæ„ä¸º1ï¼š1000000æ¯”ä¾‹å°ºä¸‹bouaæ•°æ®å±‚æ•°æ®\nğŸ’¡ LayerDefineç»“æ„å¯ä½œä¸ºæ‰€æœ‰ç­–ç•¥é€‰æ‹©çš„å…¥å‚ï¼Œå†…éƒ¨åˆ™æ ¹æ®è‡ªå·±ä¾èµ–çš„æ¡ä»¶è¿›è¡Œå†³ç­–ã€‚\nDriver(register) â†’ GDALDriverManager â†’ DataSet â†’ Layer â†’ Feature â†’ Geometry\nRedisç¼“å­˜ä½œä¸ºè½¬æ¢è¿‡ç¨‹ä¸­çš„æ•°æ®å­˜å‚¨ä¸äº¤æ¢å®¹å™¨\nå›¾å±‚å®šä¹‰æ‹†åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†è¿›è¡Œå­˜å‚¨ï¼Œå¸¸è§„å†…å®¹ä½¿ç”¨hashç»“æ„å­˜å‚¨ï¼Œä¾¿äºè¿›è¡Œå˜æ›´ prefix key : feature code : layer code : definition\nscale sourceSpatialRef sinkSpatialRef storage å±æ€§å®šä¹‰ä½¿ç”¨setç»“æ„å­˜å‚¨ï¼Œä¾¿äºåºåˆ—åŒ–ä¸ååºåˆ—åŒ–\nprefix key : feature code : layer code : definition : fields\nfieldDefinitions å›¾å±‚æ•°æ®åˆ™ä½¿ç”¨listæ•°æ®ç»“æ„è¿›è¡Œå‚¨å­˜ï¼Œä¾¿äºåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼ŒåŒæ—¶ä¾¿äºæ•°æ®è¿½åŠ  prefix key : feature code : layer code : features\nfeatures ç»“æ„æ‹†è§£å›¾ å¼€å‘ ç¯å¢ƒå‡†å¤‡ æ“ä½œç³»ç»Ÿï¼šDebian 11 bookwormï¼ˆtestingï¼‰ IDEï¼šIntelliJ IDEA 2022.1.4 (Community Edition) PostgreSQLï¼š14ï¼ˆ13+å³å¯ï¼‰ JDKï¼šopenjdk version \u0026ldquo;11\u0026rdquo; 2018-09-25 Mavenï¼šApache Maven 3.8.6 GDALï¼šGDAL 3.5.1, released 2022/06/30 GDALç¯å¢ƒå‡†å¤‡ debian 11 testingï¼Œè‡ªè¡Œç¼–è¯‘gdalç¨‹åº\n/debian 11 testingï¼Œå·²ç»è‡ªè¡Œå®‰è£…äº†gdalç¨‹åºï¼Œä½†æ˜¯æ²¡æœ‰java bindingæ¨¡å—ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦è‡ªè¡Œç¼–è¯‘ã€‚\næˆ‘ä»Šå¤©ç”¨çš„æ˜¯Fedora 38 workstationï¼Œå¯ä»¥ç›´æ¥ install gdal, gdal-javaï¼Œè€Œåå°†libgdalalljni.soæ–‡ä»¶æ‹·è´åˆ°/usr/java/packages/lib ç›®å½•ä¸‹ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œè¯·è‡ªè¡Œåˆ›å»ºï¼‰\nsudo mkdir -p /usr/java/packages/lib \u0026amp; sudo ln -s /usr/lib/java/gdal/libgdalalljni.so /usr/java/packages/lib/libgdalalljni.so\n@time: 2023.10.08\nå¼‚å¸¸ ä¸‹å›¾æ˜¯ç»è¿‡pac,nameåˆå¹¶åçš„æ•°æ®ï¼ˆå¹¶å»é™¤äº†å¢ƒå¤–ä¸æµ·æ´‹æ•°æ®ï¼‰ï¼Œå¦‚å›¾å¯è§ï¼Œä»ç„¶å­˜åœ¨äº›è®¸è£‚ç¼\nç»è¿‡æ’æŸ¥å‘ç°ï¼Œå‘ç°éƒ¨åˆ†åŸå§‹å›¾å‰¯ä¹‹é—´ä¾¿å­˜åœ¨è£‚ç¼ï¼Œä¸”è¯¥è£‚ç¼çš„ä¸¤è¾¹ä¸ä¸€å®šæ˜¯å¹³è¡Œçš„ã€‚é‚£ä¹ˆè¿™å°±ä¼šå¯¼è‡´åˆå¹¶å‡ºç°ä¸¤ç§æƒ…å†µ\nå¾…åˆå¹¶çš„å¤šè¾¹å½¢ä¹‹é—´å­˜åœ¨è£‚ç¼ï¼Œä¸”å¤šè¾¹å½¢äº’ç›¸ä¸ç›¸äº¤\nä¹Ÿå°±æ˜¯éš”æµ·ç›¸æœ›çš„é‚£ä¸€ç§ï¼Œæ­¤ç§æƒ…å†µæ˜¯å¯ä»¥é€šè¿‡åç»­æ‰‹æ®µä¿®å¤çš„ï¼Œä¸è¿‡ä¹Ÿæ˜¯åªæœ‰åœ¨è£‚ç¼çš„å®šä¹‰å­˜åœ¨äºåˆå¹¶åçš„å¤šè¾¹å½¢ä¸­ï¼ˆåªä¸è¿‡å¯èƒ½è¢«å®šä¹‰ä¸ºæ´ï¼‰çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åœ¨çš„è¯ï¼Œä¹Ÿä¸çŸ¥é“åº”è¯¥å¦‚ä½•å‡ºæ¥\nå¾…åˆå¹¶çš„å¤šè¾¹å½¢ä¹‹é—´å­˜åœ¨è£‚ç¼ï¼Œä¸”å¤šè¾¹å½¢å­˜åœ¨ç›¸äº¤ï¼Œå¹¶ä¸”äº¤ç‚¹åœ¨è£‚ç¼ä¹‹ä¸Š\nè¿™ç§å½¢å¼ä¾¿ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆå¤„ç†äº†ã€‚\nğŸ’¡ æ„Ÿè§‰æœ¬è´¨ä¸Šï¼Œæ˜¯ä¸€ä¸ªæ‰¾åˆ°è£‚ç¼çš„è¿‡ç¨‹ï¼Œå¹¶å°†è£‚ç¼ä½œä¸ºå†…å®¹çš„ä¸€éƒ¨åˆ†è¿›è¡Œåˆå¹¶ã€‚ä½†æ˜¯å¦‚ä½•ç¡®å®šè£‚ç¼çš„èŒƒå›´ä¹Ÿæ˜¯ä¸å®¹æ˜“çš„ï¼Œè¿™å¯èƒ½å’Œå¤šè¾¹å½¢é—´ç›¸äº’ä½ç½®å…³ç³»æœ‰å…³ç³»\næˆæœ å½’ä¸€åŒ– å³å°†åˆ†ç¦»çš„å›¾å¹…æ•°æ®æå–åˆ°ç»Ÿä¸€ä½ç½®å­˜æ”¾ï¼Œåæ ‡æœ¬æ¥å°±æ˜¯ç»Ÿä¸€çš„ï¼Œä¸éœ€è¦é¢å¤–æ“ä½œ\nå»é™¤æ— æ•ˆåŒºåŸŸä¸æ•°æ® å»é™¤å¢ƒå¤–æ•°æ®ï¼ˆpac \u0026lt; 100000ï¼‰ å»é™¤æµ·åŸŸé¢æ•°æ®ï¼ˆpac = 250100ï¼‰ å»é™¤ç©ºé—´æ— æ•ˆæ•°æ®ï¼ˆST_IsValid(geometry)==falseï¼‰ åˆå¹¶å¤„ç† å³è¿›è¡Œå›¾å¹…åˆå¹¶ï¼ˆä½¿ç”¨pacä¸nameï¼‰\nğŸ’¡ ä»æ­¤å¤„å¯ä»¥å‘ç°ï¼Œéƒ¨åˆ†åŒºåŸŸå­˜åœ¨è£‚ç¼ã€‚ 1ã€pac=632722\n2ã€pac=140404\n3ã€pac=140427\n4ã€pac=520625\n5ã€pac=520628\næˆ‘åŒæ—¶å¯¹æ¯”äº†QGISã€ArcGISä¸­æä¾›çš„Dissolveå·¥å…·çš„èåˆæ•ˆæœï¼ˆä½¿ç”¨pacä¸nameï¼‰ï¼Œå°±éƒ½å­˜åœ¨è£‚ç¼æƒ…å†µä¸Šï¼š åˆå¹¶åçš„æ•°é‡éƒ½æ˜¯ï¼š2900\narcgis ä¼˜äº wukong ä¼˜äº qgis\nArcGIS QGIS WuKong Source Code wukong-github\nå°ç»“ å› åšå¢ƒç•Œåˆå¹¶ï¼Œå¼€å‘äº†WuKongç¨‹åºï¼Œä½†æ˜¯å…¶å«ä¹‰å¹¶ä¸ä»…ä»…åªæ˜¯è¿›è¡Œå¢ƒç•Œåˆå¹¶ï¼Œä»–æ˜¯ä¸€ä¸ªåŸºäºå›½å®¶å¼€æ”¾çš„åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®çš„ï¼ˆç›®å‰æ˜¯åŸºäº1ï¼š100ç©åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®ï¼‰ï¼Œå¯ä»¥è¿›è¡Œå½’ä¸€ã€è½¬æ¢ã€é‡Šæ”¾çš„é€šç”¨ç¨‹åºã€‚\nè™½ç„¶ç›®å‰ä»…å®Œæˆäº†åŸºç¡€å¢ƒç•Œçš„åˆå¹¶ï¼ˆä¸”å­˜åœ¨ç‘•ç–µï¼Œä½†å¥½æ­¹ä¹Ÿå’ŒQGISçš„å®ç°å·®ä¸å¤šä¸æ˜¯ï¼‰ï¼Œä½†è¿™ä»…ä»…åªæ˜¯å¼€å§‹ï¼Œè¿˜æœ‰æ›´å¤šçš„å†…å®¹å¯ä»¥å®ç°ã€‚\nå‚è€ƒ å…¨å›½åœ°ç†ä¿¡æ¯èµ„æºç›®å½•æœåŠ¡ç³»ç»Ÿï¼ˆhttps://www.webmap.cn/ï¼‰ æ•°æ®æ¥æºäºå…¨å›½åœ°ç†ä¿¡æ¯èµ„æºç›®å½•æœåŠ¡ç³»ç»Ÿï¼šwww.webmap.cn\nGB/T 13989-2012 å›½å®¶åŸºæœ¬æ¯”ä¾‹å°ºåœ°å½¢å›¾åˆ†å¹…å’Œç¼–å· 1ï¼š1000000åœ°å½¢å›¾çš„åˆ†å¹… ç»åº¦ï¼š72~138ï¼ˆEï¼‰ï¼Œ43~53ï¼ˆ11ï¼‰\nçº¬åº¦ï¼š0~56ï¼ˆNï¼‰ï¼ŒA~Nï¼ˆ14ï¼‰\nGB/T 33183-2016 åŸºç¡€åœ°ç†ä¿¡æ¯ 1:50 000åœ°å½¢è¦ç´ æ•°æ®è§„èŒƒ 1:50000åœ°å½¢è¦ç´ å±æ€§è¡¨ç»“æ„ å¢ƒç•Œä¸æ”¿åŒº åœ°å 1:50000åœ°å½¢è¦ç´ æ•°æ®è¦ç´ å†…å®¹ä¸é€‰å–æŒ‡æ ‡ èµ°å¤©æ¶¯å¾å°æ´‹å…¬ä¼—å· 2021ç‰ˆå›½å®¶åŸºç¡€åœ°ç†æ•°æ®åº“æ‰¹é‡ä¸‹è½½ä¸æ‹¼æ¥æ–¹æ³•\nã€èµ„æºåˆ†äº«ã€‘å¦‚ä½•æŸ¥æ‰¾é è°±çš„å›½æ ‡ï¼Œå…¨æ–‡å…è´¹çœ‹ï¼å…¨æ–‡å…è´¹çœ‹ï¼å…¨æ–‡å…è´¹çœ‹ï¼\n1ï¼š100ä¸‡åŸºç¡€åœ°ç†æ•°æ®åº“æ€ä¹ˆçœ‹ï¼Ÿæ€ä¹ˆç”¨ï¼Ÿèƒ½å¹²å˜›ï¼Ÿ\nGDAL vector-openfilegdb Vector Data Model - GDAL documentation\nESRI File Geodatabase (OpenFileGDB) - GDAL documentation\nJava bindings - GDAL documentation\nOverview (GDAL/OGR 3.5.0 Java bindings API)\nOther https://github.com/modood/Administrative-divisions-of-China\nST_Centroid\nConda Conda - Conda documentation\ncondaçš„å®‰è£…ä¸ä½¿ç”¨ 2.0ç‰ˆï¼ˆ2022-08-12æ›´æ–°ï¼‰\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/006/","summary":"å‰è¨€ æ­¤å‰æåˆ°å¾®å¤©æ°”åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨åˆ°è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼Œä¸è¿‡ä¸Šä¸€ç« æ‰€ä½¿ç”¨çš„æ•°æ®æ¥æºäºç½‘ç»œï¼Œæˆ–å¤šæˆ–å°‘éƒ½å¯ä»¥è€ƒè™‘ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰å…¶ä»–è·å–çš„æ–¹å¼ï¼Œæ‰€ä»¥ä¹Ÿå°±æœ‰äº†æœ¬æ–‡çš„å†…å®¹ã€‚\nåœ¨è¿™é‡Œï¼Œå°†åŸºäºå…¨å›½1:100ä¸‡åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®è¿›è¡Œè¡Œæ”¿åŒºåˆ’æ•°æ®çš„æå–ã€‚æœ¬æ–‡ç”¨äºè®°å½•ä½¿ç”¨ç¨‹åºå®ç°å…¨å›½1:100ä¸‡åŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®åˆå¹¶çš„å…¨è¿‡ç¨‹ã€‚\nå½“ç„¶ï¼Œæœ¬æ–‡äº§ç”Ÿçš„æœ€é‡è¦åŸå› å…¶å®å¹¶ä¸æ˜¯å—åˆ°å¾®å¤©æ°”çš„å¯å‘ï¼Œæ›´å¤šçš„æ˜¯ä¸ªäººæƒ³è¯•ä¸€è¯•èƒ½ä¸èƒ½ç”¨ã€‚\næ•°æ®è¯´æ˜ å…¨å›½1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®ï¼ˆ2021ï¼‰è¦†ç›–å…¨å›½é™†åœ°èŒƒå›´å’ŒåŒ…æ‹¬å°æ¹¾å²›ã€æµ·å—å²›ã€é’“é±¼å²›ã€å—æµ·è¯¸å²›åœ¨å†…çš„ä¸»è¦å²›å±¿åŠå…¶ä¸´è¿‘æµ·åŸŸï¼Œå…±77å¹…1:100ä¸‡å›¾å¹…ï¼Œè¯¥æ•°æ®é›†æ•´ä½“ç°åŠ¿æ€§ä¸º2019å¹´ã€‚æ•°æ®é‡‡ç”¨2000å›½å®¶å¤§åœ°åæ ‡ç³»ï¼Œ1985å›½å®¶é«˜ç¨‹åŸºå‡†ï¼Œç»çº¬åº¦åæ ‡ã€‚\nä¸ºæ»¡è¶³å¹¿å¤§ç¤¾ä¼šç¾¤ä¼—å¯¹åœ°ç†ä¿¡æ¯æ•°æ®èµ„æºçš„éœ€æ±‚ï¼Œç»è‡ªç„¶èµ„æºéƒ¨æˆæƒï¼Œå…¨å›½åœ°ç†ä¿¡æ¯èµ„æºç›®å½•æœåŠ¡ç³»ç»Ÿæä¾›å…¨å›½1:100ä¸‡å…¨å›¾å±‚è¦ç´ å…è´¹ä¸‹è½½çš„æœåŠ¡ã€‚ä¸‹è½½æ•°æ®é‡‡ç”¨1ï¼š100ä¸‡æ ‡å‡†å›¾å¹…åˆ†å‘ï¼Œå†…å®¹åŒ…æ‹¬æ°´ç³»ã€å±…æ°‘åœ°åŠè®¾æ–½ã€äº¤é€šã€ç®¡çº¿ã€å¢ƒç•Œä¸æ”¿åŒºã€åœ°è²Œä¸åœŸè´¨ã€æ¤è¢«ã€åœ°ååŠæ³¨è®°9ä¸ªæ•°æ®é›†ï¼Œä¸”ä¿å­˜è¦ç´ é—´ç©ºé—´å…³ç³»å’Œç›¸å…³å±æ€§ä¿¡æ¯ã€‚\nğŸ’¡ æä¾›ä¸‹è½½çš„æ˜¯çŸ¢é‡æ•°æ®ï¼Œä¸æ˜¯æœ€ç»ˆåœ°å›¾ï¼Œä¸ç¬¦å·åŒ–åçš„åœ°å›¾å†å¯è§†åŒ–è¡¨è¾¾ä¸Šå­˜åœ¨ä¸€å®šå·®å¼‚ã€‚ç”¨æˆ·åˆ©ç”¨æ­¤æ•°æ®ç¼–åˆ¶åœ°å›¾ï¼Œåº”å½“ä¸¥æ ¼æ‰§è¡Œã€Šåœ°å›¾ç®¡ç†æ¡ä¾‹ã€‹æœ‰å…³è§„å®šï¼›ç¼–åˆ¶çš„åœ°å›¾å¦‚éœ€å‘ç¤¾ä¼šå…¬å¼€çš„ï¼Œè¿˜åº”å½“ä¾æ³•å±¥è¡Œåœ°å›¾å®¡æ ¸ç¨‹åºã€‚\næˆæœè§„æ ¼ åˆ†å¹…ç¼–å·åŠèŒƒå›´\n1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåŸºç¡€åœ°ç†ä¿¡æ¯æ•°æ®ï¼ˆ2021ï¼‰çš„å›¾å¹…æ€»æ•°ä¸º77å¹…ï¼Œåˆ†å¹…æ•°æ®æŒ‰ç…§GB/T 13989-2012ã€Šå›½å®¶åŸºæœ¬æ¯”ä¾‹å°ºåœ°å½¢å›¾åˆ†å¹…å’Œç¼–å·ã€‹æ‰§è¡Œã€‚ç©ºé—´å­˜å‚¨å•å…ƒä¸º6Â°ï¼ˆç»å·®ï¼‰Ã—4Â°ï¼ˆçº¬å·®ï¼‰ã€‚\nåæ ‡ç³»ç»Ÿ\nå¹³é¢åæ ‡ç³»ï¼š 2000å›½å®¶å¤§åœ°åæ ‡ç³»ã€‚ é«˜ç¨‹åŸºå‡†ï¼š1985å›½å®¶é«˜ç¨‹åŸºå‡†ã€‚ åœ°å›¾æŠ•å½±ï¼šåˆ†å¹…æ•°æ®é‡‡ç”¨åœ°ç†åæ ‡ï¼Œåæ ‡å•ä½ä¸ºåº¦ã€‚ å‡ ä½•ç²¾åº¦\næ›´æ–°ååœ°ç‰©ç‚¹å¯¹äºé™„è¿‘é‡å¤–æ§åˆ¶ç‚¹çš„å¹³é¢ä½ç½®å’Œé«˜ç¨‹ä¸­è¯¯å·®ç¬¦åˆä¸‹è¡¨çš„è¦æ±‚ï¼Œä»¥ä¸¤å€ä¸­è¯¯å·®å€¼ä¸ºæœ€å¤§è¯¯å·®ã€‚\nåœ°ç‰©ç‚¹è¯¯å·® æœ€å° æœ€å¤§ å¹³é¢ä½ç½® 100 500 é«˜ç¨‹ 50 200 ç°åŠ¿æ€§\n1:100ä¸‡åœ°å½¢æ•°æ®ç°åŠ¿æ€§ä¸æ›´æ–°ä½¿ç”¨çš„æ•°æ®æºçš„ç°åŠ¿æ€§ä¸€è‡´ï¼Œæ•°æ®æ•´ä½“ç°åŠ¿æ€§è¾¾åˆ°2019å¹´ã€‚\næˆæœæ•°æ®ç»„ç»‡ å…¨å›½1ï¼š100ä¸‡å…¬ä¼—ç‰ˆåœ°å½¢æ•°æ®ï¼ˆ2021ï¼‰å†…å®¹åŒ…æ‹¬æ°´ç³»ã€å±…æ°‘åœ°åŠè®¾æ–½ã€äº¤é€šã€ç®¡çº¿ã€å¢ƒç•Œä¸æ”¿åŒºã€åœ°è²Œä¸åœŸè´¨ã€æ¤è¢«ã€åœ°ååŠæ³¨è®°9ä¸ªæ•°æ®é›†ã€‚\næ•°æ®åˆ†å±‚çš„å‘½åé‡‡ç”¨å››ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨æ•°æ®åˆ†ç±»ï¼Œç¬¬äºŒä¸‰ä¸ªå­—ç¬¦æ˜¯æ•°æ®å†…å®¹çš„ç¼©å†™ï¼Œç¬¬å››ä¸ªå­—ç¬¦ä»£è¡¨å‡ ä½•ç±»å‹ã€‚\nç›®æ ‡ å®ç°åˆ†å›¾å±‚åˆå¹¶ï¼ˆå¤„ç†å›¾å¹…åˆå¹¶æ—¶æ¥è¾¹é—®é¢˜ï¼‰ æ°´ç³»ï¼ˆæš‚ç¼“ï¼‰ äº¤é€šï¼ˆæš‚ç¼“ï¼‰ å¢ƒç•Œä¸æ”¿åŒºï¼ˆå›½ã€çœã€å¸‚ã€å¿ï¼‰ åœ°ååŠæ³¨è®° æ ¹æ®åˆå¹¶åçš„è¡Œæ”¿åŒºåˆ’ä¸åœ°åæ³¨è®°ï¼Œåˆ¶ä½œè¡Œæ”¿åŒºåˆ’æ•°æ®åº“ æ•°æ®åº“ä½¿ç”¨PostgreSQLï¼ˆPostGISï¼‰ è®¾è®¡ å›¾å±‚è§£æç¨‹åº Javaç¨‹åºï¼Œ ä½¿ç”¨GDAL è¯»å–GDB\né€»è¾‘ æ ¹æ®ã€Šå›½å®¶åŸºæœ¬æ¯”ä¾‹å°ºåœ°å½¢å›¾åˆ†å¹…å’Œç¼–å·ã€‹è§„å®šå¯çŸ¥ç½‘æ ¼èŒƒå›´ï¼Œé€šè¿‡ç½‘æ ¼èŒƒå›´åŠ¨æ€ç”Ÿæˆå¯¹åº”ç½‘æ ¼çš„åˆ†å¹…ç¼–å·ï¼Œå¹¶ä»¥è¯¥ç¼–å·è¿›è¡Œæ•°æ®æ£€ç´¢ã€‚å¦‚æœå‘½ä¸­åˆ™æ ¹æ®æˆæœæ•°æ®ç»„ç»‡è§„æ ¼ä»¥åŠç›¸å…³æ ‡å‡†å¯¹æ•°æ®è¿›è¡Œè§£æï¼Œå¦‚æœæœªå‘½ä¸­åˆ™è·³è¿‡ï¼Œç›´è‡³ç½‘æ ¼æ‰«æå®Œæ¯•ã€‚\nç»åº¦ï¼š72~138ï¼ˆEï¼‰ï¼Œ43~53ï¼ˆ11ï¼‰ çº¬åº¦ï¼š0~56ï¼ˆNï¼‰ï¼ŒA~Nï¼ˆ14ï¼‰ å³ï¼Œç½‘æ ¼èŒƒå›´:[43,53] x [A,N] æ•°æ®çš„å¤„ç†æµç¨‹å¯ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼è¿›è¡Œï¼Œåç»­ä¹Ÿæ–¹ä¾¿åŠ å…¥å…¶ä»–çš„å¤„ç†æµç¨‹ã€‚å³ï¼Œæ•´ä½“çš„æ‰§è¡Œæ¡†æ¶ä¸ºç­–ç•¥æ¨¡å¼+è´£ä»»é“¾æ¨¡å¼ã€‚ä¸ºç»Ÿä¸€ç­–ç•¥é€‰æ‹©æ¨¡å‹ï¼Œåœ¨æ­¤æå‡ºå›¾å±‚å®šä¹‰ï¼ˆLayerDefinitionï¼‰çš„æ¦‚å¿µã€‚\nLayerDefinitionç”±å¦‚ä¸‹å‡ ä¸ªå…³é”®è¦ç´ ç»„æˆï¼š\nå›¾å±‚æ•°æ®æºï¼ˆLayerSourceï¼‰ driverï¼šé©±åŠ¨ï¼Œå‚è€ƒjava.sql.UnWrapperå®ç° instance name catalogï¼š schemaï¼š tableï¼š commonDefinitionKey ï¼šå¸¸è§„å®šä¹‰ç¼“å­˜çš„key fieldDefinitionKey ï¼šå­—æ®µå®šä¹‰ç¼“å­˜çš„key featureCarrierKey ï¼šè¦ç´ è½½ä½“ç¼“å­˜çš„key originï¼šæ•°æ®æ¥æºï¼ˆåˆ†å¹…æ–‡ä»¶è·¯å¾„ï¼‰ scaleï¼šæ¯”ä¾‹å°ºï¼ˆå¦‚ï¼š1000000ï¼Œè¡¨ç¤º1:1000000ï¼‰ sourceSpatialRefï¼šæºåæ ‡ç³»ï¼ˆè¡¨ç°å½¢å¼å¯ä¸ºæ ‡å‡†IDã€PROJ Textã€WKT Textï¼‰ sinkSpatialRefï¼šç›®æ ‡åæ ‡ç³»ï¼ˆè¡¨ç°å½¢å¼å¯ä¸ºæ ‡å‡†IDã€PROJ Textã€WKT Textï¼‰ featureCodeï¼šè¦ç´ åˆ†ç±»ç ï¼Œå¯¹åº”æˆæœæ•°æ®ç»„ç»‡ä¸­çš„è¦ç´ åˆ†ç±»ï¼ˆå¦‚ï¼šCã€Bï¼‰ nameï¼šå›¾å±‚å‘½åï¼Œä¹Ÿæ˜¯å›¾å±‚åˆ†ç±»ç  layerCodeï¼šå›¾å±‚åˆ†ç±»ç  releaseï¼šé‡Šæ”¾æ ¼å¼ï¼ˆæ¯”å¦‚ï¼šWMTSã€Shapefileã€GDBâ€¦ï¼‰ æè¿°å­—ç¬¦ä¸ºï¼šæ¯”ä¾‹å°º:æºåæ ‡ç³»:ç›®æ ‡åæ ‡ç³»:è¦ç´ åˆ†ç±»ç :å›¾å±‚åç§°:é‡Šæ”¾æ ¼å¼ï¼Œåœ¨æè¿°å­—ç¬¦ä¸²ä¸­ï¼Œåæ ‡ç³»ä»…ä½¿ç”¨æ ‡å‡†IDè¡¨ç¤º","title":"å¾®å¤©æ°”â€”è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼ˆäºŒï¼‰"},{"content":"å‰è¨€ å¾®å¤©æ°”ç¨‹åºä¸­å­˜åœ¨å¦‚ä¸‹å‡ ä¸ªåŠŸèƒ½éœ€è¦ä½¿ç”¨åˆ°è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼š\nåŸå¸‚åˆ—è¡¨ï¼Œéœ€è¦æ”¯æŒåŸå¸‚æœç´¢ æ ¹æ®ç»çº¬åº¦è·åŒºåŸŸï¼ˆåŸå¸‚ï¼‰çš„å¤©æ°”æ•°æ® åœ°å›¾åæ ‡æ‹¾å–å¹¶è·å–æ‰€å¤„åŒºåŸŸï¼ˆåŸå¸‚ï¼‰ä¿¡æ¯ï¼ŒåŒæ—¶è·å–å¤©æ°”æ•°æ® å¯¹äºåŸå¸‚çš„å¤©æ°”æ•°æ®ï¼Œä¸ä½¿ç”¨å’Œé£å¤©æ°”çš„åŸå¸‚åˆ—è¡¨ï¼Œè€Œæ˜¯è‡ªè¡Œç»´æŠ¤ï¼Œé€šè¿‡ç©ºé—´ä½ç½®ï¼ˆç»çº¬åº¦ï¼‰è¿›è¡Œå…³è”ã€‚å¯¹äºåŸå¸‚ä½ç½®çš„å®šä¹‰ï¼Œæœ¬å¯ä»¥é€‰æ‹©å¦‚è¡Œæ”¿ä¸­å¿ƒæˆ–å¸‚ä¸­å¿ƒï¼Œä½†æˆ‘æ²¡æœ‰è¿™æ ·çš„æ•°æ®ï¼Œå°±ç›´æ¥ç”¨åŸå¸‚åŒºåˆ’èŒƒå›´çš„ä¸­å¿ƒç‚¹ä»£æ›¿ã€‚ä¸å‡†ç¡®ä¸é‡è¦ï¼Œè¿‡ç¨‹å·²ç»æ»¡è¶³äº†ï¼Œä¸”åç»­æ˜¯å¯ä»¥æ›¿æ¢çš„ã€‚\nå…¶å®å®Œå…¨å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„åŸå¸‚æ•°æ®å’ŒGeoAPIè¦†ç›–è¿™äº›åŠŸèƒ½ï¼Œä½†æ—¢ç„¶æˆ‘æ˜¯åšGISå¼€å‘çš„ï¼Œè€Œä¸”æ‰‹é‡Œä¹Ÿæœ‰å¯ä»¥ç”¨ä½œç ”ç©¶å­¦ä¹ çš„æ•°æ®ï¼Œä¸ºå•¥ä¸ç”¨å‘¢ã€‚\nä»Šå¤©çªç„¶å‘ç°ï¼Œå…¶å®æˆ‘å¯ä»¥çˆ¬ä¸€ä¸‹å’Œé£çš„æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥æ‹¿åˆ°åŸå¸‚é€‰æ‹©çš„ç»çº¬åº¦æ•°æ®äº† @time 2023.10.10\nAbout è¡Œæ”¿åŒºåˆ’è§£æç¨‹åºï¼Œè¾“å…¥shapeæ–‡ä»¶ï¼Œå†™å…¥Postgresql.\nå¤§ä½“å®Œæ•´çš„å››çº§è¡Œæ”¿åŒºåˆ’æ•°æ®ç»„ç»‡\ngithub link: fuyi-district-parse\næ•°æ®æƒ…å†µ æ•°æ®åŸæºäºç½‘ç»œï¼Œç”±äºæ—¶é—´ä¹…è¿œï¼Œæˆ‘å·²ç»å¿˜è®°äº†æ˜¯å¦‚ä½•è·å–åˆ°çš„\nåè¯è§£é‡Š çœçº§è¡Œæ”¿åŒº ä¸­å›½çš„ä¸€çº§è¡Œæ”¿åŒºï¼Œæˆ–ç§°å›½å®¶ä¸€çº§è¡Œæ”¿åŒºæˆ–çœçº§è¡Œæ”¿åŒºï¼Œæ˜¯æŒ‡ç›´å±ä¸­å¤®æ”¿åºœç®¡è¾–çš„è¡Œæ”¿åŒºåˆ’ï¼Œåœ¨å†å²ä¸Šæ›¾æœ‰ä¸åŒçš„ç§°å‘¼ã€‚å¦‚ï¼šçœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚ã€ç‰¹åˆ«è¡Œæ”¿åŒºã€‚\nåœ°çº§è¡Œæ”¿åŒº åœ°çº§è¡Œæ”¿åŒºå³â€œåœ°åŒºçº§åˆ«è¡Œæ”¿åŒºâ€ï¼Œæ˜¯ç°è¡Œä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’ä¸­å¸¸è§„çš„ç¬¬äºŒçº§è¡Œæ”¿åŒºåˆ’å•ä½ï¼ŒåŒ…æ‹¬åœ°çº§å¸‚ã€åœ°åŒºã€ç›Ÿã€è‡ªæ²»å·ç­‰ã€‚åœ°çº§è¡Œæ”¿åŒºéš¶å±äºçœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚ç­‰çœçº§è¡Œæ”¿åŒºä¹‹ä¸‹ï¼›ä¸‹è¾–è‹¥å¹²ä¸ªå¿ã€åŒºã€å¿çº§å¸‚ã€æ——ç­‰å¿çº§è¡Œæ”¿åŒºã€‚ä½œä¸ºç‰¹ä¾‹ï¼Œä¸œèå¸‚ã€ä¸­å±±å¸‚ã€å˜‰å³ªå…³å¸‚ã€å„‹å·å¸‚ç­‰å››ä¸ªåœ°çº§å¸‚ä¸‹è¾–è¡—é“åŠäº‹å¤„ä¸ä¹¡é•‡ï¼Œä¸è¾–å¿ã€åŒºï¼Œå› æ­¤ä¹Ÿç§°ä½œâ€œç›´ç­’å­ï¼ˆåœ°çº§ï¼‰å¸‚â€ã€‚åœ°çº§è¡Œæ”¿åŒºçš„çº§åˆ«ä¸ºæ­£å…çº§ï¼Œæ‰€ä»¥éæ­£å…çº§çš„çœç›´è¾–çš„è¡Œæ”¿åŒºåˆ’ä¸ç®—ä½œåœ°çº§è¡Œæ”¿åŒºï¼Œä¾‹å¦‚ï¼šæ¹–åŒ—çœè¾–çš„ä»™æ¡ƒå¸‚ã€å¤©é—¨å¸‚ã€æ½œæ±Ÿå¸‚ï¼›æ²³å—çœè¾–çš„æµæºå¸‚ç­‰ç­‰ã€‚ç›´è¾–å¸‚ä¸‹è¾–çš„åŒºï¼Œè™½ç„¶æ˜¯æ­£å…çº§ï¼Œä½†æœªåˆ—å…¥åœ°çº§è¡Œæ”¿åŒºçš„ç»Ÿè®¡ã€‚\nå¿çº§è¡Œæ”¿åŒº å¿ä¸ºä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’å•ä½ä¹‹ä¸€ï¼Œå¿çº§è¡Œæ”¿åŒºæŒ‡è¡Œæ”¿åœ°ä½ä¸â€œå¿â€ç›¸åŒçš„è¡Œæ”¿åŒºåˆ’å•ä½çš„æ€»ç§°ï¼Œå…¶ç®¡è¾–ä¹¡çº§è¡Œæ”¿åŒºã€‚ä¸ºä¹¡ã€é•‡çš„ä¸Šä¸€çº§è¡Œæ”¿åŒºåˆ’å•ä½ã€‚ä¸­åäººæ°‘å…±å’Œå›½æˆç«‹åï¼Œéšç€è¡Œæ”¿ç£å¯ŸåŒºåç§°çš„å˜æ›´ï¼Œé™¤å„ç›´è¾–å¸‚å‡éš¶å±äºä¸“åŒºï¼ˆè¡Œæ”¿ç£å¯Ÿä¸“åŒºï¼‰ã€åœ°åŒºæˆ–åœ°çº§è¡Œæ”¿åŒºï¼Œç°é™¤å„ç›´è¾–å¸‚ã€æµ·å—çœç›´ç®¡å¿å¤–å‡ä¸ºåœ°çº§è¡Œæ”¿åŒºçš„ä¸‹ä¸€çº§è¡Œæ”¿åŒºã€‚\næŒ‰çœã€å¿ã€ä¹¡ä¸‰çº§è¡Œæ”¿åŒºåˆ’åˆ¶åº¦åˆ’åˆ†ï¼Œå¿çº§è¡Œæ”¿åŒºå±äºç¬¬äºŒçº§è¡Œæ”¿åŒºï¼Œä¸ºç›´è¾–å¸‚çš„ä¸‹çº§è¡Œæ”¿åŒºåˆ’å•ä½ã€‚ æŒ‰çœã€åœ°ã€å¿ã€ä¹¡å››çº§è¡Œæ”¿åŒºåˆ’åˆ¶åº¦åˆ’åˆ†ï¼Œå¿çº§è¡Œæ”¿åŒºå±äºç¬¬ä¸‰çº§è¡Œæ”¿åŒºï¼Œå±äºçœã€è‡ªæ²»åŒºæ‰€è¾–åœ°çº§è¡Œæ”¿åŒºçš„ä¸‹çº§è¡Œæ”¿åŒºåˆ’å•ä½ã€‚ ä¹¡çº§è¡Œæ”¿åŒº ä¹¡ï¼Œä¸­åäººæ°‘å…±å’Œå›½ç°è¡ŒåŸºå±‚è¡Œæ”¿åŒºåˆ’å•ä½ï¼ŒåŒºåˆ’å±‚æ¬¡ä»‹äºå¿ä¸æ‘ä¹‹é—´ã€‚â€œä¹¡â€ä¸ºå¿ã€å¿çº§å¸‚ä¸‹çš„ä¸»è¦è¡Œæ”¿åŒºåˆ’ç±»å‹ä¹‹ä¸€ã€‚ä¸­å›½è¡Œæ”¿åŒºåˆ’å²ä¸Šï¼Œâ€œä¹¡â€ä¸€ç›´ä¸ºå¿çš„è¡Œæ”¿åŒºåˆ’å•å…ƒï¼Œå› æ­¤ç°è¡Œå¤„åŒä¸€å±‚æ¬¡çš„åŒºåˆ’å•ä½å½’å…¥ä¹¡çº§è¡Œæ”¿åŒºã€‚ä¸­å›½è‡ªæ”¹é©å¼€æ”¾ä»¥æ¥ï¼Œç”±äºåŸå¸‚çš„å¿«é€Ÿæ‰©å¼ ï¼Œè¡Œæ”¿åŒºåˆ’åˆ¶åº¦å‡ºç°äº†å¤§çš„å˜é©ã€‚1980å¹´ä»£ä»¥åâ€œä¹¡æ”¹é•‡â€ã€â€œä¹¡æ”¹è¡—é“â€çš„ç°è±¡è¶Šæ¥è¶Šæ™®éã€‚\nåœ¨ä¹¡çº§è¡Œæ”¿åŒºåˆ’ä¸­ï¼Œä¹¡ï¼ˆåŒ…æ‹¬é•‡ï¼‰è®¾æœ‰ä¸€çº§äººæ°‘æ”¿åºœï¼Œå±äºåŸºå±‚æ”¿æƒï¼›ä¹¡çš„è¡Œæ”¿åŒºåˆ’å•ä½ä¸ºæ‘ï¼ˆå«æ°‘æ—æ‘ï¼‰ã€‚ä½†å¾ˆå¤šä¹¡è®¾æœ‰ç¤¾åŒºï¼Œä¹¡çš„åŒºåˆ’å•ä½è®¾ç½®ä¸é•‡ã€è¡—é“çœ‹ä¸å‡ºå®è´¨æ€§å·®å¼‚ã€‚\nç›®çš„ è§£ææ‰€æœ‰æ•°æ®æ–‡ä»¶ï¼Œå®ç°æœ€ç»ˆå…¥åº“\nä½¿ç”¨GeoToolså®ç°\næ•°æ®åº“è¡¨ç»“æ„ï¼š\nè¡Œæ”¿åŒºåˆ’ä¿¡æ¯ï¼ˆdistrict_infoï¼‰\nidï¼šè‡ªå¢Idï¼ˆbigserialï¼‰ nameï¼šè¡Œæ”¿åŒºåˆ’åç§° gradeï¼šè¡Œæ”¿åŒºåˆ’ç­‰çº§ï¼ˆçœçº§è¡Œæ”¿åŒºï¼š1ï¼Œ åœ°çº§è¡Œæ”¿åŒºï¼š2ï¼Œ å¿çº§è¡Œæ”¿åŒºï¼š3ï¼Œï¼‰ codeï¼šè¡Œæ”¿åŒºä»£ç  center_pointï¼šä¸­å¿ƒç‚¹ï¼ˆgeometry::pointï¼‰ boundsï¼šè¡Œæ”¿åŒºè¾¹ç•Œï¼ˆgeometryï¼‰ æ³¨ï¼š\næ•°æ®å…¥åº“å‰å®¡æŸ¥ï¼Œä¿è¯è¡Œæ”¿åŒºä»£ç å”¯ä¸€ ä½¿ç”¨gradeåŒºåˆ†çœã€å¸‚ã€å¿ã€ä¹¡é•‡ å¯¹äºçœã€å¸‚ã€å¿codeåˆ—ï¼Œç»Ÿä¸€è¿›è¡Œå‰6ä½æˆªå–ï¼ˆä¸æ»¡6ä½å­—ç¬¦æ‰€åœ¨æ•°æ®ï¼Œç›´æ¥ä¸¢å¼ƒï¼‰ï¼Œå¯¹äºä¹¡é•‡åˆ™ç»Ÿä¸€è¿›è¡Œå‰9ä½è¿›è¡Œæˆªå–ï¼ˆä¸æ»¡9ä½å­—ç¬¦æ‰€åœ¨æ•°æ®ï¼Œç›´æ¥ä¸¢å¼ƒï¼‰ çœçº§è¡Œæ”¿åŒº å­˜åœ¨é”™ä¹±æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡Œæ”¿åŒºä»£ç è¯†åˆ«ï¼ˆadcodeï¼‰\nåœ°çº§è¡Œæ”¿åŒº å­˜åœ¨é”™ä¹±æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡Œæ”¿åŒºä»£ç è¯†åˆ«ï¼ˆcodeï¼‰ï¼Œéœ€è¦æˆªå–å‰6ä½\nå¿çº§è¡Œæ”¿åŒº å­˜åœ¨é”™ä¹±æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡Œæ”¿åŒºä»£ç è¯†åˆ«ï¼ˆcodeï¼‰ï¼Œéœ€è¦æˆªå–å‰6ä½\nä¹¡çº§è¡Œæ”¿åŒº æˆæœ è®°å½•æ•°ï¼š46652\nç‚¹æ•°æ®ä¸ºå„ä¸ªè¡Œæ”¿åŒºä¸­å¿ƒç‚¹\næ•°æ®è¡¨ PostGIS CREATE EXTENSION IF NOT EXISTS postgis WITH SCHEMA public; è¡Œæ”¿åŒºåˆ’ -- -- Name: district_info_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres -- CREATE SEQUENCE public.district_info_id_seq START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1; ALTER TABLE public.district_info_id_seq OWNER TO postgres; -- Table: public.district_info -- DROP TABLE IF EXISTS public.district_info; CREATE TABLE IF NOT EXISTS public.district_info ( name character varying COLLATE pg_catalog.\u0026#34;default\u0026#34;, grade integer, code character varying COLLATE pg_catalog.\u0026#34;default\u0026#34;, center_point geometry(Point,4326), bounds geometry(MultiPolygon,4326), create_time timestamp without time zone DEFAULT CURRENT_TIMESTAMP, uid character varying COLLATE pg_catalog.\u0026#34;default\u0026#34;, id bigint NOT NULL DEFAULT nextval(\u0026#39;district_info_id_seq\u0026#39;::regclass), CONSTRAINT district_info_pkey PRIMARY KEY (id) ) TABLESPACE pg_default; ALTER TABLE IF EXISTS public.district_info OWNER to postgres; COMMENT ON TABLE public.district_info IS \u0026#39;è¡Œæ”¿åŒºåˆ’ä¿¡æ¯è¡¨\u0026#39;; COMMENT ON COLUMN public.district_info.name IS \u0026#39;è¡Œæ”¿åŒºåç§°\u0026#39;; COMMENT ON COLUMN public.district_info.grade IS \u0026#39;è¡Œæ”¿åŒºç­‰çº§ï¼Œç›®å‰æ”¯æŒï¼šï¼ˆ1ï¼šçœçº§è¡Œæ”¿åŒºï¼Œ2ï¼›å¸‚çº§è¡Œæ”¿åŒºï¼Œ3ï¼šå¿çº§è¡Œæ”¿åŒºï¼Œ4ï¼šä¹¡çº§è¡Œæ”¿åŒºï¼‰\u0026#39;; COMMENT ON COLUMN public.district_info.code IS \u0026#39;è¡Œæ”¿åŒºç¼–ç ã€‚å…¶ä¸­ï¼Œå¿çº§ä¸å¿çº§ä»¥ä¸Šè¡Œæ”¿åŒºç¼–ç ä¸º6ä½ï¼Œå¿çº§ä»¥ä¸‹ï¼ˆå³ä¹¡çº§ï¼‰è¡Œæ”¿åŒºç¼–ç ä¸º9ä½\u0026#39;; COMMENT ON COLUMN public.district_info.center_point IS \u0026#39;è¡Œæ”¿åŒºä¸­å¿ƒç‚¹ï¼Œæ•°æ®åæ ‡ç³»ï¼š4326\u0026#39;; COMMENT ON COLUMN public.district_info.bounds IS \u0026#39;è¡Œæ”¿åŒºè¾¹ç•Œï¼Œæ•°æ®åæ ‡ç³»ï¼š4326\u0026#39;; COMMENT ON COLUMN public.district_info.uid IS \u0026#39;å”¯ä¸€æ ‡è¯†ï¼Œä¾¿äºæ•°æ®è¿ç§»\u0026#39;; -- -- Name: district_info_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres -- ALTER SEQUENCE public.district_info_id_seq OWNED BY public.district_info.id; æ—¥å¿— ... org.fuyi.district.DistrictParseApplication /home/fuyi/GeoDatabase/China ------------------- /home/fuyi/GeoDatabase/China/é‡åº†å¸‚/é‡åº†å¸‚_å¸‚ç•Œ.shp current element size: 12 ------------------- /home/fuyi/GeoDatabase/China/é‡åº†å¸‚/é‡åº†å¸‚_çœç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/é‡åº†å¸‚/é‡åº†å¸‚_å¿ç•Œ.shp current element size: 75 ------------------- /home/fuyi/GeoDatabase/China/é‡åº†å¸‚/é‡åº†å¸‚_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1218 ------------------- /home/fuyi/GeoDatabase/China/æ–°ç–†è‡ªæ²»åŒº/æ–°ç–†è‡ªæ²»åŒº_çœç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/æ–°ç–†è‡ªæ²»åŒº/æ–°ç–†è‡ªæ²»åŒº_å¿ç•Œ.shp current element size: 111 ------------------- /home/fuyi/GeoDatabase/China/æ–°ç–†è‡ªæ²»åŒº/æ–°ç–†è‡ªæ²»åŒº_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1410 ------------------- /home/fuyi/GeoDatabase/China/æ–°ç–†è‡ªæ²»åŒº/æ–°ç–†è‡ªæ²»åŒº_å¸‚ç•Œ.shp current element size: 28 ------------------- /home/fuyi/GeoDatabase/China/æ¹–åŒ—çœ/æ¹–åŒ—çœ_å¸‚ç•Œ.shp current element size: 28 ------------------- /home/fuyi/GeoDatabase/China/æ¹–åŒ—çœ/æ¹–åŒ—çœ_çœç•Œ.shp current element size: 6 ------------------- /home/fuyi/GeoDatabase/China/æ¹–åŒ—çœ/æ¹–åŒ—çœ_å¿ç•Œ.shp current element size: 150 ------------------- /home/fuyi/GeoDatabase/China/æ¹–åŒ—çœ/æ¹–åŒ—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1679 ------------------- /home/fuyi/GeoDatabase/China/é™•è¥¿çœ/é™•è¥¿çœ_å¸‚ç•Œ.shp current element size: 24 ------------------- /home/fuyi/GeoDatabase/China/é™•è¥¿çœ/é™•è¥¿çœ_å¿ç•Œ.shp current element size: 158 ------------------- /home/fuyi/GeoDatabase/China/é™•è¥¿çœ/é™•è¥¿çœ_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/é™•è¥¿çœ/é™•è¥¿çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1559 ------------------- /home/fuyi/GeoDatabase/China/å¹¿ä¸œçœ/å¹¿ä¸œçœ_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/å¹¿ä¸œçœ/å¹¿ä¸œçœ_å¿ç•Œ.shp current element size: 160 ------------------- /home/fuyi/GeoDatabase/China/å¹¿ä¸œçœ/å¹¿ä¸œçœ_å¸‚ç•Œ.shp current element size: 31 ------------------- /home/fuyi/GeoDatabase/China/å¹¿ä¸œçœ/å¹¿ä¸œçœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1902 ------------------- /home/fuyi/GeoDatabase/China/äº‘å—çœ/äº‘å—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1594 ------------------- /home/fuyi/GeoDatabase/China/äº‘å—çœ/äº‘å—çœ_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/äº‘å—çœ/äº‘å—çœ_å¿ç•Œ.shp current element size: 165 ------------------- /home/fuyi/GeoDatabase/China/äº‘å—çœ/äº‘å—çœ_å¸‚ç•Œ.shp current element size: 27 ------------------- /home/fuyi/GeoDatabase/China/å®å¤çœ/å®å¤çœ_å¸‚ç•Œ.shp current element size: 12 ------------------- /home/fuyi/GeoDatabase/China/å®å¤çœ/å®å¤çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 326 ------------------- /home/fuyi/GeoDatabase/China/å®å¤çœ/å®å¤çœ_å¿ç•Œ.shp current element size: 36 ------------------- /home/fuyi/GeoDatabase/China/å®å¤çœ/å®å¤çœ_çœç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/å†…è’™å¤è‡ªæ²»åŒº/å†…è’™å¤è‡ªæ²»åŒº_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1498 ------------------- /home/fuyi/GeoDatabase/China/å†…è’™å¤è‡ªæ²»åŒº/å†…è’™å¤è‡ªæ²»åŒº_å¸‚ç•Œ.shp current element size: 35 ------------------- /home/fuyi/GeoDatabase/China/å†…è’™å¤è‡ªæ²»åŒº/å†…è’™å¤è‡ªæ²»åŒº_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/å†…è’™å¤è‡ªæ²»åŒº/å†…è’™å¤è‡ªæ²»åŒº_å¿ç•Œ.shp current element size: 173 ------------------- /home/fuyi/GeoDatabase/China/æµ·å—çœ/æµ·å—çœ_å¿ç•Œ.shp current element size: 27 ------------------- /home/fuyi/GeoDatabase/China/æµ·å—çœ/æµ·å—çœ_çœç•Œ.shp current element size: 1 ------------------- /home/fuyi/GeoDatabase/China/æµ·å—çœ/æµ·å—çœ_å¸‚ç•Œ.shp current element size: 19 ------------------- /home/fuyi/GeoDatabase/China/æµ·å—çœ/æµ·å—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 214 ------------------- /home/fuyi/GeoDatabase/China/å±±ä¸œçœ/å±±ä¸œçœ_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/å±±ä¸œçœ/å±±ä¸œçœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1984 ------------------- /home/fuyi/GeoDatabase/China/å±±ä¸œçœ/å±±ä¸œçœ_å¸‚ç•Œ.shp current element size: 27 ------------------- /home/fuyi/GeoDatabase/China/å±±ä¸œçœ/å±±ä¸œçœ_å¿ç•Œ.shp current element size: 167 ------------------- /home/fuyi/GeoDatabase/China/æµ™æ±Ÿçœ/æµ™æ±Ÿçœ_çœç•Œ.shp current element size: 6 ------------------- /home/fuyi/GeoDatabase/China/æµ™æ±Ÿçœ/æµ™æ±Ÿçœ_å¸‚ç•Œ.shp current element size: 18 ------------------- /home/fuyi/GeoDatabase/China/æµ™æ±Ÿçœ/æµ™æ±Ÿçœ_å¿ç•Œ.shp current element size: 110 ------------------- /home/fuyi/GeoDatabase/China/æµ™æ±Ÿçœ/æµ™æ±Ÿçœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1431 ------------------- /home/fuyi/GeoDatabase/China/é’æµ·çœ/é’æµ·çœ_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/é’æµ·çœ/é’æµ·çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 470 ------------------- /home/fuyi/GeoDatabase/China/é’æµ·çœ/é’æµ·çœ_å¿ç•Œ.shp current element size: 72 ------------------- /home/fuyi/GeoDatabase/China/é’æµ·çœ/é’æµ·çœ_å¸‚ç•Œ.shp current element size: 19 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè‹çœ/æ±Ÿè‹çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1634 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè‹çœ/æ±Ÿè‹çœ_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè‹çœ/æ±Ÿè‹çœ_å¸‚ç•Œ.shp current element size: 26 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè‹çœ/æ±Ÿè‹çœ_å¿ç•Œ.shp current element size: 138 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè¥¿çœ/æ±Ÿè¥¿çœ_å¸‚ç•Œ.shp current element size: 27 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè¥¿çœ/æ±Ÿè¥¿çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1927 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè¥¿çœ/æ±Ÿè¥¿çœ_å¿ç•Œ.shp current element size: 137 ------------------- /home/fuyi/GeoDatabase/China/æ±Ÿè¥¿çœ/æ±Ÿè¥¿çœ_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/è¥¿è—è‡ªæ²»åŒº/è¥¿è—è‡ªæ²»åŒº_å¿ç•Œ.shp current element size: 91 ------------------- /home/fuyi/GeoDatabase/China/è¥¿è—è‡ªæ²»åŒº/è¥¿è—è‡ªæ²»åŒº_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/è¥¿è—è‡ªæ²»åŒº/è¥¿è—è‡ªæ²»åŒº_å¸‚ç•Œ.shp current element size: 14 ------------------- /home/fuyi/GeoDatabase/China/è¥¿è—è‡ªæ²»åŒº/è¥¿è—è‡ªæ²»åŒº_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 737 ------------------- /home/fuyi/GeoDatabase/China/å¤©æ´¥å¸‚/å¤©æ´¥å¸‚_å¿ç•Œ.shp current element size: 32 ------------------- /home/fuyi/GeoDatabase/China/å¤©æ´¥å¸‚/å¤©æ´¥å¸‚_çœç•Œ.shp current element size: 2 ------------------- /home/fuyi/GeoDatabase/China/å¤©æ´¥å¸‚/å¤©æ´¥å¸‚_å¸‚ç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/å¤©æ´¥å¸‚/å¤©æ´¥å¸‚_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 360 ------------------- /home/fuyi/GeoDatabase/China/å°æ¹¾çœ/å°æ¹¾çœ_æ‘å.shp current element size: 0 ------------------- /home/fuyi/GeoDatabase/China/å°æ¹¾çœ/å°æ¹¾çœ_ä¹¡é•‡åç§°.shp current element size: 0 ------------------- /home/fuyi/GeoDatabase/China/å°æ¹¾çœ/å°æ¹¾çœ_å¿åç§°.shp current element size: 0 ------------------- /home/fuyi/GeoDatabase/China/å¹¿è¥¿çœ/å¹¿è¥¿çœ_çœç•Œ.shp current element size: 3 ------------------- /home/fuyi/GeoDatabase/China/å¹¿è¥¿çœ/å¹¿è¥¿çœ_å¸‚ç•Œ.shp current element size: 25 ------------------- /home/fuyi/GeoDatabase/China/å¹¿è¥¿çœ/å¹¿è¥¿çœ_å¿ç•Œ.shp current element size: 142 ------------------- /home/fuyi/GeoDatabase/China/å¹¿è¥¿çœ/å¹¿è¥¿çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1433 ------------------- /home/fuyi/GeoDatabase/China/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 8 ------------------- /home/fuyi/GeoDatabase/China/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº_å¿ç•Œ.shp current element size: 21 ------------------- /home/fuyi/GeoDatabase/China/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº_çœç•Œ.shp current element size: 2 ------------------- /home/fuyi/GeoDatabase/China/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº/é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº_å¸‚ç•Œ.shp current element size: 1 ------------------- /home/fuyi/GeoDatabase/China/å®‰å¾½çœ/å®‰å¾½çœ_å¸‚ç•Œ.shp current element size: 34 ------------------- /home/fuyi/GeoDatabase/China/å®‰å¾½çœ/å®‰å¾½çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1832 ------------------- /home/fuyi/GeoDatabase/China/å®‰å¾½çœ/å®‰å¾½çœ_çœç•Œ.shp current element size: 6 ------------------- /home/fuyi/GeoDatabase/China/å®‰å¾½çœ/å®‰å¾½çœ_å¿ç•Œ.shp current element size: 149 ------------------- /home/fuyi/GeoDatabase/China/æ²³å—çœ/æ²³å—çœ_å¸‚ç•Œ.shp current element size: 38 ------------------- /home/fuyi/GeoDatabase/China/æ²³å—çœ/æ²³å—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 2722 ------------------- /home/fuyi/GeoDatabase/China/æ²³å—çœ/æ²³å—çœ_å¿ç•Œ.shp current element size: 209 ------------------- /home/fuyi/GeoDatabase/China/æ²³å—çœ/æ²³å—çœ_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/é»‘é¾™æ±Ÿçœ/é»‘é¾™æ±Ÿçœ_å¸‚ç•Œ.shp current element size: 20 ------------------- /home/fuyi/GeoDatabase/China/é»‘é¾™æ±Ÿçœ/é»‘é¾™æ±Ÿçœ_çœç•Œ.shp current element size: 3 ------------------- /home/fuyi/GeoDatabase/China/é»‘é¾™æ±Ÿçœ/é»‘é¾™æ±Ÿçœ_å¿ç•Œ.shp current element size: 150 ------------------- /home/fuyi/GeoDatabase/China/é»‘é¾™æ±Ÿçœ/é»‘é¾™æ±Ÿçœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1874 ------------------- /home/fuyi/GeoDatabase/China/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº_å¸‚ç•Œ.shp current element size: 1 ------------------- /home/fuyi/GeoDatabase/China/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº_çœç•Œ.shp current element size: 2 ------------------- /home/fuyi/GeoDatabase/China/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº/æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº_å¿ç•Œ.shp current element size: 9 ------------------- /home/fuyi/GeoDatabase/China/å‰æ—çœ/å‰æ—çœ_çœç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/å‰æ—çœ/å‰æ—çœ_å¿ç•Œ.shp current element size: 82 ------------------- /home/fuyi/GeoDatabase/China/å‰æ—çœ/å‰æ—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1134 ------------------- /home/fuyi/GeoDatabase/China/å‰æ—çœ/å‰æ—çœ_å¸‚ç•Œ.shp current element size: 19 ------------------- /home/fuyi/GeoDatabase/China/åŒ—äº¬å¸‚/åŒ—äº¬å¸‚_å¿ç•Œ.shp current element size: 32 ------------------- /home/fuyi/GeoDatabase/China/åŒ—äº¬å¸‚/åŒ—äº¬å¸‚_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 395 ------------------- /home/fuyi/GeoDatabase/China/åŒ—äº¬å¸‚/åŒ—äº¬å¸‚_å¸‚ç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/åŒ—äº¬å¸‚/åŒ—äº¬å¸‚_çœç•Œ.shp current element size: 3 ------------------- /home/fuyi/GeoDatabase/China/å››å·çœ/å››å·çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 4933 ------------------- /home/fuyi/GeoDatabase/China/å››å·çœ/å››å·çœ_å¸‚ç•Œ.shp current element size: 32 ------------------- /home/fuyi/GeoDatabase/China/å››å·çœ/å››å·çœ_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/å››å·çœ/å››å·çœ_å¿ç•Œ.shp current element size: 237 ------------------- /home/fuyi/GeoDatabase/China/ä¸Šæµ·å¸‚/ä¸Šæµ·å¸‚_çœç•Œ.shp current element size: 3 ------------------- /home/fuyi/GeoDatabase/China/ä¸Šæµ·å¸‚/ä¸Šæµ·å¸‚_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 251 ------------------- /home/fuyi/GeoDatabase/China/ä¸Šæµ·å¸‚/ä¸Šæµ·å¸‚_å¿ç•Œ.shp current element size: 24 ------------------- /home/fuyi/GeoDatabase/China/ä¸Šæµ·å¸‚/ä¸Šæµ·å¸‚_å¸‚ç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/ç”˜è‚ƒçœ/ç”˜è‚ƒçœ_å¿ç•Œ.shp current element size: 137 ------------------- /home/fuyi/GeoDatabase/China/ç”˜è‚ƒçœ/ç”˜è‚ƒçœ_å¸‚ç•Œ.shp current element size: 33 ------------------- /home/fuyi/GeoDatabase/China/ç”˜è‚ƒçœ/ç”˜è‚ƒçœ_çœç•Œ.shp current element size: 7 ------------------- /home/fuyi/GeoDatabase/China/ç”˜è‚ƒçœ/ç”˜è‚ƒçœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1601 ------------------- /home/fuyi/GeoDatabase/China/ç¦å»ºçœ/ç¦å»ºçœ_å¸‚ç•Œ.shp current element size: 18 ------------------- /home/fuyi/GeoDatabase/China/ç¦å»ºçœ/ç¦å»ºçœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1272 ------------------- /home/fuyi/GeoDatabase/China/ç¦å»ºçœ/ç¦å»ºçœ_çœç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/ç¦å»ºçœ/ç¦å»ºçœ_å¿ç•Œ.shp current element size: 109 ------------------- /home/fuyi/GeoDatabase/China/æ²³åŒ—çœ/æ²³åŒ—çœ_å¸‚ç•Œ.shp current element size: 26 ------------------- /home/fuyi/GeoDatabase/China/æ²³åŒ—çœ/æ²³åŒ—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 2574 ------------------- /home/fuyi/GeoDatabase/China/æ²³åŒ—çœ/æ²³åŒ—çœ_çœç•Œ.shp current element size: 8 ------------------- /home/fuyi/GeoDatabase/China/æ²³åŒ—çœ/æ²³åŒ—çœ_å¿ç•Œ.shp current element size: 225 ------------------- /home/fuyi/GeoDatabase/China/è´µå·çœ/è´µå·çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1791 ------------------- /home/fuyi/GeoDatabase/China/è´µå·çœ/è´µå·çœ_å¿ç•Œ.shp current element size: 122 ------------------- /home/fuyi/GeoDatabase/China/è´µå·çœ/è´µå·çœ_å¸‚ç•Œ.shp current element size: 16 ------------------- /home/fuyi/GeoDatabase/China/è´µå·çœ/è´µå·çœ_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/æ¹–å—çœ/æ¹–å—çœ_çœç•Œ.shp current element size: 6 ------------------- /home/fuyi/GeoDatabase/China/æ¹–å—çœ/æ¹–å—çœ_å¸‚ç•Œ.shp current element size: 28 ------------------- /home/fuyi/GeoDatabase/China/æ¹–å—çœ/æ¹–å—çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 2662 ------------------- /home/fuyi/GeoDatabase/China/æ¹–å—çœ/æ¹–å—çœ_å¿ç•Œ.shp current element size: 169 ------------------- /home/fuyi/GeoDatabase/China/å±±è¥¿çœ/å±±è¥¿çœ_å¿ç•Œ.shp current element size: 154 ------------------- /home/fuyi/GeoDatabase/China/å±±è¥¿çœ/å±±è¥¿çœ_å¸‚ç•Œ.shp current element size: 28 ------------------- /home/fuyi/GeoDatabase/China/å±±è¥¿çœ/å±±è¥¿çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1580 ------------------- /home/fuyi/GeoDatabase/China/å±±è¥¿çœ/å±±è¥¿çœ_çœç•Œ.shp current element size: 5 ------------------- /home/fuyi/GeoDatabase/China/è¾½å®çœ/è¾½å®çœ_å¿ç•Œ.shp current element size: 123 ------------------- /home/fuyi/GeoDatabase/China/è¾½å®çœ/è¾½å®çœ_å¸‚ç•Œ.shp current element size: 21 ------------------- /home/fuyi/GeoDatabase/China/è¾½å®çœ/è¾½å®çœ_çœç•Œ.shp current element size: 4 ------------------- /home/fuyi/GeoDatabase/China/è¾½å®çœ/è¾½å®çœ_ä¹¡é•‡è¾¹ç•Œ.shp current element size: 1659 Process finished with exit code 0 å‚è€ƒ wiki-ä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’ä»£ç  geotools-shapeplugin -- alter table district_info alter column center_point -- type Geometry(Point, 4326) USING ST_SetSRID(center_point, 4326); -- ALTER TABLE district_info ALTER COLUMN bounds TYPE Geometry(MultiPolygon, 4326) USING ST_SetSRID(bounds, 4326); select st_astext(center_point), * from district_info where grade = 1 order by id limit 1000 ; select st_area(bounds) as area, * from district_info where grade = 1 and name like \u0026#39;%æµ·å—%\u0026#39;; -- delete from district_info; select code, count(*) as _count from district_info group by code order by _count desc; select * from district_info; ","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/005/","summary":"å‰è¨€ å¾®å¤©æ°”ç¨‹åºä¸­å­˜åœ¨å¦‚ä¸‹å‡ ä¸ªåŠŸèƒ½éœ€è¦ä½¿ç”¨åˆ°è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼š\nåŸå¸‚åˆ—è¡¨ï¼Œéœ€è¦æ”¯æŒåŸå¸‚æœç´¢ æ ¹æ®ç»çº¬åº¦è·åŒºåŸŸï¼ˆåŸå¸‚ï¼‰çš„å¤©æ°”æ•°æ® åœ°å›¾åæ ‡æ‹¾å–å¹¶è·å–æ‰€å¤„åŒºåŸŸï¼ˆåŸå¸‚ï¼‰ä¿¡æ¯ï¼ŒåŒæ—¶è·å–å¤©æ°”æ•°æ® å¯¹äºåŸå¸‚çš„å¤©æ°”æ•°æ®ï¼Œä¸ä½¿ç”¨å’Œé£å¤©æ°”çš„åŸå¸‚åˆ—è¡¨ï¼Œè€Œæ˜¯è‡ªè¡Œç»´æŠ¤ï¼Œé€šè¿‡ç©ºé—´ä½ç½®ï¼ˆç»çº¬åº¦ï¼‰è¿›è¡Œå…³è”ã€‚å¯¹äºåŸå¸‚ä½ç½®çš„å®šä¹‰ï¼Œæœ¬å¯ä»¥é€‰æ‹©å¦‚è¡Œæ”¿ä¸­å¿ƒæˆ–å¸‚ä¸­å¿ƒï¼Œä½†æˆ‘æ²¡æœ‰è¿™æ ·çš„æ•°æ®ï¼Œå°±ç›´æ¥ç”¨åŸå¸‚åŒºåˆ’èŒƒå›´çš„ä¸­å¿ƒç‚¹ä»£æ›¿ã€‚ä¸å‡†ç¡®ä¸é‡è¦ï¼Œè¿‡ç¨‹å·²ç»æ»¡è¶³äº†ï¼Œä¸”åç»­æ˜¯å¯ä»¥æ›¿æ¢çš„ã€‚\nå…¶å®å®Œå…¨å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„åŸå¸‚æ•°æ®å’ŒGeoAPIè¦†ç›–è¿™äº›åŠŸèƒ½ï¼Œä½†æ—¢ç„¶æˆ‘æ˜¯åšGISå¼€å‘çš„ï¼Œè€Œä¸”æ‰‹é‡Œä¹Ÿæœ‰å¯ä»¥ç”¨ä½œç ”ç©¶å­¦ä¹ çš„æ•°æ®ï¼Œä¸ºå•¥ä¸ç”¨å‘¢ã€‚\nä»Šå¤©çªç„¶å‘ç°ï¼Œå…¶å®æˆ‘å¯ä»¥çˆ¬ä¸€ä¸‹å’Œé£çš„æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥æ‹¿åˆ°åŸå¸‚é€‰æ‹©çš„ç»çº¬åº¦æ•°æ®äº† @time 2023.10.10\nAbout è¡Œæ”¿åŒºåˆ’è§£æç¨‹åºï¼Œè¾“å…¥shapeæ–‡ä»¶ï¼Œå†™å…¥Postgresql.\nå¤§ä½“å®Œæ•´çš„å››çº§è¡Œæ”¿åŒºåˆ’æ•°æ®ç»„ç»‡\ngithub link: fuyi-district-parse\næ•°æ®æƒ…å†µ æ•°æ®åŸæºäºç½‘ç»œï¼Œç”±äºæ—¶é—´ä¹…è¿œï¼Œæˆ‘å·²ç»å¿˜è®°äº†æ˜¯å¦‚ä½•è·å–åˆ°çš„\nåè¯è§£é‡Š çœçº§è¡Œæ”¿åŒº ä¸­å›½çš„ä¸€çº§è¡Œæ”¿åŒºï¼Œæˆ–ç§°å›½å®¶ä¸€çº§è¡Œæ”¿åŒºæˆ–çœçº§è¡Œæ”¿åŒºï¼Œæ˜¯æŒ‡ç›´å±ä¸­å¤®æ”¿åºœç®¡è¾–çš„è¡Œæ”¿åŒºåˆ’ï¼Œåœ¨å†å²ä¸Šæ›¾æœ‰ä¸åŒçš„ç§°å‘¼ã€‚å¦‚ï¼šçœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚ã€ç‰¹åˆ«è¡Œæ”¿åŒºã€‚\nåœ°çº§è¡Œæ”¿åŒº åœ°çº§è¡Œæ”¿åŒºå³â€œåœ°åŒºçº§åˆ«è¡Œæ”¿åŒºâ€ï¼Œæ˜¯ç°è¡Œä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’ä¸­å¸¸è§„çš„ç¬¬äºŒçº§è¡Œæ”¿åŒºåˆ’å•ä½ï¼ŒåŒ…æ‹¬åœ°çº§å¸‚ã€åœ°åŒºã€ç›Ÿã€è‡ªæ²»å·ç­‰ã€‚åœ°çº§è¡Œæ”¿åŒºéš¶å±äºçœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚ç­‰çœçº§è¡Œæ”¿åŒºä¹‹ä¸‹ï¼›ä¸‹è¾–è‹¥å¹²ä¸ªå¿ã€åŒºã€å¿çº§å¸‚ã€æ——ç­‰å¿çº§è¡Œæ”¿åŒºã€‚ä½œä¸ºç‰¹ä¾‹ï¼Œä¸œèå¸‚ã€ä¸­å±±å¸‚ã€å˜‰å³ªå…³å¸‚ã€å„‹å·å¸‚ç­‰å››ä¸ªåœ°çº§å¸‚ä¸‹è¾–è¡—é“åŠäº‹å¤„ä¸ä¹¡é•‡ï¼Œä¸è¾–å¿ã€åŒºï¼Œå› æ­¤ä¹Ÿç§°ä½œâ€œç›´ç­’å­ï¼ˆåœ°çº§ï¼‰å¸‚â€ã€‚åœ°çº§è¡Œæ”¿åŒºçš„çº§åˆ«ä¸ºæ­£å…çº§ï¼Œæ‰€ä»¥éæ­£å…çº§çš„çœç›´è¾–çš„è¡Œæ”¿åŒºåˆ’ä¸ç®—ä½œåœ°çº§è¡Œæ”¿åŒºï¼Œä¾‹å¦‚ï¼šæ¹–åŒ—çœè¾–çš„ä»™æ¡ƒå¸‚ã€å¤©é—¨å¸‚ã€æ½œæ±Ÿå¸‚ï¼›æ²³å—çœè¾–çš„æµæºå¸‚ç­‰ç­‰ã€‚ç›´è¾–å¸‚ä¸‹è¾–çš„åŒºï¼Œè™½ç„¶æ˜¯æ­£å…çº§ï¼Œä½†æœªåˆ—å…¥åœ°çº§è¡Œæ”¿åŒºçš„ç»Ÿè®¡ã€‚\nå¿çº§è¡Œæ”¿åŒº å¿ä¸ºä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’å•ä½ä¹‹ä¸€ï¼Œå¿çº§è¡Œæ”¿åŒºæŒ‡è¡Œæ”¿åœ°ä½ä¸â€œå¿â€ç›¸åŒçš„è¡Œæ”¿åŒºåˆ’å•ä½çš„æ€»ç§°ï¼Œå…¶ç®¡è¾–ä¹¡çº§è¡Œæ”¿åŒºã€‚ä¸ºä¹¡ã€é•‡çš„ä¸Šä¸€çº§è¡Œæ”¿åŒºåˆ’å•ä½ã€‚ä¸­åäººæ°‘å…±å’Œå›½æˆç«‹åï¼Œéšç€è¡Œæ”¿ç£å¯ŸåŒºåç§°çš„å˜æ›´ï¼Œé™¤å„ç›´è¾–å¸‚å‡éš¶å±äºä¸“åŒºï¼ˆè¡Œæ”¿ç£å¯Ÿä¸“åŒºï¼‰ã€åœ°åŒºæˆ–åœ°çº§è¡Œæ”¿åŒºï¼Œç°é™¤å„ç›´è¾–å¸‚ã€æµ·å—çœç›´ç®¡å¿å¤–å‡ä¸ºåœ°çº§è¡Œæ”¿åŒºçš„ä¸‹ä¸€çº§è¡Œæ”¿åŒºã€‚\næŒ‰çœã€å¿ã€ä¹¡ä¸‰çº§è¡Œæ”¿åŒºåˆ’åˆ¶åº¦åˆ’åˆ†ï¼Œå¿çº§è¡Œæ”¿åŒºå±äºç¬¬äºŒçº§è¡Œæ”¿åŒºï¼Œä¸ºç›´è¾–å¸‚çš„ä¸‹çº§è¡Œæ”¿åŒºåˆ’å•ä½ã€‚ æŒ‰çœã€åœ°ã€å¿ã€ä¹¡å››çº§è¡Œæ”¿åŒºåˆ’åˆ¶åº¦åˆ’åˆ†ï¼Œå¿çº§è¡Œæ”¿åŒºå±äºç¬¬ä¸‰çº§è¡Œæ”¿åŒºï¼Œå±äºçœã€è‡ªæ²»åŒºæ‰€è¾–åœ°çº§è¡Œæ”¿åŒºçš„ä¸‹çº§è¡Œæ”¿åŒºåˆ’å•ä½ã€‚ ä¹¡çº§è¡Œæ”¿åŒº ä¹¡ï¼Œä¸­åäººæ°‘å…±å’Œå›½ç°è¡ŒåŸºå±‚è¡Œæ”¿åŒºåˆ’å•ä½ï¼ŒåŒºåˆ’å±‚æ¬¡ä»‹äºå¿ä¸æ‘ä¹‹é—´ã€‚â€œä¹¡â€ä¸ºå¿ã€å¿çº§å¸‚ä¸‹çš„ä¸»è¦è¡Œæ”¿åŒºåˆ’ç±»å‹ä¹‹ä¸€ã€‚ä¸­å›½è¡Œæ”¿åŒºåˆ’å²ä¸Šï¼Œâ€œä¹¡â€ä¸€ç›´ä¸ºå¿çš„è¡Œæ”¿åŒºåˆ’å•å…ƒï¼Œå› æ­¤ç°è¡Œå¤„åŒä¸€å±‚æ¬¡çš„åŒºåˆ’å•ä½å½’å…¥ä¹¡çº§è¡Œæ”¿åŒºã€‚ä¸­å›½è‡ªæ”¹é©å¼€æ”¾ä»¥æ¥ï¼Œç”±äºåŸå¸‚çš„å¿«é€Ÿæ‰©å¼ ï¼Œè¡Œæ”¿åŒºåˆ’åˆ¶åº¦å‡ºç°äº†å¤§çš„å˜é©ã€‚1980å¹´ä»£ä»¥åâ€œä¹¡æ”¹é•‡â€ã€â€œä¹¡æ”¹è¡—é“â€çš„ç°è±¡è¶Šæ¥è¶Šæ™®éã€‚\nåœ¨ä¹¡çº§è¡Œæ”¿åŒºåˆ’ä¸­ï¼Œä¹¡ï¼ˆåŒ…æ‹¬é•‡ï¼‰è®¾æœ‰ä¸€çº§äººæ°‘æ”¿åºœï¼Œå±äºåŸºå±‚æ”¿æƒï¼›ä¹¡çš„è¡Œæ”¿åŒºåˆ’å•ä½ä¸ºæ‘ï¼ˆå«æ°‘æ—æ‘ï¼‰ã€‚ä½†å¾ˆå¤šä¹¡è®¾æœ‰ç¤¾åŒºï¼Œä¹¡çš„åŒºåˆ’å•ä½è®¾ç½®ä¸é•‡ã€è¡—é“çœ‹ä¸å‡ºå®è´¨æ€§å·®å¼‚ã€‚\nç›®çš„ è§£ææ‰€æœ‰æ•°æ®æ–‡ä»¶ï¼Œå®ç°æœ€ç»ˆå…¥åº“\nä½¿ç”¨GeoToolså®ç°\næ•°æ®åº“è¡¨ç»“æ„ï¼š\nè¡Œæ”¿åŒºåˆ’ä¿¡æ¯ï¼ˆdistrict_infoï¼‰\nidï¼šè‡ªå¢Idï¼ˆbigserialï¼‰ nameï¼šè¡Œæ”¿åŒºåˆ’åç§° gradeï¼šè¡Œæ”¿åŒºåˆ’ç­‰çº§ï¼ˆçœçº§è¡Œæ”¿åŒºï¼š1ï¼Œ åœ°çº§è¡Œæ”¿åŒºï¼š2ï¼Œ å¿çº§è¡Œæ”¿åŒºï¼š3ï¼Œï¼‰ codeï¼šè¡Œæ”¿åŒºä»£ç  center_pointï¼šä¸­å¿ƒç‚¹ï¼ˆgeometry::pointï¼‰ boundsï¼šè¡Œæ”¿åŒºè¾¹ç•Œï¼ˆgeometryï¼‰ æ³¨ï¼š\næ•°æ®å…¥åº“å‰å®¡æŸ¥ï¼Œä¿è¯è¡Œæ”¿åŒºä»£ç å”¯ä¸€ ä½¿ç”¨gradeåŒºåˆ†çœã€å¸‚ã€å¿ã€ä¹¡é•‡ å¯¹äºçœã€å¸‚ã€å¿codeåˆ—ï¼Œç»Ÿä¸€è¿›è¡Œå‰6ä½æˆªå–ï¼ˆä¸æ»¡6ä½å­—ç¬¦æ‰€åœ¨æ•°æ®ï¼Œç›´æ¥ä¸¢å¼ƒï¼‰ï¼Œå¯¹äºä¹¡é•‡åˆ™ç»Ÿä¸€è¿›è¡Œå‰9ä½è¿›è¡Œæˆªå–ï¼ˆä¸æ»¡9ä½å­—ç¬¦æ‰€åœ¨æ•°æ®ï¼Œç›´æ¥ä¸¢å¼ƒï¼‰ çœçº§è¡Œæ”¿åŒº å­˜åœ¨é”™ä¹±æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡Œæ”¿åŒºä»£ç è¯†åˆ«ï¼ˆadcodeï¼‰\nåœ°çº§è¡Œæ”¿åŒº å­˜åœ¨é”™ä¹±æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡Œæ”¿åŒºä»£ç è¯†åˆ«ï¼ˆcodeï¼‰ï¼Œéœ€è¦æˆªå–å‰6ä½\nå¿çº§è¡Œæ”¿åŒº å­˜åœ¨é”™ä¹±æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡Œæ”¿åŒºä»£ç è¯†åˆ«ï¼ˆcodeï¼‰ï¼Œéœ€è¦æˆªå–å‰6ä½\nä¹¡çº§è¡Œæ”¿åŒº æˆæœ è®°å½•æ•°ï¼š46652\nç‚¹æ•°æ®ä¸ºå„ä¸ªè¡Œæ”¿åŒºä¸­å¿ƒç‚¹\næ•°æ®è¡¨ PostGIS CREATE EXTENSION IF NOT EXISTS postgis WITH SCHEMA public; è¡Œæ”¿åŒºåˆ’ -- -- Name: district_info_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres -- CREATE SEQUENCE public.","title":"å¾®å¤©æ°”â€”è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼ˆä¸€ï¼‰"},{"content":"å‰è¨€ å…³äºçŸ¢é‡ç“¦ç‰‡ï¼ˆèŠ‚é€‰ï¼‰ åœ°å›¾ç“¦ç‰‡æŠ€æœ¯æ˜¯åœ¨çº¿åœ°å›¾æœåŠ¡å¸¸ç”¨çš„ç“¦ç‰‡æŠ€æœ¯ï¼Œç“¦ç‰‡å°±æ˜¯åœ°å›¾ç“¦ç‰‡çš„å…·ä½“å­˜å‚¨å½¢æ€ï¼Œæå‰åˆ‡å¥½çš„ç“¦ç‰‡å¯ä»¥å¤§å¤§æé«˜åœ¨çº¿åœ°å›¾çš„è®¿é—®æ•ˆç‡ã€‚\næ …æ ¼ç“¦ç‰‡ ä»¥å›¾ç‰‡ä¸ºä»‹è´¨çš„æ …æ ¼ç“¦ç‰‡ä½¿å¾—åœ¨çº¿åœ°å›¾å¾—ä»¥è¿…é€Ÿæ™®åŠï¼Œä¼˜åŠ¿åœ¨äºæ˜¾ç¤ºæ•ˆç‡é«˜ã€æ–¹ä¾¿ä¼ è¾“ã€‚ä½†æ˜¯ï¼Œéšç€åœ°å›¾çš„ç§»åŠ¨åŒ–å’Œåº”ç”¨çš„é€æ¸æ·±å…¥ï¼Œæ …æ ¼ç“¦ç‰‡å ç”¨å¸¦å®½å’Œå­˜å‚¨éƒ½è¾ƒå¤§ï¼Œä¸åˆ©äºåœ°å›¾åœ¨ç§»åŠ¨è®¾å¤‡çš„åº”ç”¨ã€‚\nçŸ¢é‡ç“¦ç‰‡ çŸ¢é‡ç“¦ç‰‡çš„äº§ç”Ÿå¼¥è¡¥äº†æ …æ ¼ç“¦ç‰‡çš„ä¸è¶³ã€‚çŸ¢é‡ç“¦ç‰‡æ•°æ®ä»¥çŸ¢é‡å½¢å¼å­˜åœ¨ã€‚çŸ¢é‡ç“¦ç‰‡ä½“ç§¯ä¸‹ï¼Œå¯é«˜åº¦å‹ç¼©ï¼Œå ç”¨çš„å­˜å‚¨ç©ºé—´æ¯”æ …æ ¼ç“¦ç‰‡è¦å°ä¸Šåƒå€ã€‚æ•°æ®ä¼ è¾“ä½“é‡å°ï¼Œåœ°å›¾æ›´æ–°çš„ä»£ä»·å°\nå¸¸è§çš„çŸ¢é‡ç“¦ç‰‡åˆ¶ä½œå·¥å…·ï¼ˆèŠ‚é€‰ï¼‰ ç›®å‰å¼€æºçš„çŸ¢é‡åˆ‡ç‰‡å·¥å…·è¿˜æ˜¯éå¸¸å¤šçš„ï¼Œåˆ—å‡ºä¸€äº›ä¸»æµçš„é˜è¿°ä¸‹ï¼š\nåŸºäºGeoServerçš„çŸ¢é‡åˆ‡ç‰‡æ’ä»¶ï¼Œé€‚åˆç†Ÿæ‚‰GeoServerçš„ç”¨æˆ·ï¼Œæ“ä½œè¿˜æ¯”è¾ƒç®€å•ï¼Œç¼ºç‚¹æ˜¯åˆ‡ç‰‡çš„è¡Œåˆ—å·ä¸ä¸€èˆ¬çš„XYZç¼–å·ä¸åŒä¸å®¹æ˜“å•ç‹¬éƒ¨ç½²ã€‚ åŸºäºtippecanoeçš„çŸ¢é‡åˆ‡ç‰‡å·¥å…·æ–¹æ¡ˆï¼Œè¯¥å·¥å…·æä¾›äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½åœ¨æ•°æ®å®šåˆ¶åŒ–ä¸Šæœ‰å¾ˆå¼ºçš„ä¼˜åŠ¿ï¼Œä½†åªèƒ½éƒ¨ç½²åœ¨Linuxï¼Œå¹¶ä¸æ˜¯è·¨å¹³å°ï¼Œåªèƒ½è¯»å–geojsonæ–‡ä»¶ï¼Œä¸èƒ½ç›´è¿æ•°æ®åº“ï¼Œä¸æ˜¯å¾ˆå¥½ï¼Œå¦‚æœæœ‰å¹¸æ‚¨æ˜¯c++å¼€å‘å¤§ç¥ï¼Œå¯ä»¥æ”¹ä¸‹åº“çš„ç¼–è¯‘ç»‘å®šå¹³å°ï¼Œä½¿å…¶æ”¯æŒwindowsï¼Œå†æ›´æ”¹ä¸‹æ•°æ®æºåº•å±‚ï¼Œä½¿å…¶èƒ½æ”¯æŒç©ºé—´æ•°æ®åº“ï¼Œé‚£ä¹ˆè¯¥å·¥å…·ä¼šæœ‰æ›´å¤šçš„åº”ç”¨ç©ºé—´ã€‚ åŸºäºPostGISçš„çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆåœ¨ç†Ÿæ‚‰PostGISçš„ç”¨æˆ·ä¸­åº”è¯¥å¾ˆå—æ¬¢è¿ï¼Œä¼˜åŠ¿æ˜¯æ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡ï¼Œæœ‰PGç¤¾åŒºçš„ç³»ç»Ÿçº§åŠ æˆã€‚ æ€»çš„æ¥è¯´ï¼Œå·¥å…·è™½ç„¶å¾ˆå¤šï¼Œä½†æ˜¯æ²¡æœ‰ä¸€æ¬¾å¯ä»¥è¯´è¦†ç›–ä¸€åˆ‡åœºæ™¯çš„ï¼Œå…·ä½“åº”ç”¨è¿˜æ˜¯çœ‹åœºæ™¯çš„ï¼Œæ¯”å¦‚å‰ä¸¤ä¸ªæ–¹æ¡ˆéƒ½æ˜¯åšåº•å›¾æ•°æ®æ—¶æ¯”è¾ƒæœ‰ç”¨ï¼Œéƒ½æ˜¯é™æ€çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œgeoserverèƒ½ç›´è¿æ•°æ®åº“ï¼Œtippecanoeæœ‰å¼ºæ•°æ®å®šåˆ¶æ€§è¦æ±‚ï¼Œé‚£ä¹ˆå¦‚æœç”¨æˆ·ä¾§é‡ç‚¹æ˜¯ç®€å•ç‚¹çš„è¯geoserverå¤Ÿäº†ï¼Œç”¨æˆ·ä¾§é‡ç‚¹æ˜¯å¸Œæœ›å¯¹æ•°æ®åšå¾ˆå¤šé«˜çº§è¿‡æ»¤ä»€ä¹ˆçš„æ“ä½œç”¨tippecanoeï¼Œä½†æ­¥éª¤éº»çƒ¦ç‚¹ã€‚è¿™äº›çŸ¢é‡åˆ‡ç‰‡å·¥å…·ä»…ä»…åœ¨å¤„ç†å¾ˆä¹…ä¸å˜çš„æ•°æ®ï¼Œå°±æ˜¯åˆ‡ä¸€æ¬¡ç”¨å¾ˆä¹…çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®é¢‘ç¹å˜åŒ–ï¼Œè¿™ç§é™æ€æ•°æ®åˆ‡ç‰‡å·¥å…·å°±å¾ˆä¸å¥½ç”¨äº†ã€‚\nä¸å…¶ä»–æ–¹æ¡ˆç›¸æ¯”ï¼ŒPostGISæ–¹æ¡ˆçš„å¥½å¤„ä¸»è¦æœ‰ä¸¤å¤§ç‚¹ï¼š\nèµ„æºå¼€é”€ä½ï¼šç©ºé—´æ•°æ®ä¸€èˆ¬å­˜ç©ºé—´æ•°æ®åº“ä¸­ï¼Œä¼ ç»Ÿå·¥å…·ä¼šå…ˆä»æ•°æ®åº“ä¸­ææ•°æ®ï¼Œè¿™ä¸ªæ•°æ®é€šå¸¸å¾ˆå¤§ï¼Œç½‘ç»œå¼€é”€å’ŒæœåŠ¡å™¨ç«¯å†…å­˜éƒ½è¦å¾ˆå¤§ï¼ŒæŸ¥è¯¢æ…¢è®¡ç®—æ…¢æ˜¯è‚¯å®šçš„ã€‚è€ŒPostGISæ˜¯åœ¨æ•°æ®åº“ä¸­æŠŠæ•°æ®å¤„ç†å®Œï¼ŒåªæŠŠç»“æœä¼ ç»™åå°è½¬å‰å°ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨æ•°æ®åº“çš„ç´¢å¼•ï¼Œå¹¶è¡Œè®¡ç®—ç­‰ï¼Œä¼˜åŒ–æŸ¥è¯¢å’Œå¤„ç†é€Ÿåº¦ã€‚ åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡ï¼Œæ•°æ®æ—¶æ•ˆæ€§é«˜ï¼šæ¯å½“æ ¹æ®xyzè¯·æ±‚æ—¶ï¼Œæ•°æ®åº“ä¼šåŠ¨æ€æŸ¥è¯¢èŒƒå›´å†…æ•°æ®ï¼Œè£å‰ªç®€åŒ–å¹¶è¾“å‡ºpbfæ ¼å¼çš„äºŒè¿›åˆ¶æ•°æ®å‡ºå»ï¼Œåœ¨æ•°æ®å˜åŒ–é¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä¿è¯ç”¨æˆ·çœ‹åˆ°çš„æ˜¯æœ€æ–°çš„æ•°æ®ã€‚ ğŸ’¡ GeoServerã€Tippecanoe çš†ä¸ºé™æ€çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œéœ€æå‰å‡†å¤‡åˆ‡ç‰‡æ•°æ®ï¼Œå¹¶è¿›è¡ŒæŒä¹…åŒ–ï¼ˆGeoServerä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨æ—¶è¿›è¡Œåˆ‡ç‰‡ï¼ŒåŒæ—¶è¿›è¡ŒæŒä¹…åŒ–ï¼‰ã€‚PostGISæ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œå³å®æ—¶è®¡ç®—ç”Ÿæˆåˆ‡ç‰‡ï¼Œä¸”ä¸è¿›è¡Œåˆ‡ç‰‡çš„æŒä¹…åŒ–ã€‚\nä¸ºä»€ä¹ˆè¦è‡ªå·±å†™ä¸€ä¸ªæœåŠ¡ äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘ç›®å‰ä»…æ¥è§¦å’Œä½¿ç”¨åˆ°äº†GeoServerï¼Œä¸”å¯¹å…¶ä¸­çš„å®ç°ç»†èŠ‚å¹¶ä¸å¤ªæ¸…æ¥šï¼Œæ‰€ä»¥æƒ³é€šè¿‡å‚è€ƒæ¨¡ä»¿çš„æ–¹å¼å®ç°ä¸€ä¸ªç¤ºä¾‹æœåŠ¡ã€‚å…¶æ¬¡ï¼Œè¿˜æƒ³æµ‹è¯•åœ¨æ²¡æœ‰å¦‚GeoWebcacheæ­¤ç±»çš„ç“¦ç‰‡ç¼“å­˜çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡çš„æ€§èƒ½å¦‚ä½•ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ä¸ºäº†å¦‚ä¸‹è¿™å‡ æ–¹é¢çš„ç›®çš„ï¼š\nå­¦ä¹ ï¼Œäº†è§£å…¶ä¸­çš„å®ç°ç»†èŠ‚\næ›´å¥½çš„é€‚é…\næ¯”å¦‚è¯´ï¼ŒWMTSæœåŠ¡å¾ˆæ˜ç¡®å­˜åœ¨ç¼“å­˜ï¼ŒWMSæ€§èƒ½åˆä¸å¤Ÿå¥½ã€‚å¦‚æœä½¿ç”¨WMTSæœåŠ¡ç¡®å®å¯ä»¥æå‡æœåŠ¡çš„æ€§èƒ½ï¼Œä½†æ˜¯å¯¹äºæºæ•°æ®å­˜åœ¨ç¼–è¾‘çš„åœºæ™¯ä¸‹ï¼Œç¼“å­˜é—®é¢˜è¿˜æ˜¯ä¼šè®©äººå¤´ç–¼ã€‚\né‚£ä¹ˆæ˜¯å¦å­˜åœ¨åŠ¨æ€çš„çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Ÿæ—¢èƒ½è§£å†³ç¼“å­˜çš„é—®é¢˜ï¼ŒåŒæ—¶è¿˜æ²¡æœ‰å¤ªå¤§çš„æ€§èƒ½é—®é¢˜ã€‚\nä½ æˆ–è®¸ä¼šæåˆ°åŸºäºPostGISçš„åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œä½†æ˜¯æœ‰äº›å†å²çš„åŸå› ï¼ŒçŸ­æ—¶é—´å†…æ²¡æœ‰å˜æ³•å˜æ›´æ•°æ®åº“ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åŸºäºç±»å¦‚CDCè¿™æ ·çš„åŠŸèƒ½è¿›è¡Œç¼“å­˜çš„æ›´æ–°ï¼Œä½†å…¶å®è¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜çš„é—®é¢˜ï¼Œåªæ˜¯è¯´å¯ä»¥é€šè¿‡ä¸€äº›æ‰‹æ®µé™ä½ç¼“å­˜é—®é¢˜å‡ºç°çš„æ¦‚ç‡ï¼Œå¹¶æ— æ³•ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜\næ‰€ä»¥ï¼ŒåŸºäºæ­¤ï¼Œæ—¢ç„¶PostGISå¯ä»¥å®ç°åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥ã€‚å…¬ç‘¾å¤§ä½¬æ›¾å‘æ–‡è¯´è¿‡ï¼Œå½“ä¸‹åœ°å›¾æœåŠ¡å»æœåŠ¡åŒ–ã€æ•°æ®ä¸åˆ‡ç‰‡åŸºæœ¬ä¸Šå·²ç»æ˜¯å¿…ç„¶çš„è¶‹åŠ¿ï¼Œé‚£ä¹ˆæˆ‘ä¸ºä»€ä¹ˆè¿˜è¦å»åšä¸€ä¸ªæœåŠ¡åŒ–çš„ä¸œè¥¿ã€‚å¤§æ¦‚å°±æ˜¯ä¸‹é¢è¿™å‡ ä¸ªåŸå› äº†ï¼š\næ•°æ®åº“æŠ€æœ¯ï¼Œåœ¨æŸäº›ç‰¹å®šçš„å› ç´ ä¸‹ï¼ŒçŸ­æ—¶é—´å†…æ— æ³•åˆ‡æ¢åˆ°PostGIS æ•°æ®é‡çº§ æ€§èƒ½å®¹å¿åº¦ å°å‚ï¼Œæˆ‘ä¸æ€è¿›å– ğŸ™„ åç»­çŸ¥è¯†å‚¨å¤‡ çŸ¢é‡ç“¦ç‰‡æ ‡å‡† å‚è§ï¼šçŸ¢é‡ç“¦ç‰‡æ ‡å‡†\nåœ¨è¿™é‡Œè´´å‡ ä¸ªå…³é”®ç‚¹ï¼ˆå¯¹äºç›®å‰ä½¿ç”¨ä¸Šæ¥è¯´ï¼‰ï¼š\næ–‡ä»¶æ ¼å¼\nçŸ¢é‡ç“¦ç‰‡æ–‡ä»¶é‡‡ç”¨Google Protocol Buffersè¿›è¡Œç¼–ç ã€‚Google Protocol Buffersæ˜¯ä¸€ç§å…¼å®¹å¤šè¯­è¨€ã€å¤šå¹³å°ã€æ˜“æ‰©å±•çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼ã€‚\næŠ•å½±å’ŒèŒƒå›´\nçŸ¢é‡ç“¦ç‰‡è¡¨ç¤ºçš„æ˜¯æŠ•å½±åœ¨æ­£æ–¹å½¢åŒºå—ä¸Šçš„æ•°æ®ã€‚çŸ¢é‡ç“¦ç‰‡ä¸åº”è¯¥åŒ…å«èŒƒå›´å’ŒæŠ•å½±ä¿¡æ¯ã€‚è§£ç æ–¹è¢«å‡å®šçŸ¥é“çŸ¢é‡ç“¦ç‰‡çš„èŒƒå›´å’ŒæŠ•å½±ä¿¡æ¯ã€‚\nWeb Mercatoræ˜¯é»˜è®¤çš„æŠ•å½±æ–¹å¼ï¼ŒGoogle tile schemeæ˜¯é»˜è®¤çš„ç“¦ç‰‡ç¼–å·æ–¹å¼ã€‚ä¸¤è€…ä¸€èµ·å®Œæˆäº†ä¸ä»»æ„èŒƒå›´ã€ä»»æ„ç²¾åº¦çš„åœ°ç†åŒºåŸŸçš„ä¸€ä¸€å¯¹åº”ï¼Œä¾‹å¦‚https://example.com/17/65535/43602.mvtã€‚\nçŸ¢é‡ç“¦ç‰‡å¯ä»¥ç”¨æ¥è¡¨ç¤ºä»»æ„æŠ•å½±æ–¹å¼ã€ä»»æ„ç“¦ç‰‡ç¼–å·æ–¹æ¡ˆçš„æ•°æ®ã€‚\nå†…éƒ¨ç»“æ„\nå›¾å±‚\næ¯å—çŸ¢é‡ç“¦ç‰‡åº”è¯¥è‡³å°‘åŒ…å«ä¸€ä¸ªå›¾å±‚ã€‚æ¯ä¸ªå›¾å±‚åº”è¯¥è‡³å°‘åŒ…å«ä¸€ä¸ªè¦ç´ ã€‚\nå‡ ä½•å›¾å½¢ç¼–ç \nçŸ¢é‡ç“¦ç‰‡ä¸­çš„å‡ ä½•æ•°æ®è¢«å®šä¹‰ä¸ºå±å¹•åæ ‡ç³»ã€‚ç“¦ç‰‡çš„å·¦ä¸Šè§’ï¼ˆæ˜¾ç¤ºé»˜è®¤å¦‚æ­¤ï¼‰æ˜¯åæ ‡ç³»çš„åŸç‚¹ã€‚Xè½´å‘å³ä¸ºæ­£ï¼ŒYè½´å‘ä¸‹ä¸ºæ­£ã€‚å‡ ä½•å›¾å½¢ä¸­çš„åæ ‡å¿…é¡»ä¸ºæ•´æ•°ã€‚\nçŸ¢é‡ç“¦ç‰‡æœåŠ¡æ„å»º åœ¨è¿™é‡Œï¼Œæˆ‘é€‰æ‹©æŠ„GeoServerçš„ä½œä¸šã€‚ä¼—æ‰€å‘¨çŸ¥ï¼ŒPostGISæ˜¯å¼€æºçš„ï¼Œé‚£ä¸ºä»€ä¹ˆæ²¡æœ‰é€‰æ‹©æŠ„PostGISçš„ä½œä¸šå‘¢ï¼Ÿ\nå½“ä¸‹æ°´å¹³ä¸å¤Ÿ æƒ³å¿«é€ŸéªŒè¯æƒ³æ³• æƒ³åŸºäºGeoServeråšäºŒæ¬¡å¼€å‘ï¼Œæˆ–è€…è¯´æ˜¯åŸºäºç°å­˜çš„åœ°å›¾æœåŠ¡ç›¸å…³çš„å®ç°ï¼Œé›†å„å®¶ä¹‹å¤§æˆï¼Œåˆå¹¶æˆä¸€ä¸ªç»„åœ¨åŠŸèƒ½ä¸Šå¯è‡ªç”±æ­é…çš„ã€è¾ƒé«˜æ€§èƒ½æœåŠ¡ç«¯ç»„ä»¶ æ¥ç€è¯´å½“å‰çš„äº‹æƒ…ã€‚è¦å®ç°ä¸€ä¸ªåŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ†æä¸€ä¸‹å®ç°å†…å®¹ï¼Œåœ¨æ­¤å…ˆåšå‡ºå¦‚ä¸‹æ‹†è§£ï¼š\nåŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡å¯ä»¥ç†è§£ä¸ºæ²¡æœ‰ç“¦ç‰‡ç¼“å­˜çš„ï¼Œå®æ—¶ç”Ÿæˆçš„çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œæ‰€ä»¥æ ¸å¿ƒè¿˜æ˜¯çŸ¢é‡ç“¦ç‰‡æœåŠ¡(@time 20210503: åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æ˜¯ç›¸å¯¹çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æå‡ºçš„ï¼Œè€ŒçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯çš„å¤§è§„æ¨¡åº”ç”¨è¿˜æ˜¯ä»¥é¢„åˆ‡ä¸ºä¸»ï¼Œæ‰€ä»¥åŠ¨æ€çŸ¢é‡ç“¦ç‰‡è¦è§£å†³çš„æ˜¯ä¸å†é¢„åˆ‡åŠ¨æ€ç”Ÿæˆï¼ŒåŒæ—¶é¿å…ä¸€ä¸‹å­ç”Ÿæˆå¤§è§„æ¨¡ç“¦ç‰‡æ–‡ä»¶çš„é—®é¢˜) çŸ¢é‡ç“¦ç‰‡æœåŠ¡ä¹Ÿå°±æ˜¯æ ¹æ®è°ƒç”¨ç«¯ä¼ é€’çš„å‚æ•°ï¼Œä»æ•°æ®æºè·å–å¯¹åº”çš„æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºçŸ¢é‡ç“¦ç‰‡æ ¼å¼ï¼Œæœ€ç»ˆè¿”å›ç»™è°ƒç”¨ç«¯ è¿™é‡Œé€‰æ‹©ç“¦ç‰‡åæ ‡ä½œä¸ºæ£€ç´¢å‚æ•°ï¼Œå¯ä»¥ä¾¿äºæœåŠ¡é™çº§ï¼ˆç¼“å­˜ï¼‰å’Œæ€§èƒ½ä¼˜åŒ–ï¼ˆç“¦ç‰‡åæ ‡å€¼ç›¸å¯¹æ¥è¯´æ›´åŠ å‡†ç¡®å’Œå¯å›ºå®šï¼Œä¸”ä¾¿äºé™ç»´ï¼‰ éœ€è¦å®ç°ç“¦ç‰‡åæ ‡ç³»åˆ°æ•°æ®æºåæ ‡ç³»ä¸‹æ•°æ®èŒƒå›´çš„ç›¸äº’è½¬æ¢ éœ€è¦å®ç°æ•°æ®æºçš„èŒƒå›´æŸ¥è¯¢ éœ€è¦å®ç°çŸ¢é‡æ•°æ®åˆ°çŸ¢é‡ç“¦ç‰‡çš„ç¼–è§£ç  é‚£ä¹ˆå¤§ä½“çš„å®ç°è·¯å¾„å¯å½’ç»“äºå¦‚ä¸‹æ‰€ç¤ºï¼š\nå…¶ä¸­çš„æ ¸å¿ƒè¦ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š\nç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹æ„å»º ç“¦ç‰‡åæ ‡ç³»ä¸ç©ºé—´åæ ‡ç³»çš„æ˜ å°„å…³ç³» åˆ‡ç‰‡æ–¹æ¡ˆç¡®å®š ç“¦ç‰‡å¤§å° åˆ†è¾¨ç‡ â€¦ çŸ¢é‡ç“¦ç‰‡çš„ç¼–è§£ç  çŸ¢é‡æ•°æ®æŸ¥è¯¢ ä¸‹é¢å°†å¯¹ä»¥ä¸Šå‡ ç‚¹ä½œè¯¦ç»†æè¿°ï¼Œæœ¬æ¬¡å†…å®¹åŸºæœ¬ä¸Šå…¨éƒ¨å‚è€ƒGeoServerå®ç°å®Œæˆã€‚\nç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹æ„å»º ç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ï¼ˆèŠ‚é€‰ï¼‰ ç“¦ç‰‡æœ€æ—©æ˜¯ç”±è°·æ­Œåœ°å›¾æå‡ºå¹¶è¿›è¡Œåº”ç”¨çš„ï¼Œå…¶é‡‡ç”¨ç‰¹å®šçš„åˆ‡å‰²æ–¹å¼å¯¹é‡‡ç”¨WebMercatoræŠ•å½±åæ ‡çš„ä¸–ç•Œåœ°å›¾æ …æ ¼å½±åƒè¿›è¡Œåˆ‡ç‰‡ï¼Œç”±äºWebMercatoræŠ•å½±æ–¹ä¾¿è®¡ç®—æœºè¿›è¡Œè®¡ç®—ï¼Œéšåå„å¤§ä¸»æµWebGISå’Œäº’è”ç½‘åœ°å›¾åº”ç”¨å•†éƒ½é‡‡ç”¨åŸºäºWebMercatoræŠ•å½±åæ ‡ç³»çš„æ–¹å¼è¿›è¡Œåˆ‡ç‰‡ã€‚\nç“¦ç‰‡é‡‘å­—å¡”çš„ä¸»è¦åŸç†ä¸ºï¼šåŸºäºæŸä¸ªç‰¹å®šçš„åœ°å›¾æŠ•å½±åæ ‡ç³»ï¼Œå°†æ›²é¢ çš„åœ°çƒæŠ•å½±åˆ°äºŒç»´å¹³é¢ï¼Œè€Œåå°†è¯¥äºŒç»´å¹³é¢è¿›è¡Œå¤šå°ºåº¦åœ°åˆ’åˆ†ï¼Œå³ç›¸å½“äºåˆ¶ä½œäº†å¤šä¸ªä¸åŒåˆ†è¾¨ç‡å±‚çº§çš„æ•°å­—åœ°å›¾ã€‚å„å±‚çº§å¯¹åº”ç›¸åº”ç¼–ç ï¼Œå±‚çº§è¶Šé«˜åœ°å›¾æ‰€å¯¹åº”çš„åˆ†è¾¨ç‡è¶Šé«˜ï¼›è€Œåå¯¹æ¯ä¸€å±‚çº§çš„å…¨çƒç©ºé—´èŒƒå›´åœ°å›¾æŒ‰ç…§æŸç§ç©ºé—´åˆ’åˆ†æ–¹æ³•è¿›è¡Œæ ¼ç½‘åˆ’åˆ†ï¼Œåˆ’åˆ†æˆè‹¥å¹²è¡Œå’Œåˆ—çš„å›ºå®šå°ºå¯¸çš„æ­£æ–¹å½¢æ …æ ¼å›¾ç‰‡ï¼Œè¿™äº›åˆ‡åˆ†å‡ºæ¥çš„è§„æ•´çš„å•ä¸ªæ ¼ç½‘å•å…ƒç§°ä¸ºç“¦ç‰‡ï¼Œå„å±‚çº§çš„åˆ’åˆ†æ–¹æ³•éƒ½æ˜¯ç›¸åŒçš„ã€‚\nç“¦ç‰‡åˆ’åˆ†æ–¹æ³•éœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\næ¯ä¸ªå±‚çº§ä¸‹çš„æ‰€æœ‰ç“¦ç‰‡å¯ä»¥æ— ç¼æ‹¼åˆæˆä¸€å¼ å…¨çƒç©ºé—´èŒƒå›´çš„ä¸–ç•Œåœ°å›¾ æ¯ä¸ªç“¦ç‰‡éƒ½æœ‰å”¯ä¸€ç¼–ç ï¼Œæ ¹æ®ç¼–ç å¯ä»¥è§£ç®—è¯¥ç“¦ç‰‡å¯¹åº”çš„ç©ºé—´èŒƒå›´ åœ¨æŸä¸€å±‚çº§ä¸‹ç»™å®šä¸€åæ ‡ç‚¹å¯ä»¥æ ¹æ®å…¶ç©ºé—´åæ ‡è§£ç®—å…¶æ‰€åœ¨ç“¦ç‰‡çš„ç¼–å· æ¯ä¸€å±‚çº§ç“¦ç‰‡å¯¹åº”ä¸€å±‚é‡‘å­—å¡”ï¼Œå„ä¸ªå±‚çº§çš„ç“¦ç‰‡æ„æˆäº†æ•´ä¸ªç“¦ç‰‡é‡‘å­—å¡”æ¨¡å‹ã€‚æ¯ä¸€å±‚ä¸­çš„ç“¦ç‰‡åˆ’åˆ†æ–¹æ³•ä¸€èˆ¬é‡‡ç”¨å‡åŒ€å››åˆ†çš„åˆ’åˆ†æ–¹æ³•ï¼Œå³ä»¥èµ¤é“å’Œä¸­å¤®ç»çº¿çš„äº¤ç‚¹ä¸ºåˆå§‹ä¸­å¿ƒï¼Œä¸æ–­åœ°å¯¹åœ°å›¾è¿›è¡Œå››åˆ†ï¼Œç›´åˆ°æ¯ä¸ªæ ¼ç½‘çš„å¤§å°ä¸ºtilesize * tilesizeä¸ºæ­¢ï¼Œå…¶ä¸­tilesizeè¡¨ç¤ºå•ä¸ªç“¦ç‰‡çš„è¾¹é•¿ã€‚åŸºäºæ­¤ç§åˆ’åˆ†æ–¹æ³•ï¼Œç¬¬0å±‚é‡‘å­—å¡”ï¼ˆé‡‘å­—å¡”é¡¶å±‚ï¼‰ç”¨ä¸€ä¸ªç“¦ç‰‡å°±èƒ½è¡¨ç¤ºæ•´å¼ ä¸–ç•Œåœ°å›¾ï¼Œç¬¬1å±‚è¦ç”¨4^zä¸ªç“¦ç‰‡æ¥è¡¨ç¤ºæ•´ä¸ªä¸–ç•Œåœ°å›¾ï¼Œzä¸ºå½“å‰ç“¦ç‰‡çš„é‡‘å­—å¡”å±‚çº§ã€‚\nç“¦ç‰‡åæ ‡ç³»ï¼ˆèŠ‚é€‰ï¼‰ æ‰€æœ‰ç“¦ç‰‡çš„ç¼–ç éƒ½æ˜¯åŸºäºç“¦ç‰‡åæ ‡ç³»ä¸‹è¿›è¡Œçš„ï¼Œç“¦ç‰‡åæ ‡ç³»çš„åŸç‚¹ä¸€èˆ¬éƒ½åœ¨å·¦ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’ï¼ŒTMSè§„èŒƒä¸­æ˜¯åœ¨å·¦ä¸‹è§’ï¼ˆGeoServeréµå¾ªè¯¥è§„èŒƒï¼‰ï¼Œä½†æ˜¯ç°æœ‰çš„Googleã€MapNIKåˆ‡ç‰‡ç³»ç»Ÿéƒ½æ˜¯é€‰ç”¨å·¦ä¸Šè§’ä½œä¸ºåŸç‚¹ï¼Œæœ¬æ–‡ä¸»è¦ä»¥åŸç‚¹åœ¨å·¦ä¸Šè§’çš„ç“¦ç‰‡åæ ‡ç³»è¿›è¡Œè¯´æ˜ã€‚\nç“¦ç‰‡çš„ç¼–ç æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå±‚çº§ç”¨zè¡¨ç¤ºï¼Œç“¦ç‰‡ç»çº¿æ–¹å‘ï¼ˆæŒ‡ç“¦ç‰‡ç»åº¦å‘ç”Ÿå˜åŒ–çš„æ–¹æ³•ï¼Œå³ä¸œè¥¿å‘ï¼Œä¸œå‘ä¸ºæ­£ï¼‰ä¸Šç¼–å·ä¸ºxï¼Œçº¬çº¿æ–¹å‘ï¼ˆæŒ‡ç“¦ç‰‡ç»´åº¦å‘ç”Ÿå˜åŒ–çš„æ–¹å‘ï¼Œå³å—åŒ—å‘ï¼Œå—å‘ä¸ºæ­£ï¼‰ä¸Šç¼–å·ä¸ºyï¼Œå› æ­¤æ¯ä¸€ä¸ªç“¦ç‰‡éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‰ç»´å…ƒç»„ï¼ˆx,y,zï¼‰æ¥å”¯ä¸€æè¿°ã€‚\nğŸ’¡ èŠ‚é€‰è‡ªã€Šé«˜æ€§èƒ½å½±åƒæ•°æ®ç“¦ç‰‡åŒ–å…³é”®æŠ€æœ¯ç ”ç©¶-åˆ˜ä¸–æ°¸-2016ã€‹ï¼Œç« èŠ‚ï¼šç¬¬äºŒç« ï¼Œ2.1-2.3\nç“¦ç‰‡é‡‘å­—å¡”ç¨‹åºæ¨¡å‹ æ­¤å¤„åªæ˜¾ç¤ºæ ¸å¿ƒæ¨¡å—\nGridï¼Œå¯¹åº”å•å±‚é‡‘å­—å¡”\n// æŒ‡å®šå±‚çº§æ¨ªå‘çš„ç“¦ç‰‡æ•°é‡ private long numTilesWide; // æŒ‡å®šå±‚çº§çºµå‘çš„ç“¦ç‰‡æ•°é‡ private long numTilesHigh; // åˆ†è¾¨ç‡ private double resolution; // æ¯”ä¾‹å°ºåˆ†æ¯ private double scaleDenom; private String name; GridSetï¼Œå¯¹åº”å®Œæ•´çš„é‡‘å­—å¡”å±‚çº§\n// åç§° private String name; private SRS srs; // ç“¦ç‰‡å®½åº¦ï¼Œä¸€èˆ¬ä¸º256 private int tileWidth; // ç“¦ç‰‡é«˜åº¦ï¼Œä¸€èˆ¬ä¸º256 private int tileHeight; protected boolean yBaseToggle = false; private boolean yCoordinateFirst = false; private boolean scaleWarning = false; private double metersPerUnit; private double pixelSize; // æ•°æ®èŒƒå›´ private BoundingBox originalExtent; private Grid[] gridLevels; private String description; private boolean resolutionsPreserved; ç“¦ç‰‡é‡‘å­—å¡”é€»è¾‘æ¨¡å‹æ„å»º ç“¦ç‰‡é‡‘å­—å¡”éœ€è¦åˆé€»è¾‘æ¨¡å‹ä¸ç‰©ç†æ¨¡å‹å…±åŒæ„æˆï¼Œç‰©ç†æ¨¡å‹ï¼ˆå³ç“¦ç‰‡é›†ï¼‰éœ€è¦æ ¹æ®é€»è¾‘æ¨¡å‹çš„å®šä¹‰æ‰å¯è¿›è¡Œæ„å»ºã€‚æ­¤å¤„ä»¥å¸¸è§„ç“¦ç‰‡é‡‘å­—å¡”é€»è¾‘æ¨¡å‹ä¸ºç¤ºä¾‹ï¼Œé€šè¿‡ä¸Šè¿°ç¨‹åºæ¨¡å‹ï¼Œæ„å»ºç“¦ç‰‡é‡‘å­—å¡”é€»è¾‘æ¨¡å‹\n// Pixel size (to calculate scales). The default is 0.28mm/pixel, corresponding to 90.71428571428572 DPI. public static GridSet buildGriDSet(SRS srs, double pixelSize) { return GridSetFactory.createGridSet(String.valueOf(srs.getNumber()), srs, BoundingBox.WORLD3857, false, 30, null, pixelSize, 256, 256, false); } // éœ€è¦å°†å…¶è½¬æ¢ä¸ºç±³ buildGriDSet(SRS.getEPSG900913(), 0.00028D); public static GridSet createGridSet(String name, SRS srs, BoundingBox extent, boolean alignTopLeft, int levels, Double metersPerUnit, double pixelSize, int tileWidth, int tileHeight, boolean yCoordinateFirst) { double extentWidth = extent.getWidth(); double extentHeight = extent.getHeight(); double resX = extentWidth / (double)tileWidth; double resY = extentHeight / (double)tileHeight; int tilesWide; int tilesHigh; // è®¡ç®—è°ƒæ•´çš„åŸºæ•°, ä»¥å°è¾¹ä¸ºä¸» if (resX \u0026lt;= resY) { tilesWide = 1; tilesHigh = (int)Math.round(resY / resX); resY /= (double)tilesHigh; } else { tilesHigh = 1; tilesWide = (int)Math.round(resX / resY); resX /= (double)tilesWide; } // è®¡ç®—åœ°å›¾åˆ†è¾¨ç‡, å³å•ä½åƒç´ å†…è¡¨ç¤ºçš„åœ°å›¾å•ä½(ç±³æˆ–åº¦) double res = Math.max(resX, resY); // è·å–è£å‡åçš„èŒƒå›´ double adjustedExtentWidth = (double)(tilesWide * tileWidth) * res; double adjustedExtentHeight = (double)(tilesHigh * tileHeight) * res; // æ ¹æ®ä¸Šè¿°èŒƒå›´é‡æ–°æ„å»ºèŒƒå›´è¡¨è¾¾ BoundingBox adjExtent = new BoundingBox(extent); adjExtent.setMaxX(adjExtent.getMinX() + adjustedExtentWidth); // è¿™é‡Œæƒ³è¦è¡¨è¾¾çš„å°±æ˜¯åŸç‚¹åœ¨äºå·¦ä¸Šè§’è¿˜æ˜¯å·¦ä¸‹è§’ï¼ˆç¡®å®šèµ·ç®—ä½ç½®ï¼‰, å› ä¸ºè¿™æ ·ä¼šå½±å“yæ–¹å‘ä¸Šçš„èŒƒå›´è®¡ç®—ã€‚å°±æ˜¯è¿›è¡Œyæ–¹å‘ä¸ŠèŒƒå›´è®¡ç®— if (alignTopLeft) { adjExtent.setMinY(adjExtent.getMaxY() - adjustedExtentHeight); } else { adjExtent.setMaxY(adjExtent.getMinY() + adjustedExtentHeight); } // æ ¹æ®ç»™å®šçš„å±‚çº§å‚æ•°, æ„å»ºå„å±‚çº§ä¸‹åˆ†è¾¨ç‡å€¼ double[] resolutions = new double[levels]; // è®¾ç½®0çº§çš„åˆ†è¾¨ç‡ resolutions[0] = res; for(int i = 1; i \u0026lt; levels; ++i) { // é‡‡ç”¨å¸¸è§„å‡åŒ€å››åˆ†ï¼ˆå››å‰æ ‘ï¼‰æ–¹å¼è¿›è¡Œæ„å»º resolutions[i] = resolutions[i - 1] / 2.0D; } return createGridSet(name, srs, adjExtent, alignTopLeft, resolutions, (double[])null, metersPerUnit, pixelSize, (String[])null, tileWidth, tileHeight, yCoordinateFirst); } public static GridSet createGridSet(String name, SRS srs, BoundingBox extent, boolean alignTopLeft, double[] resolutions, double[] scaleDenoms, Double metersPerUnit, double pixelSize, String[] scaleNames, int tileWidth, int tileHeight, boolean yCoordinateFirst) { Assert.notNull(name, \u0026#34;name is null\u0026#34;); Assert.notNull(srs, \u0026#34;srs is null\u0026#34;); Assert.notNull(extent, \u0026#34;extent is null\u0026#34;); Assert.isTrue(!extent.isNull() \u0026amp;\u0026amp; extent.isSane(), \u0026#34;Extent is invalid: \u0026#34; + extent); Assert.isTrue(resolutions != null || scaleDenoms != null, \u0026#34;The gridset definition must have either resolutions or scale denominators\u0026#34;); Assert.isTrue(resolutions == null || scaleDenoms == null, \u0026#34;Only one of resolutions or scaleDenoms should be provided, not both\u0026#34;); int i; for(i = 1; resolutions != null \u0026amp;\u0026amp; i \u0026lt; resolutions.length; ++i) { if (resolutions[i] \u0026gt;= resolutions[i - 1]) { throw new IllegalArgumentException(\u0026#34;Each resolution should be lower than it\u0026#39;s prior one. Res[\u0026#34; + i + \u0026#34;] == \u0026#34; + resolutions[i] + \u0026#34;, Res[\u0026#34; + (i - 1) + \u0026#34;] == \u0026#34; + resolutions[i - 1] + \u0026#34;.\u0026#34;); } } for(i = 1; scaleDenoms != null \u0026amp;\u0026amp; i \u0026lt; scaleDenoms.length; ++i) { if (scaleDenoms[i] \u0026gt;= scaleDenoms[i - 1]) { throw new IllegalArgumentException(\u0026#34;Each scale denominator should be lower than it\u0026#39;s prior one. Scale[\u0026#34; + i + \u0026#34;] == \u0026#34; + scaleDenoms[i] + \u0026#34;, Scale[\u0026#34; + (i - 1) + \u0026#34;] == \u0026#34; + scaleDenoms[i - 1] + \u0026#34;.\u0026#34;); } } GridSet gridSet = baseGridSet(name, srs, tileWidth, tileHeight); // trueï¼šä¿ç•™åˆ†è¾¨ç‡å¹¶è®¡ç®— scaleDenominators // falseï¼šåˆ†è¾¨ç‡æ˜¯æ ¹æ® sacale åˆ†æ¯è®¡ç®—çš„ gridSet.setResolutionsPreserved(resolutions != null); gridSet.setPixelSize(pixelSize); gridSet.setOriginalExtent(extent); // tileOrigin()çš„yåæ ‡æ˜¯åœ¨é¡¶éƒ¨ï¼ˆtrueï¼‰è¿˜æ˜¯åœ¨åº•éƒ¨ï¼ˆfalseï¼‰ï¼Œç›¸åº”çš„æ ‡è®°åŸç‚¹ä½ç½® gridSet.yBaseToggle = alignTopLeft; // è½´é¡ºåº, é»˜è®¤ç»åº¦ä¼˜å…ˆ gridSet.setyCoordinateFirst(yCoordinateFirst); // è®¾ç½®å•ä½, æ¯ä¸ªå•ä½å†…è¡¨ç¤ºå¤šå°‘ç±³ // ç»çº¬åº¦ç›´æŠ•çš„æƒ…å†µéœ€è¦ç‰¹æ®Šå¤„ç† if (metersPerUnit == null) { if (srs.equals(SRS.getEPSG4326())) { gridSet.setMetersPerUnit(111319.49079327358D); } else if (srs.equals(SRS.getEPSG3857())) { gridSet.setMetersPerUnit(1.0D); } else { if (resolutions == null) { log.config(\u0026#34;GridSet \u0026#34; + name + \u0026#34; was defined without metersPerUnit, assuming 1m/unit. All scales will be off if this is incorrect.\u0026#34;); } else { log.config(\u0026#34;GridSet \u0026#34; + name + \u0026#34; was defined without metersPerUnit. Assuming 1m per SRS unit for WMTS scale output.\u0026#34;); gridSet.setScaleWarning(true); } gridSet.setMetersPerUnit(1.0D); } } else { gridSet.setMetersPerUnit(metersPerUnit); } if (resolutions == null) { gridSet.setGridLevels(new Grid[scaleDenoms.length]); } else { gridSet.setGridLevels(new Grid[resolutions.length]); } for(i = 0; i \u0026lt; gridSet.getNumLevels(); ++i) { Grid curGrid = new Grid(); if (scaleDenoms != null) { curGrid.setScaleDenominator(scaleDenoms[i]); curGrid.setResolution(pixelSize * (scaleDenoms[i] / gridSet.getMetersPerUnit())); } else { curGrid.setResolution(resolutions[i]); // è®¡ç®—æ¯”ä¾‹å°º (å•ä½åƒç´ ä¸‹è¡¨ç¤ºçš„å®é™…ç©ºé—´è·ç¦» * æ¯ä¸ªå•ä½æƒ…å†µè¡¨ç¤ºå¤šå°‘ç±³) / (åƒç´ å¤§å°ï¼Œæˆ–ç§°åƒå…ƒå¤§å°) // çº¦å»åƒå…ƒ, å³è·å–åˆ°æ¯”ä¾‹å°ºåˆ†æ¯ curGrid.setScaleDenominator(resolutions[i] * gridSet.getMetersPerUnit() / 2.8E-4D); } double mapUnitWidth = (double)tileWidth * curGrid.getResolution(); double mapUnitHeight = (double)tileHeight * curGrid.getResolution(); long tilesWide = (long)Math.ceil((extent.getWidth() - mapUnitWidth * 0.01D) / mapUnitWidth); long tilesHigh = (long)Math.ceil((extent.getHeight() - mapUnitHeight * 0.01D) / mapUnitHeight); curGrid.setNumTilesWide(tilesWide); curGrid.setNumTilesHigh(tilesHigh); if (scaleNames != null \u0026amp;\u0026amp; scaleNames[i] != null) { curGrid.setName(scaleNames[i]); } else { curGrid.setName(gridSet.getName() + \u0026#34;:\u0026#34; + i); } gridSet.setGrid(i, curGrid); } return gridSet; } çŸ¢é‡ç“¦ç‰‡ç¼–è§£ç æ¨¡å— å‚è€ƒGeoServerå®ç°ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼–è§£ç ç»„ä»¶ï¼šjava-vector-tile\nhttps://github.com/ElectronicChartCentre/java-vector-tile\nçŸ¢é‡æ•°æ®æŸ¥è¯¢ ä¸ºäº†æ›´å¿«çš„å®ç°å¼€å‘ï¼Œæ­¤å¤„é€‰æ‹©ä½¿ç”¨GeoToolsæä¾›çš„JDBCç›¸å…³ç»„ä»¶è¿›è¡Œæ•°æ®æŸ¥è¯¢ï¼Œæ ¸å¿ƒç±»å¦‚ä¸‹ï¼š\nJDBCDataStore VirtualTableï¼šå¯ä»¥æ”¯æŒè‡ªå®šä¹‰SQL MathTransform ContentFeatureSource SimpleFeatureCollection ä¸»è¦é€»è¾‘æ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š\né€šè¿‡JDBCDataStoreåˆ›å»ºVirtualTableå®ä¾‹ æ ¹æ®GridSetå°†ä¼ å…¥å‚æ•°è½¬ä¸ºBoundingBox ä½¿ç”¨MathTransformå°†BoudingBoxè½¬æ¢åˆ°æºæ•°æ®æ‰€å¯¹åº”çš„åæ ‡ç³»ä¸‹ æ„å»ºæŸ¥è¯¢å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ä¸Šè¿°åˆ›å»ºçš„è™šæ‹Ÿè¡¨å®ä¾‹ï¼ˆContentFeatureSourceï¼‰è¿›è¡Œæ•°æ®æ£€ç´¢ å°†æ£€ç´¢çš„æ•°æ®ç»“æœåº”ç”¨äºçŸ¢é‡ç“¦ç‰‡ç¼–ç å¹¶è¿”å›ç»“æœ æœåŠ¡éªŒè¯ å åŠ åº•å›¾è¿›è¡ŒéªŒè¯\nå‚è€ƒ Mapbox Vector Tile Specification awesome-vector-tiles Vector tiles standards çŸ¢é‡ç“¦ç‰‡æ¦‚è¿° WebGISæ•°æ®ä¸åˆ‡ç‰‡æˆ–æ˜¯æ—¶ä»£å¿…ç„¶ PostGISçŸ¢é‡åˆ‡ç‰‡æŠ€æœ¯åŠ©åŠ›GISå¯è§†åŒ– Geoserver Buffer around Vectortiles Gridsets and Gridsubsets Tiles Ã  la Google Maps Coordinates, Tile Bounds and Projection å›½å†…ä¸»è¦åœ°å›¾ç“¦ç‰‡åæ ‡ç³»å®šä¹‰åŠè®¡ç®—åŸç† ç“¦ç‰‡(Tile)åœ°å›¾åŸç† ","permalink":"https://fuyi-atlas.github.io/posts/program/map/how-to-build-a-vector-tile-service/","summary":"å‰è¨€ å…³äºçŸ¢é‡ç“¦ç‰‡ï¼ˆèŠ‚é€‰ï¼‰ åœ°å›¾ç“¦ç‰‡æŠ€æœ¯æ˜¯åœ¨çº¿åœ°å›¾æœåŠ¡å¸¸ç”¨çš„ç“¦ç‰‡æŠ€æœ¯ï¼Œç“¦ç‰‡å°±æ˜¯åœ°å›¾ç“¦ç‰‡çš„å…·ä½“å­˜å‚¨å½¢æ€ï¼Œæå‰åˆ‡å¥½çš„ç“¦ç‰‡å¯ä»¥å¤§å¤§æé«˜åœ¨çº¿åœ°å›¾çš„è®¿é—®æ•ˆç‡ã€‚\næ …æ ¼ç“¦ç‰‡ ä»¥å›¾ç‰‡ä¸ºä»‹è´¨çš„æ …æ ¼ç“¦ç‰‡ä½¿å¾—åœ¨çº¿åœ°å›¾å¾—ä»¥è¿…é€Ÿæ™®åŠï¼Œä¼˜åŠ¿åœ¨äºæ˜¾ç¤ºæ•ˆç‡é«˜ã€æ–¹ä¾¿ä¼ è¾“ã€‚ä½†æ˜¯ï¼Œéšç€åœ°å›¾çš„ç§»åŠ¨åŒ–å’Œåº”ç”¨çš„é€æ¸æ·±å…¥ï¼Œæ …æ ¼ç“¦ç‰‡å ç”¨å¸¦å®½å’Œå­˜å‚¨éƒ½è¾ƒå¤§ï¼Œä¸åˆ©äºåœ°å›¾åœ¨ç§»åŠ¨è®¾å¤‡çš„åº”ç”¨ã€‚\nçŸ¢é‡ç“¦ç‰‡ çŸ¢é‡ç“¦ç‰‡çš„äº§ç”Ÿå¼¥è¡¥äº†æ …æ ¼ç“¦ç‰‡çš„ä¸è¶³ã€‚çŸ¢é‡ç“¦ç‰‡æ•°æ®ä»¥çŸ¢é‡å½¢å¼å­˜åœ¨ã€‚çŸ¢é‡ç“¦ç‰‡ä½“ç§¯ä¸‹ï¼Œå¯é«˜åº¦å‹ç¼©ï¼Œå ç”¨çš„å­˜å‚¨ç©ºé—´æ¯”æ …æ ¼ç“¦ç‰‡è¦å°ä¸Šåƒå€ã€‚æ•°æ®ä¼ è¾“ä½“é‡å°ï¼Œåœ°å›¾æ›´æ–°çš„ä»£ä»·å°\nå¸¸è§çš„çŸ¢é‡ç“¦ç‰‡åˆ¶ä½œå·¥å…·ï¼ˆèŠ‚é€‰ï¼‰ ç›®å‰å¼€æºçš„çŸ¢é‡åˆ‡ç‰‡å·¥å…·è¿˜æ˜¯éå¸¸å¤šçš„ï¼Œåˆ—å‡ºä¸€äº›ä¸»æµçš„é˜è¿°ä¸‹ï¼š\nåŸºäºGeoServerçš„çŸ¢é‡åˆ‡ç‰‡æ’ä»¶ï¼Œé€‚åˆç†Ÿæ‚‰GeoServerçš„ç”¨æˆ·ï¼Œæ“ä½œè¿˜æ¯”è¾ƒç®€å•ï¼Œç¼ºç‚¹æ˜¯åˆ‡ç‰‡çš„è¡Œåˆ—å·ä¸ä¸€èˆ¬çš„XYZç¼–å·ä¸åŒä¸å®¹æ˜“å•ç‹¬éƒ¨ç½²ã€‚ åŸºäºtippecanoeçš„çŸ¢é‡åˆ‡ç‰‡å·¥å…·æ–¹æ¡ˆï¼Œè¯¥å·¥å…·æä¾›äº†å¾ˆå¤šé«˜çº§åŠŸèƒ½åœ¨æ•°æ®å®šåˆ¶åŒ–ä¸Šæœ‰å¾ˆå¼ºçš„ä¼˜åŠ¿ï¼Œä½†åªèƒ½éƒ¨ç½²åœ¨Linuxï¼Œå¹¶ä¸æ˜¯è·¨å¹³å°ï¼Œåªèƒ½è¯»å–geojsonæ–‡ä»¶ï¼Œä¸èƒ½ç›´è¿æ•°æ®åº“ï¼Œä¸æ˜¯å¾ˆå¥½ï¼Œå¦‚æœæœ‰å¹¸æ‚¨æ˜¯c++å¼€å‘å¤§ç¥ï¼Œå¯ä»¥æ”¹ä¸‹åº“çš„ç¼–è¯‘ç»‘å®šå¹³å°ï¼Œä½¿å…¶æ”¯æŒwindowsï¼Œå†æ›´æ”¹ä¸‹æ•°æ®æºåº•å±‚ï¼Œä½¿å…¶èƒ½æ”¯æŒç©ºé—´æ•°æ®åº“ï¼Œé‚£ä¹ˆè¯¥å·¥å…·ä¼šæœ‰æ›´å¤šçš„åº”ç”¨ç©ºé—´ã€‚ åŸºäºPostGISçš„çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆåœ¨ç†Ÿæ‚‰PostGISçš„ç”¨æˆ·ä¸­åº”è¯¥å¾ˆå—æ¬¢è¿ï¼Œä¼˜åŠ¿æ˜¯æ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡ï¼Œæœ‰PGç¤¾åŒºçš„ç³»ç»Ÿçº§åŠ æˆã€‚ æ€»çš„æ¥è¯´ï¼Œå·¥å…·è™½ç„¶å¾ˆå¤šï¼Œä½†æ˜¯æ²¡æœ‰ä¸€æ¬¾å¯ä»¥è¯´è¦†ç›–ä¸€åˆ‡åœºæ™¯çš„ï¼Œå…·ä½“åº”ç”¨è¿˜æ˜¯çœ‹åœºæ™¯çš„ï¼Œæ¯”å¦‚å‰ä¸¤ä¸ªæ–¹æ¡ˆéƒ½æ˜¯åšåº•å›¾æ•°æ®æ—¶æ¯”è¾ƒæœ‰ç”¨ï¼Œéƒ½æ˜¯é™æ€çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œgeoserverèƒ½ç›´è¿æ•°æ®åº“ï¼Œtippecanoeæœ‰å¼ºæ•°æ®å®šåˆ¶æ€§è¦æ±‚ï¼Œé‚£ä¹ˆå¦‚æœç”¨æˆ·ä¾§é‡ç‚¹æ˜¯ç®€å•ç‚¹çš„è¯geoserverå¤Ÿäº†ï¼Œç”¨æˆ·ä¾§é‡ç‚¹æ˜¯å¸Œæœ›å¯¹æ•°æ®åšå¾ˆå¤šé«˜çº§è¿‡æ»¤ä»€ä¹ˆçš„æ“ä½œç”¨tippecanoeï¼Œä½†æ­¥éª¤éº»çƒ¦ç‚¹ã€‚è¿™äº›çŸ¢é‡åˆ‡ç‰‡å·¥å…·ä»…ä»…åœ¨å¤„ç†å¾ˆä¹…ä¸å˜çš„æ•°æ®ï¼Œå°±æ˜¯åˆ‡ä¸€æ¬¡ç”¨å¾ˆä¹…çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®é¢‘ç¹å˜åŒ–ï¼Œè¿™ç§é™æ€æ•°æ®åˆ‡ç‰‡å·¥å…·å°±å¾ˆä¸å¥½ç”¨äº†ã€‚\nä¸å…¶ä»–æ–¹æ¡ˆç›¸æ¯”ï¼ŒPostGISæ–¹æ¡ˆçš„å¥½å¤„ä¸»è¦æœ‰ä¸¤å¤§ç‚¹ï¼š\nèµ„æºå¼€é”€ä½ï¼šç©ºé—´æ•°æ®ä¸€èˆ¬å­˜ç©ºé—´æ•°æ®åº“ä¸­ï¼Œä¼ ç»Ÿå·¥å…·ä¼šå…ˆä»æ•°æ®åº“ä¸­ææ•°æ®ï¼Œè¿™ä¸ªæ•°æ®é€šå¸¸å¾ˆå¤§ï¼Œç½‘ç»œå¼€é”€å’ŒæœåŠ¡å™¨ç«¯å†…å­˜éƒ½è¦å¾ˆå¤§ï¼ŒæŸ¥è¯¢æ…¢è®¡ç®—æ…¢æ˜¯è‚¯å®šçš„ã€‚è€ŒPostGISæ˜¯åœ¨æ•°æ®åº“ä¸­æŠŠæ•°æ®å¤„ç†å®Œï¼ŒåªæŠŠç»“æœä¼ ç»™åå°è½¬å‰å°ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨æ•°æ®åº“çš„ç´¢å¼•ï¼Œå¹¶è¡Œè®¡ç®—ç­‰ï¼Œä¼˜åŒ–æŸ¥è¯¢å’Œå¤„ç†é€Ÿåº¦ã€‚ åŠ¨æ€çŸ¢é‡åˆ‡ç‰‡ï¼Œæ•°æ®æ—¶æ•ˆæ€§é«˜ï¼šæ¯å½“æ ¹æ®xyzè¯·æ±‚æ—¶ï¼Œæ•°æ®åº“ä¼šåŠ¨æ€æŸ¥è¯¢èŒƒå›´å†…æ•°æ®ï¼Œè£å‰ªç®€åŒ–å¹¶è¾“å‡ºpbfæ ¼å¼çš„äºŒè¿›åˆ¶æ•°æ®å‡ºå»ï¼Œåœ¨æ•°æ®å˜åŒ–é¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä¿è¯ç”¨æˆ·çœ‹åˆ°çš„æ˜¯æœ€æ–°çš„æ•°æ®ã€‚ ğŸ’¡ GeoServerã€Tippecanoe çš†ä¸ºé™æ€çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œéœ€æå‰å‡†å¤‡åˆ‡ç‰‡æ•°æ®ï¼Œå¹¶è¿›è¡ŒæŒä¹…åŒ–ï¼ˆGeoServerä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨æ—¶è¿›è¡Œåˆ‡ç‰‡ï¼ŒåŒæ—¶è¿›è¡ŒæŒä¹…åŒ–ï¼‰ã€‚PostGISæ”¯æŒåŠ¨æ€çŸ¢é‡åˆ‡ç‰‡æ–¹æ¡ˆï¼Œå³å®æ—¶è®¡ç®—ç”Ÿæˆåˆ‡ç‰‡ï¼Œä¸”ä¸è¿›è¡Œåˆ‡ç‰‡çš„æŒä¹…åŒ–ã€‚\nä¸ºä»€ä¹ˆè¦è‡ªå·±å†™ä¸€ä¸ªæœåŠ¡ äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘ç›®å‰ä»…æ¥è§¦å’Œä½¿ç”¨åˆ°äº†GeoServerï¼Œä¸”å¯¹å…¶ä¸­çš„å®ç°ç»†èŠ‚å¹¶ä¸å¤ªæ¸…æ¥šï¼Œæ‰€ä»¥æƒ³é€šè¿‡å‚è€ƒæ¨¡ä»¿çš„æ–¹å¼å®ç°ä¸€ä¸ªç¤ºä¾‹æœåŠ¡ã€‚å…¶æ¬¡ï¼Œè¿˜æƒ³æµ‹è¯•åœ¨æ²¡æœ‰å¦‚GeoWebcacheæ­¤ç±»çš„ç“¦ç‰‡ç¼“å­˜çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡çš„æ€§èƒ½å¦‚ä½•ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ä¸ºäº†å¦‚ä¸‹è¿™å‡ æ–¹é¢çš„ç›®çš„ï¼š\nå­¦ä¹ ï¼Œäº†è§£å…¶ä¸­çš„å®ç°ç»†èŠ‚\næ›´å¥½çš„é€‚é…\næ¯”å¦‚è¯´ï¼ŒWMTSæœåŠ¡å¾ˆæ˜ç¡®å­˜åœ¨ç¼“å­˜ï¼ŒWMSæ€§èƒ½åˆä¸å¤Ÿå¥½ã€‚å¦‚æœä½¿ç”¨WMTSæœåŠ¡ç¡®å®å¯ä»¥æå‡æœåŠ¡çš„æ€§èƒ½ï¼Œä½†æ˜¯å¯¹äºæºæ•°æ®å­˜åœ¨ç¼–è¾‘çš„åœºæ™¯ä¸‹ï¼Œç¼“å­˜é—®é¢˜è¿˜æ˜¯ä¼šè®©äººå¤´ç–¼ã€‚\né‚£ä¹ˆæ˜¯å¦å­˜åœ¨åŠ¨æ€çš„çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Ÿæ—¢èƒ½è§£å†³ç¼“å­˜çš„é—®é¢˜ï¼ŒåŒæ—¶è¿˜æ²¡æœ‰å¤ªå¤§çš„æ€§èƒ½é—®é¢˜ã€‚\nä½ æˆ–è®¸ä¼šæåˆ°åŸºäºPostGISçš„åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œä½†æ˜¯æœ‰äº›å†å²çš„åŸå› ï¼ŒçŸ­æ—¶é—´å†…æ²¡æœ‰å˜æ³•å˜æ›´æ•°æ®åº“ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åŸºäºç±»å¦‚CDCè¿™æ ·çš„åŠŸèƒ½è¿›è¡Œç¼“å­˜çš„æ›´æ–°ï¼Œä½†å…¶å®è¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜çš„é—®é¢˜ï¼Œåªæ˜¯è¯´å¯ä»¥é€šè¿‡ä¸€äº›æ‰‹æ®µé™ä½ç¼“å­˜é—®é¢˜å‡ºç°çš„æ¦‚ç‡ï¼Œå¹¶æ— æ³•ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜\næ‰€ä»¥ï¼ŒåŸºäºæ­¤ï¼Œæ—¢ç„¶PostGISå¯ä»¥å®ç°åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥ã€‚å…¬ç‘¾å¤§ä½¬æ›¾å‘æ–‡è¯´è¿‡ï¼Œå½“ä¸‹åœ°å›¾æœåŠ¡å»æœåŠ¡åŒ–ã€æ•°æ®ä¸åˆ‡ç‰‡åŸºæœ¬ä¸Šå·²ç»æ˜¯å¿…ç„¶çš„è¶‹åŠ¿ï¼Œé‚£ä¹ˆæˆ‘ä¸ºä»€ä¹ˆè¿˜è¦å»åšä¸€ä¸ªæœåŠ¡åŒ–çš„ä¸œè¥¿ã€‚å¤§æ¦‚å°±æ˜¯ä¸‹é¢è¿™å‡ ä¸ªåŸå› äº†ï¼š\næ•°æ®åº“æŠ€æœ¯ï¼Œåœ¨æŸäº›ç‰¹å®šçš„å› ç´ ä¸‹ï¼ŒçŸ­æ—¶é—´å†…æ— æ³•åˆ‡æ¢åˆ°PostGIS æ•°æ®é‡çº§ æ€§èƒ½å®¹å¿åº¦ å°å‚ï¼Œæˆ‘ä¸æ€è¿›å– ğŸ™„ åç»­çŸ¥è¯†å‚¨å¤‡ çŸ¢é‡ç“¦ç‰‡æ ‡å‡† å‚è§ï¼šçŸ¢é‡ç“¦ç‰‡æ ‡å‡†\nåœ¨è¿™é‡Œè´´å‡ ä¸ªå…³é”®ç‚¹ï¼ˆå¯¹äºç›®å‰ä½¿ç”¨ä¸Šæ¥è¯´ï¼‰ï¼š\næ–‡ä»¶æ ¼å¼\nçŸ¢é‡ç“¦ç‰‡æ–‡ä»¶é‡‡ç”¨Google Protocol Buffersè¿›è¡Œç¼–ç ã€‚Google Protocol Buffersæ˜¯ä¸€ç§å…¼å®¹å¤šè¯­è¨€ã€å¤šå¹³å°ã€æ˜“æ‰©å±•çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼ã€‚\næŠ•å½±å’ŒèŒƒå›´\nçŸ¢é‡ç“¦ç‰‡è¡¨ç¤ºçš„æ˜¯æŠ•å½±åœ¨æ­£æ–¹å½¢åŒºå—ä¸Šçš„æ•°æ®ã€‚çŸ¢é‡ç“¦ç‰‡ä¸åº”è¯¥åŒ…å«èŒƒå›´å’ŒæŠ•å½±ä¿¡æ¯ã€‚è§£ç æ–¹è¢«å‡å®šçŸ¥é“çŸ¢é‡ç“¦ç‰‡çš„èŒƒå›´å’ŒæŠ•å½±ä¿¡æ¯ã€‚\nWeb Mercatoræ˜¯é»˜è®¤çš„æŠ•å½±æ–¹å¼ï¼ŒGoogle tile schemeæ˜¯é»˜è®¤çš„ç“¦ç‰‡ç¼–å·æ–¹å¼ã€‚ä¸¤è€…ä¸€èµ·å®Œæˆäº†ä¸ä»»æ„èŒƒå›´ã€ä»»æ„ç²¾åº¦çš„åœ°ç†åŒºåŸŸçš„ä¸€ä¸€å¯¹åº”ï¼Œä¾‹å¦‚https://example.com/17/65535/43602.mvtã€‚\nçŸ¢é‡ç“¦ç‰‡å¯ä»¥ç”¨æ¥è¡¨ç¤ºä»»æ„æŠ•å½±æ–¹å¼ã€ä»»æ„ç“¦ç‰‡ç¼–å·æ–¹æ¡ˆçš„æ•°æ®ã€‚\nå†…éƒ¨ç»“æ„\nå›¾å±‚\næ¯å—çŸ¢é‡ç“¦ç‰‡åº”è¯¥è‡³å°‘åŒ…å«ä¸€ä¸ªå›¾å±‚ã€‚æ¯ä¸ªå›¾å±‚åº”è¯¥è‡³å°‘åŒ…å«ä¸€ä¸ªè¦ç´ ã€‚\nå‡ ä½•å›¾å½¢ç¼–ç \nçŸ¢é‡ç“¦ç‰‡ä¸­çš„å‡ ä½•æ•°æ®è¢«å®šä¹‰ä¸ºå±å¹•åæ ‡ç³»ã€‚ç“¦ç‰‡çš„å·¦ä¸Šè§’ï¼ˆæ˜¾ç¤ºé»˜è®¤å¦‚æ­¤ï¼‰æ˜¯åæ ‡ç³»çš„åŸç‚¹ã€‚Xè½´å‘å³ä¸ºæ­£ï¼ŒYè½´å‘ä¸‹ä¸ºæ­£ã€‚å‡ ä½•å›¾å½¢ä¸­çš„åæ ‡å¿…é¡»ä¸ºæ•´æ•°ã€‚\nçŸ¢é‡ç“¦ç‰‡æœåŠ¡æ„å»º åœ¨è¿™é‡Œï¼Œæˆ‘é€‰æ‹©æŠ„GeoServerçš„ä½œä¸šã€‚ä¼—æ‰€å‘¨çŸ¥ï¼ŒPostGISæ˜¯å¼€æºçš„ï¼Œé‚£ä¸ºä»€ä¹ˆæ²¡æœ‰é€‰æ‹©æŠ„PostGISçš„ä½œä¸šå‘¢ï¼Ÿ\nå½“ä¸‹æ°´å¹³ä¸å¤Ÿ æƒ³å¿«é€ŸéªŒè¯æƒ³æ³• æƒ³åŸºäºGeoServeråšäºŒæ¬¡å¼€å‘ï¼Œæˆ–è€…è¯´æ˜¯åŸºäºç°å­˜çš„åœ°å›¾æœåŠ¡ç›¸å…³çš„å®ç°ï¼Œé›†å„å®¶ä¹‹å¤§æˆï¼Œåˆå¹¶æˆä¸€ä¸ªç»„åœ¨åŠŸèƒ½ä¸Šå¯è‡ªç”±æ­é…çš„ã€è¾ƒé«˜æ€§èƒ½æœåŠ¡ç«¯ç»„ä»¶ æ¥ç€è¯´å½“å‰çš„äº‹æƒ…ã€‚è¦å®ç°ä¸€ä¸ªåŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ†æä¸€ä¸‹å®ç°å†…å®¹ï¼Œåœ¨æ­¤å…ˆåšå‡ºå¦‚ä¸‹æ‹†è§£ï¼š\nåŠ¨æ€çŸ¢é‡ç“¦ç‰‡æœåŠ¡å¯ä»¥ç†è§£ä¸ºæ²¡æœ‰ç“¦ç‰‡ç¼“å­˜çš„ï¼Œå®æ—¶ç”Ÿæˆçš„çŸ¢é‡ç“¦ç‰‡æœåŠ¡ï¼Œæ‰€ä»¥æ ¸å¿ƒè¿˜æ˜¯çŸ¢é‡ç“¦ç‰‡æœåŠ¡(@time 20210503: åŠ¨æ€çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æ˜¯ç›¸å¯¹çŸ¢é‡ç“¦ç‰‡æŠ€æœ¯æå‡ºçš„ï¼Œè€ŒçŸ¢é‡ç“¦ç‰‡æŠ€æœ¯çš„å¤§è§„æ¨¡åº”ç”¨è¿˜æ˜¯ä»¥é¢„åˆ‡ä¸ºä¸»ï¼Œæ‰€ä»¥åŠ¨æ€çŸ¢é‡ç“¦ç‰‡è¦è§£å†³çš„æ˜¯ä¸å†é¢„åˆ‡åŠ¨æ€ç”Ÿæˆï¼ŒåŒæ—¶é¿å…ä¸€ä¸‹å­ç”Ÿæˆå¤§è§„æ¨¡ç“¦ç‰‡æ–‡ä»¶çš„é—®é¢˜) çŸ¢é‡ç“¦ç‰‡æœåŠ¡ä¹Ÿå°±æ˜¯æ ¹æ®è°ƒç”¨ç«¯ä¼ é€’çš„å‚æ•°ï¼Œä»æ•°æ®æºè·å–å¯¹åº”çš„æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºçŸ¢é‡ç“¦ç‰‡æ ¼å¼ï¼Œæœ€ç»ˆè¿”å›ç»™è°ƒç”¨ç«¯ è¿™é‡Œé€‰æ‹©ç“¦ç‰‡åæ ‡ä½œä¸ºæ£€ç´¢å‚æ•°ï¼Œå¯ä»¥ä¾¿äºæœåŠ¡é™çº§ï¼ˆç¼“å­˜ï¼‰å’Œæ€§èƒ½ä¼˜åŒ–ï¼ˆç“¦ç‰‡åæ ‡å€¼ç›¸å¯¹æ¥è¯´æ›´åŠ å‡†ç¡®å’Œå¯å›ºå®šï¼Œä¸”ä¾¿äºé™ç»´ï¼‰ éœ€è¦å®ç°ç“¦ç‰‡åæ ‡ç³»åˆ°æ•°æ®æºåæ ‡ç³»ä¸‹æ•°æ®èŒƒå›´çš„ç›¸äº’è½¬æ¢ éœ€è¦å®ç°æ•°æ®æºçš„èŒƒå›´æŸ¥è¯¢ éœ€è¦å®ç°çŸ¢é‡æ•°æ®åˆ°çŸ¢é‡ç“¦ç‰‡çš„ç¼–è§£ç  é‚£ä¹ˆå¤§ä½“çš„å®ç°è·¯å¾„å¯å½’ç»“äºå¦‚ä¸‹æ‰€ç¤ºï¼š\nå…¶ä¸­çš„æ ¸å¿ƒè¦ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š","title":"å¦‚ä½•æ„å»ºä¸€ä¸ªçŸ¢é‡ç“¦ç‰‡æœåŠ¡"},{"content":"å‰è¨€ æœ¬æ–‡ç”¨äºè®°å½•GeoServerå¼€å‘ç¯å¢ƒçš„æ­å»ºè¿‡ç¨‹\né€šè¿‡GeoServerå‘å¸ƒè®¡åˆ’å¯ä»¥çœ‹åˆ°ï¼Œåœ¨2.23.xç‰ˆæœ¬å¼€å§‹ï¼Œä¼šç§»é™¤å¯¹jdk1.8çš„æ”¯æŒã€‚é‚£ä¹ˆå½“å‰æˆ‘ä»¬ä¼šé€‰æ‹©2.22.xç‰ˆæœ¬è¿›è¡Œç ”ç©¶\nç¯å¢ƒ JAVAï¼š1.8æˆ–11 Maven Git Action è·å–æºç  git clone git://github.com/geoserver/geoserver.git geoserver # or git clone https://github.com/geoserver/geoserver.git geoserver ä»£ç åº“ç»“æ„ Each branch has the following structure:\nbuildÂ - release and continuous integration scripts docÂ - sources for the user and developer guides srcÂ - java sources for GeoServer itself dataÂ - a variety of GeoServer data directories / configurations åˆ‡æ¢åˆ°2.22.xåˆ†æ”¯ # æŸ¥çœ‹åˆ†æ”¯ git branch -av # åˆ‡æ¢åˆ†æ”¯ git checkout -b 2.22.x origin/2.22.x Import modules into IntelliJ Run the IntelliJ IDE\nFrom the initial panel selectÂ Open.\nNavigate to theÂ geoserver/src/pom.xmlÂ directory and clickÂ OK. When asked click onÂ Open as a Project. Optionally, depending on which platform, IntelliJ may ask toÂ Trust the Project. Wait for IntelliJ toÂ SyncÂ the dependencies, itâ€™s possible to follow the process from theÂ BuildÂ tab panel on the bottom. Finalize the GeoServer Project configuration ClickÂ File \u0026gt; Project Structure. Update theÂ NameÂ and select the correctÂ SDKÂ accordingly to the GeoServer version. ClickÂ File \u0026gt; Settings. FromÂ Build, Execution, Deployment \u0026gt; Compiler \u0026gt; Annotation Processors, enable theÂ Annotation processing. ClickÂ Build \u0026gt; Rebuild Project. Run GeoServer from IntelliJ From the Project browser select theÂ web-appÂ module Navigate to theÂ org.geoserver.webÂ package Right-click theÂ StartÂ class and click toÂ Modify Run Configuration... å¦‚æœæ²¡æœ‰è¯¥é€‰é¡¹ï¼Œé‚£ä¹ˆç›´æ¥å»Edit Configurationså¤„åˆ›å»ºä¸€ä¸ªå³å¯ï¼ŒAdd Configurationï¼Œé€‰æ‹©Application\nIt isÂ importantÂ to correctly set theÂ Working directoryÂ toÂ src/web/app. While having theÂ Edit ConfigurationsÂ dialog open, fine tune the launch environment (including setting aÂ GEOSERVER_DATA_DIRÂ or theÂ jetty.port). When settings are satisfactory, clickÂ OK. Itâ€™s possible now to run GeoServer by selectingÂ Run -\u0026gt; Run 'Start' ç¬¬ä¸€æ¬¡å¯åŠ¨æ¯”è¾ƒæ…¢\nAccess GeoServer front page After a few seconds, GeoServer should be accessible at:Â http://localhost:8080/geoserver The defaultÂ adminÂ password isÂ geoserver. FAQ ä¾èµ–ä¸‹è½½å¤±è´¥æˆ–è¿‡æ…¢ï¼ˆè¯¥æ¡ä»…ä¾›å‚è€ƒï¼‰ ä½¿ç”¨é˜¿é‡Œäº‘Mavené•œåƒåŠ é€Ÿä¾èµ–ä¸‹è½½ï¼Œå¯ä»¥å‚è€ƒé˜¿é‡Œäº‘Mavenå‘å¯¼è¿›è¡Œè®¾ç½®ã€æœ‰ä»£ç†ï¼ˆç§‘å­¦ä¸Šç½‘ï¼‰åº”è¯¥å°±ä¸éœ€è¦äº†ã€‘\nmavené…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ï¼Œmavenå·¥å…·æ‰€åœ¨çš„confé…ç½® \u0026gt; å¤–éƒ¨åŒ–é…ç½®\nç¼–è¯‘æç¤ºNodeä¸å­˜åœ¨ï¼ˆwcs1_1ï¼‰ ç½‘ç»œä¸Šæœ‰ä¸€äº›æç¤ºæ˜¯ï¼šæ‰‹åŠ¨æ·»åŠ Nodeçš„ä¾èµ–ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºåº”è¯¥ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®æ‰æ˜¯ï¼Œå› ä¸ºä»å®˜ç½‘çš„maven quick startä¸­ï¼Œå¹¶æœªä½¿ç”¨ä»»ä½•çš„ç¼–è¾‘å™¨ï¼Œç›´æ¥å‘½ä»¤è¡Œæå®šã€‚\n# skip unit tests, skip spotless(Spotless is used as a fast way to check that the google-java-format is being applied to the codebase.) mvn clean install -DskipTests -Dspotless.apply.skip=true # ä¸æƒ³install, packageä¹Ÿå¯ä»¥ mvn clean package -DskipTests -Dspotless.apply.skip=true è¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°ï¼ŒNodeè¿™ä¸ªç±»å­˜åœ¨äºç¼–è¯‘åçš„ä»£ç ä¸­\né€šè¿‡è·Ÿè¸ªæ„å»ºè¿‡ç¨‹å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯ç”±javaccåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ï¼ˆæ ¹æ®rangeset.jjtæ–‡ä»¶ï¼ŒçŸ¥è¯†ç›²åŒºäº†ï¼‰\nå…¶å®åœ¨å®˜æ–¹æ–‡æ¡£ä¸­å·²ç»æåˆ°äº†å¦‚ä½•å¤„ç†è¯¥é—®é¢˜çš„ï¼Œå‚è§Troubleshooting#1ï¼Œå°±æ˜¯éœ€è¦å…ˆå®Œæˆwcs1_1æ¨¡å—çš„ç¼–è¯‘æ„å»ºã€‚\næˆ‘å°±ä¸ç®¡é‚£ä¹ˆå¤šäº†ï¼Œç›´æ¥æŠŠæ‰€æœ‰çš„éƒ½æ„å»ºäº†\nMaven ä½¿ç”¨ å‚è§ï¼šGeoServer Maven Guide\nå‚è€ƒ IntelliJ QuickStart\nGeoServer Maven Guide\né˜¿é‡Œäº‘äº‘æ•ˆMaven\n","permalink":"https://fuyi-atlas.github.io/posts/program/geoserver/002/","summary":"å‰è¨€ æœ¬æ–‡ç”¨äºè®°å½•GeoServerå¼€å‘ç¯å¢ƒçš„æ­å»ºè¿‡ç¨‹\né€šè¿‡GeoServerå‘å¸ƒè®¡åˆ’å¯ä»¥çœ‹åˆ°ï¼Œåœ¨2.23.xç‰ˆæœ¬å¼€å§‹ï¼Œä¼šç§»é™¤å¯¹jdk1.8çš„æ”¯æŒã€‚é‚£ä¹ˆå½“å‰æˆ‘ä»¬ä¼šé€‰æ‹©2.22.xç‰ˆæœ¬è¿›è¡Œç ”ç©¶\nç¯å¢ƒ JAVAï¼š1.8æˆ–11 Maven Git Action è·å–æºç  git clone git://github.com/geoserver/geoserver.git geoserver # or git clone https://github.com/geoserver/geoserver.git geoserver ä»£ç åº“ç»“æ„ Each branch has the following structure:\nbuildÂ - release and continuous integration scripts docÂ - sources for the user and developer guides srcÂ - java sources for GeoServer itself dataÂ - a variety of GeoServer data directories / configurations åˆ‡æ¢åˆ°2.22.xåˆ†æ”¯ # æŸ¥çœ‹åˆ†æ”¯ git branch -av # åˆ‡æ¢åˆ†æ”¯ git checkout -b 2.","title":"GeoServerå¼€å‘ç¯å¢ƒæ­å»º"},{"content":"ä¸ºä»€ä¹ˆéœ€è¦æ·±å…¥ç ”ç©¶GeoServer GeoServeræ˜¯ä¸€ä¸ªå¼€æºçš„ã€æµè¡Œçš„ã€Javaå®ç°çš„å¯å‘å¸ƒå’Œå…±äº«åœ°ç†ä¿¡æ¯æ•°æ®çš„è½¯ä»¶æœåŠ¡å™¨ï¼Œæ˜¯WMSã€WCSã€WFSçš„æ ‡å‡†å®ç°ï¼Œå«WMTS GeoServeråŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯æˆ‘å¯èƒ½åªä¼šç”¨åˆ°å…¶ä¸­çš„ä¸€ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¯”å¦‚åæ ‡è½¬æ¢ä¸WMTSæœåŠ¡ã€‚å¯ä»¥é€šè¿‡ç ”ç©¶å°†å…¶è¿›è¡Œæå–å’Œé‡ç»„ï¼Œå½¢æˆç¬¦åˆæˆ‘è¦æ±‚çš„ï¼Œæ›´åŠ ç²¾ç®€æ–¹ä¾¿çš„è½¯ä»¶æœåŠ¡å™¨ GISåç«¯å¼€å‘ç»•ä¸è¿‡å»çš„çŸ¥è¯†ç‚¹ å¦‚ä½•è¿›è¡Œç ”ç©¶ å¼€å‘ç¯å¢ƒæ­å»º é€šè¿‡WMTSè¯·æ±‚é“¾æ¥åˆ°æºç  é€šè¿‡æºç è¿›è¡Œç ”ç©¶å­¦ä¹  â€¦ æœªå®Œå¾…ç»­\u0026hellip;\n","permalink":"https://fuyi-atlas.github.io/posts/program/geoserver/001/","summary":"ä¸ºä»€ä¹ˆéœ€è¦æ·±å…¥ç ”ç©¶GeoServer GeoServeræ˜¯ä¸€ä¸ªå¼€æºçš„ã€æµè¡Œçš„ã€Javaå®ç°çš„å¯å‘å¸ƒå’Œå…±äº«åœ°ç†ä¿¡æ¯æ•°æ®çš„è½¯ä»¶æœåŠ¡å™¨ï¼Œæ˜¯WMSã€WCSã€WFSçš„æ ‡å‡†å®ç°ï¼Œå«WMTS GeoServeråŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯æˆ‘å¯èƒ½åªä¼šç”¨åˆ°å…¶ä¸­çš„ä¸€ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¯”å¦‚åæ ‡è½¬æ¢ä¸WMTSæœåŠ¡ã€‚å¯ä»¥é€šè¿‡ç ”ç©¶å°†å…¶è¿›è¡Œæå–å’Œé‡ç»„ï¼Œå½¢æˆç¬¦åˆæˆ‘è¦æ±‚çš„ï¼Œæ›´åŠ ç²¾ç®€æ–¹ä¾¿çš„è½¯ä»¶æœåŠ¡å™¨ GISåç«¯å¼€å‘ç»•ä¸è¿‡å»çš„çŸ¥è¯†ç‚¹ å¦‚ä½•è¿›è¡Œç ”ç©¶ å¼€å‘ç¯å¢ƒæ­å»º é€šè¿‡WMTSè¯·æ±‚é“¾æ¥åˆ°æºç  é€šè¿‡æºç è¿›è¡Œç ”ç©¶å­¦ä¹  â€¦ æœªå®Œå¾…ç»­\u0026hellip;","title":"æ·±å…¥ç ”ç©¶GeoServerâ€”å¼€ç¯‡"},{"content":"å‰è¨€ æ­¤ä¸ºæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿï¼ˆcsappï¼‰ç¬¬ä¸€ç« çš„ç¬”è®°ï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªå¼€å§‹äº†ã€‚\nHelloç¨‹åº #include \u0026lt;studio.h\u0026gt; int main() { printf(\u0026#34;hello world\\n\u0026#34;); return 0; } åŸºæœ¬æ€æƒ³ ç³»ç»Ÿä¸­æ‰€æœ‰çš„ä¿¡æ¯â€”â€”åŒ…æ‹¬ç£ç›˜æ–‡ä»¶ã€å†…å­˜ä¸­çš„ç¨‹åºã€å†…å­˜ä¸­å­˜æ”¾çš„ç”¨æˆ·æ•°æ®ä»¥åŠç½‘ç»œä¸Šä¼ è¾“çš„æ•°æ®ï¼Œéƒ½æ˜¯ç”±ä¸€ä¸²æ¯”ç‰¹ï¼ˆbitï¼‰è¡¨ç¤ºçš„ã€‚åŒºåˆ†ä¸åŒæ•°æ®å¯¹è±¡çš„å”¯ä¸€æ–¹æ³•æ˜¯æˆ‘ä»¬è¯»åˆ°è¿™äº›æ•°æ®å¯¹è±¡æ—¶çš„ä¸Šä¸‹æ–‡ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸€ä¸ªåŒæ ·çš„å­—èŠ‚åºåˆ—å¯èƒ½è¡¨ç¤ºä¸€ä¸ªæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²æˆ–è€…æœºå™¨æŒ‡ä»¤ã€‚\nè¦ç‚¹ æºç¨‹åºå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªç”±0å’Œ1ç»„æˆçš„ä½ï¼ˆæˆ–ç§°ä¸ºæ¯”ç‰¹ï¼šbitï¼‰åºåˆ—ï¼Œ8ä¸ªä½ä¸ºä¸€ç»„ï¼Œç§°ä¸ºå­—èŠ‚ï¼ˆbyteï¼‰ã€‚\nå¤§éƒ¨åˆ†çš„ç°ä»£è®¡ç®—æœºç³»ç»Ÿéƒ½ä½¿ç”¨ASCIIæ ‡å‡†æ¥è¡¨ç¤ºæ–‡æœ¬å­—ç¬¦ï¼Œè¿™ç§æ–¹å¼å®é™…ä¸Šå°±æ˜¯ç”¨ä¸€ä¸ªå”¯ä¸€çš„å•å­—èŠ‚å¤§å°çš„æ•´æ•°å€¼æ¥è¡¨ç¤ºæ¯ä¸ªå­—ç¬¦\nhello.cç¨‹åºæ˜¯ä»¥å­—èŠ‚åºåˆ—çš„æ–¹å¼å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ã€‚æ¯ä¸ªå­—èŠ‚éƒ½æœ‰ä¸€ä¸ªæ•´æ•°å€¼ï¼Œå¯¹åº”äºæŸäº›å­—ç¬¦ï¼ˆæ³¨æ„ï¼šæ¯ä¸ªæ–‡æœ¬è¡Œéƒ½æ˜¯ä»¥ä¸€ä¸ªçœ‹ä¸è§çš„æ¢è¡Œç¬¦â€œ/nâ€æ¥ç»“æŸçš„ï¼‰\nåªç”±ASCIIå­—ç¬¦æ„æˆçš„æ–‡ä»¶ç§°ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œæ‰€æœ‰å…¶ä»–æ–‡ä»¶éƒ½ç§°ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶\nç¼–è¯‘ç³»ç»Ÿï¼ˆcompilation systemï¼‰ï¼šç¼–è¯‘çš„å››ä¸ªé˜¶æ®µ\ngcc -o hello hello.c hello.cï¼ˆæ–‡æœ¬ï¼‰ â€”\u0026gt; é¢„å¤„ç†å™¨[cpp] â€”\u0026gt; hello.iï¼ˆæ–‡æœ¬ï¼‰ â€”\u0026gt; ç¼–è¯‘å™¨[ccl] â€”\u0026gt; hello.sï¼ˆæ–‡æœ¬ï¼‰ â€”\u0026gt; æ±‡ç¼–å™¨[as] â€”\u0026gt; hello.oï¼ˆäºŒè¿›åˆ¶ï¼‰ â€”\u0026gt; é“¾æ¥å™¨[ld] â€”\u0026gt; helloï¼ˆäºŒè¿›åˆ¶ï¼‰\né¢„å¤„ç†ï¼šé¢„å¤„ç†å™¨å¤„ç†#å¼€å¤´çš„å‘½ä»¤ï¼Œä¿®æ”¹åŸå§‹çš„Cç¨‹åº ç¼–è¯‘ï¼šç¼–è¯‘å™¨å°†hello.iç¿»è¯‘ä¸ºhello.sï¼Œå³å°†æºæ–‡ä»¶ç¿»è¯‘ä¸ºæ±‡ç¼–è¯­è¨€ã€‚æ±‡ç¼–è¯­è¨€æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸ºå®ƒä¸ºä¸åŒé«˜çº§è¯­è¨€çš„ä¸åŒç¼–è¯‘å™¨æä¾›äº†é€šç”¨çš„è¾“å‡ºè¯­è¨€ã€‚ä¾‹å¦‚ï¼ŒCç¼–è¯‘å™¨å’ŒFortranç¼–è¯‘å™¨äº§ç”Ÿçš„è¾“å‡ºæ–‡ä»¶ç”¨çš„éƒ½æ˜¯ä¸€æ ·çš„æ±‡ç¼–è¯­è¨€ æ±‡ç¼–ï¼šæ±‡ç¼–å™¨å°†hello.sç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€æŒ‡ä»¤ï¼ŒæŠŠè¿™äº›æŒ‡ä»¤æ‰“åŒ…æˆä¸€ç§å«åšå¯é‡å®šä½ç›®æ ‡ç¨‹åºï¼ˆrelocation object programï¼‰çš„æ ¼å¼ï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨ç›®æ ‡æ–‡ä»¶hello.oä¸­ã€‚hello.oæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå³å°†æ±‡ç¼–å†…å®¹ç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€æŒ‡ä»¤ï¼Œå¹¶å°†è¿™äº›æŒ‡ä»¤æ‰“åŒ…æˆä¸€ç§å«åšå¯é‡å®šä½ç›®æ ‡ç¨‹åºçš„æ ¼å¼ï¼‰ é“¾æ¥ï¼šé“¾æ¥å™¨ç”¨äºå¤„ç†åˆå¹¶ã€‚æ¯”å¦‚åœ¨helloç¨‹åºä¸­è°ƒç”¨äº†printfå‡½æ•°ï¼Œå®ƒæ˜¯æ¯ä¸ªCç¼–è¯‘å™¨éƒ½æä¾›çš„æ ‡å‡†Cåº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ã€‚printfå‡½æ•°å­˜åœ¨äºä¸€ä¸ªåä¸ºprintf.oçš„å•ç‹¬çš„é¢„ç¼–è¯‘å¥½äº†çš„ç›®æ ‡æ–‡ä»¶ä¸­ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶å¿…é¡»ä»¥æŸç§æ–¹å¼åˆå¹¶åˆ°hello.oç¨‹åºä¸­ã€‚é“¾æ¥å™¨å°±è´Ÿè´£å¤„ç†è¿™ç§åˆå¹¶ã€‚æœ€ç»ˆå¾—åˆ°helloæ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ï¼ˆæˆ–ç®€ç§°ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ï¼Œå¯ä»¥è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç”±ç³»ç»Ÿæ‰§è¡Œ shellæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œè§£é‡Šå™¨ï¼Œå®ƒè¾“å‡ºä¸€ä¸ªæç¤ºç¬¦ï¼Œç­‰å¾…è¾“å…¥ä¸€ä¸ªå‘½ä»¤è¡Œï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚å¦‚æœè¯¥å‘½ä»¤è¡Œçš„å•è¯ä¸æ˜¯ä¸€ä¸ªå†…ç½®çš„å‘½ä»¤ï¼Œé‚£ä¹ˆshellå°±ä¼šuå‡è®¾è¿™æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„åå­—ï¼Œå®ƒå°†åŠ è½½å¹¶è¿è¡Œè¿™ä¸ªæ–‡ä»¶ã€‚\nç³»ç»Ÿçš„ç¡¬ä»¶ç»„æˆ CPUï¼šä¸­å¤®å¤„ç†å•å…ƒï¼› ALUï¼šç®—æœ¯/é€»è¾‘å•å…ƒï¼› PCï¼šç¨‹åºè®¡æ•°å™¨ï¼› USBï¼šé€šç”¨ä¸²è¡Œæ€»çº¿ æ€»çº¿ è´¯ç©¿æ•´ä¸ªç³»ç»Ÿçš„æ˜¯ä¸€ç»„ç”µå­ç®¡é“ï¼Œç§°åšæ€»çº¿ï¼Œå®ƒæºå¸¦ä¿¡æ¯å­—èŠ‚å¹¶è´Ÿè´£åœ¨å„ä¸ªéƒ¨ä»¶é—´ä¼ é€’ã€‚ç¡¬ä»¶ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æµéœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶ä¿¡æ¯ä¼ é€’è§„åˆ™ï¼Œä¸ºäº†é«˜æ•ˆè€ƒè™‘ï¼Œé€šå¸¸æ€»çº¿è¢«è®¾è®¡æˆä¼ é€å®šé•¿çš„å­—èŠ‚å—ï¼Œä¹Ÿå°±æ˜¯å­—ï¼ˆwordï¼‰ã€‚å­—ä¸­çš„å­—èŠ‚æ•°ï¼ˆå³å­—é•¿ï¼‰æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç³»ç»Ÿå‚æ•°ï¼Œåœ¨å„ä¸ªç³»ç»Ÿä¸­çš„æƒ…å†µéƒ½ä¸å°½ç›¸åŒã€‚ç°åœ¨çš„å¤§å¤šæ•°æœºå™¨å­—é•¿è¦ä¹ˆæ˜¯4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰ï¼Œè¦ä¹ˆæ˜¯8ä¸ªå­—èŠ‚ï¼ˆ64ä½ï¼‰ã€‚\nI/Oè®¾å¤‡ è¾“å…¥ / è¾“å‡ºï¼ˆI/Oï¼‰è®¾å¤‡æ˜¯ç³»ç»Ÿä¸å¤–éƒ¨ä¸–ç•Œçš„è”ç³»é€šé“ã€‚æ¯ä¸ª I/O è®¾å¤‡éƒ½é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨æˆ–é€‚é…å™¨ä¸ I/O æ€»çº¿ç›¸è¿ã€‚æ§åˆ¶å™¨ä¸é€‚é…å™¨ä¹‹é—´çš„åŒºåˆ«ä¸»è¦åœ¨äºå®ƒä»¬çš„å°è£…æ–¹å¼ã€‚æ§åˆ¶å™¨æ˜¯ I/O è®¾å¤‡æœ¬èº«æˆ–è€…ç³»ç»Ÿçš„ä¸»å°åˆ¶ç”µè·¯æ¿ï¼ˆé€šå¸¸ç§°ä¸ºä¸»æ¿ï¼‰ä¸Šçš„èŠ¯ç‰‡ç»„ã€‚è€Œé€‚é…å™¨åˆ™æ˜¯ä¸€å—æ’åœ¨ä¸»æ¿æ’æ§½ä¸Šçš„å¡ã€‚æ— è®ºå¦‚ä½•ï¼Œå®ƒä»¬çš„åŠŸèƒ½éƒ½æ˜¯åœ¨ I/O æ€»çº¿å’Œ I/O è®¾å¤‡ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚\nä¸»å­˜ ä¸»å­˜æ˜¯ä¸€ä¸ªä¸´æ—¶å­˜å‚¨è®¾å¤‡ï¼Œåœ¨å¤„ç†å™¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œç”¨æ¥å­˜æ”¾ç¨‹åºå’Œç¨‹åºå¤„ç†çš„æ•°æ®ã€‚ä»ç‰©ç†ä¸Šæ¥è¯´ï¼Œä¸»å­˜æ˜¯ç”±ä¸€ç»„åŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆDRAMï¼‰èŠ¯ç‰‡ç»„æˆçš„ã€‚ä»é€»è¾‘ä¸Šæ¥è¯´ï¼Œå­˜å‚¨å™¨æ˜¯ä¸€ä¸ªçº¿æ€§çš„å­—èŠ‚æ•°ç»„ï¼Œæ¯ä¸ªå­—èŠ‚éƒ½æœ‰å…¶å”¯ä¸€çš„åœ°å€ï¼ˆå³æ•°ç»„ç´¢å¼•ï¼‰ï¼Œè¿™äº›åœ°å€æ˜¯ä»é›¶å¼€å§‹çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç»„æˆç¨‹åºçš„æ¯æ¡æœºå™¨æŒ‡ä»¤éƒ½æ˜¯ç”±ä¸åŒæ•°é‡çš„å­—èŠ‚æ„æˆã€‚ä¸Cç¨‹åºå˜é‡ç›¸å¯¹åº”çš„æ•°æ®é¡¹ï¼ˆç¨‹åºå¤„ç†çš„æ•°æ®ï¼‰çš„å¤§å°æ˜¯æ ¹æ®ç±»å‹ï¼ˆshortã€intã€floatâ€¦ï¼‰å˜åŒ–çš„ã€‚\nå¤„ç†å™¨ ä¸­å¤®å¤„ç†å•å…ƒï¼ˆCPUï¼‰ï¼Œç®€ç§°å¤„ç†å™¨ï¼Œæ˜¯è§£é‡Šï¼ˆæˆ–æ‰§è¡Œï¼‰å­˜å‚¨åœ¨ä¸»å­˜ä¸­æŒ‡ä»¤çš„å¼•æ“ã€‚å¤„ç†å™¨çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå¤§å°ä¸ºä¸€ä¸ªå­—ï¼ˆWordï¼‰çš„å­˜å‚¨è®¾å¤‡ï¼ˆæˆ–å¯„å­˜å™¨ï¼‰ï¼Œç§°ä¸ºç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ã€‚åœ¨ä»»ä½•æ—¶åˆ»ï¼ŒPC éƒ½æŒ‡å‘ä¸»å­˜ä¸­çš„æŸæ¡æœºå™¨è¯­è¨€æŒ‡ä»¤ï¼ˆå³å«æœ‰è¯¥æ¡æŒ‡ä»¤çš„åœ°å€ï¼‰ã€‚\næœ¯ä¸šæœ‰ä¸“æ”»ï¼Œè®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œä½ åšä½ çš„ï¼Œå®ƒåšå®ƒçš„ï¼Œå¤§å®¶å„å¸å…¶èŒã€‚ å¦‚æœæƒ³è¦ hello å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå­˜å‚¨åœ¨ä¸»å­˜ä¸Šï¼‰è¿è¡Œèµ·æ¥ï¼Œå°±è¦è°ƒç”¨ç¨‹åºè®¡æ•°å™¨æ‰§è¡Œæ•´ä¸ªç¨‹åºçš„æ¯ä¸€æ¡æŒ‡ä»¤ï¼Œå¹¶æœ‰ä¸“é—¨çš„ç¡¬ä»¶æ¥å¤„ç†æ•°å€¼è®¡ç®—é€»è¾‘æ“ä½œï¼Œå¹¶ä¸”åœ¨æ•°å€¼å¤„ç†è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿä¸´æ—¶çš„æ•°æ®ï¼Œè¿™å°±éœ€è¦æœ‰ä¸ªåœ°æ–¹å¯„å­˜ï¼Œç­‰å¾…æ‰€æœ‰ç¨‹åºæ‰§è¡Œç»“æŸä¹‹åï¼Œå†å­˜åˆ°ä¸»å­˜ä¸Šã€‚\nä»ç³»ç»Ÿé€šç”µå¼€å§‹ï¼Œç›´åˆ°ç³»ç»Ÿæ–­ç”µï¼Œå¤„ç†å™¨ä¸€ç›´åœ¨ä¸æ–­åœ°æ‰§è¡Œç¨‹åºè®¡æ•°å™¨æŒ‡å‘çš„æŒ‡ä»¤ï¼Œå†æ›´æ–°ç¨‹åºè®¡æ•°å™¨ï¼Œä½¿å…¶æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚å¤„ç†å™¨çœ‹ä¸Šå»æ˜¯æŒ‰ç…§ä¸€ä¸ªéå¸¸ç®€å•çš„æŒ‡ä»¤æ‰§è¡Œæ¨¡å‹æ¥æ“ä½œçš„ï¼Œè¿™ä¸ªæ¨¡å‹æ˜¯ç”±æŒ‡ä»¤é›†æ¶æ„å†³å®šçš„ã€‚åœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼ŒæŒ‡ä»¤æŒ‰ç…§ä¸¥æ ¼çš„é¡ºåºæ‰§è¡Œï¼Œè€Œæ‰§è¡Œä¸€æ¡æŒ‡ä»¤åŒ…å«ä¸€ç³»åˆ—çš„æ­¥éª¤ï¼š\nå¤„ç†å™¨ä»ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰æŒ‡å‘çš„å­˜å‚¨å™¨å¤„è¯»å–æŒ‡ä»¤ï¼Œè§£é‡ŠæŒ‡ä»¤ä¸­çš„ä½ï¼ˆbitï¼‰ï¼Œæ‰§è¡Œè¯¥æŒ‡ä»¤æŒ‡ç¤ºçš„ç®€å•æ“ä½œï¼Œç„¶åæ›´æ–° PCï¼Œä½¿å…¶æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œè€Œè¿™æ¡æŒ‡ä»¤å¹¶ä¸ä¸€å®šä¸å­˜å‚¨å™¨ä¸­åˆšåˆšæ‰§è¡Œçš„æŒ‡ä»¤ç›¸é‚»ã€‚\næ“ä½œæ˜¯å›´ç»•ç€**ä¸»å­˜ã€å¯„å­˜å™¨æ–‡ä»¶ï¼ˆregister fileï¼‰å’Œç®—æœ¯ / é€»è¾‘å•å…ƒï¼ˆALUï¼‰è¿›è¡Œçš„ã€‚**å¯„å­˜å™¨æ–‡ä»¶æ˜¯ä¸€ä¸ªå°çš„å­˜å‚¨è®¾å¤‡ï¼Œç”±ä¸€äº›å•ä¸ªå­—é•¿çš„å¯„å­˜å™¨ç»„æˆï¼Œæ¯ä¸ªå¯„å­˜å™¨éƒ½æœ‰å”¯ä¸€çš„åå­—ã€‚ALU è®¡ç®—æ–°çš„æ•°æ®å’Œåœ°å€å€¼ã€‚ä¸‹é¢æ˜¯ä¸€äº›ç®€å•æ“ä½œçš„ä¾‹å­ï¼ŒCPU åœ¨æŒ‡ä»¤çš„è¦æ±‚ä¸‹å¯èƒ½ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œ ï¼š\nåŠ è½½ ï¼šæŠŠä¸€ä¸ªå­—èŠ‚æˆ–è€…ä¸€ä¸ªå­—ä»ä¸»å­˜å¤åˆ¶åˆ°å¯„å­˜å™¨ï¼Œä»¥è¦†ç›–å¯„å­˜å™¨åŸæ¥çš„å†…å®¹ã€‚ å­˜å‚¨ ï¼šæŠŠä¸€ä¸ªå­—èŠ‚æˆ–è€…ä¸€ä¸ªå­—ä»å¯„å­˜å™¨å¤åˆ¶åˆ°ä¸»å­˜çš„æŸä¸ªä½ç½®ï¼Œä»¥è¦†ç›–è¿™ä¸ªä½ç½®ä¸ŠåŸæ¥çš„å†…å®¹ã€‚ æ“ä½œ ï¼šæŠŠä¸¤ä¸ªå¯„å­˜å™¨çš„å†…å®¹å¤åˆ¶åˆ° ALUï¼ŒALU å¯¹è¿™ä¸¤ä¸ªå­—åšç®—æœ¯æ“ä½œï¼Œå¹¶å°†ç»“æœå­˜æ”¾åˆ°ä¸€ä¸ªå¯„å­˜å™¨ä¸­ï¼Œä»¥è¦†ç›–è¯¥å¯„å­˜å™¨ä¸­åŸæ¥çš„å†…å®¹ã€‚ è·³è½¬ ï¼šä»æŒ‡ä»¤æœ¬èº«ä¸­æŠ½å–ä¸€ä¸ªå­—ï¼Œå¹¶å°†è¿™ä¸ªå­—å¤åˆ¶åˆ°ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ä¸­ï¼Œä»¥è¦†ç›– PC ä¸­åŸæ¥çš„å€¼ã€‚ ğŸ’¡ å…³äºå¤„ç†å™¨çš„æŒ‡ä»¤é›†æ¶æ„å’Œå¾®ä½“ç³»ç»“æ„\nå¤„ç†å™¨çœ‹ä¸Šå»æ˜¯å®ƒçš„æŒ‡ä»¤é›†æ¶æ„çš„ç®€å•å®ç°ï¼Œä½†æ˜¯å®é™…ä¸Šç°ä»£å¤„ç†å™¨ä½¿ç”¨äº†éå¸¸å¤æ‚çš„æœºåˆ¶æ¥åŠ é€Ÿç¨‹åºçš„\u0026gt; æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†å¤„ç†å™¨çš„æŒ‡ä»¤é›†æ¶æ„å’Œå¤„ç†å™¨çš„å¾®ä½“ç³»æ¶æ„åŒºåˆ†å¼€æ¥\næŒ‡ä»¤é›†æ¶æ„ï¼šæè¿°çš„æ˜¯æ¯æ¡æœºå™¨ä»£ç æŒ‡ä»¤çš„æ•ˆæœ å¾®ä½“ç³»ç»“æ„ï¼šæè¿°çš„æ˜¯å¤„ç†å™¨å®é™…ä¸Šæ˜¯å¦‚ä½•å®ç°çš„\nå­˜å‚¨è®¾å¤‡ é«˜é€Ÿç¼“å­˜å±€éƒ¨æ€§åŸç†ï¼šå³ç¨‹åºå…·æœ‰è®¿é—®å±€éƒ¨åŒºåŸŸé‡Œçš„æ•°æ®å’Œä»£ç çš„è¶‹åŠ¿ã€‚\nåœ¨å¤„ç†å™¨å’Œä¸€ä¸ªè¾ƒå¤§è¾ƒæ…¢çš„è®¾å¤‡ï¼ˆä¾‹å¦‚ä¸»å­˜ï¼‰ä¹‹é—´æ’å…¥ä¸€ä¸ªæ›´å°æ›´å¿«çš„å­˜å‚¨è®¾å¤‡ï¼ˆä¾‹å¦‚é«˜é€Ÿç¼“å­˜ï¼‰çš„æƒ³æ³•å·²ç»æˆä¸ºä¸€ä¸ªæ™®éçš„è§‚å¿µã€‚å®é™…ä¸Šï¼Œæ¯ä¸ªè®¡ç®—æœºç³»ç»Ÿä¸­çš„å­˜å‚¨è®¾å¤‡éƒ½è¢«ç»„ç»‡æˆäº†ä¸€ä¸ªå­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ï¼Œå¦‚å›¾ 1-9 æ‰€ç¤ºã€‚åœ¨è¿™ä¸ªå±‚æ¬¡ç»“æ„ä¸­ï¼Œä»ä¸Šè‡³ä¸‹ï¼Œè®¾å¤‡çš„è®¿é—®é€Ÿåº¦è¶Šæ¥è¶Šæ…¢ã€å®¹é‡è¶Šæ¥è¶Šå¤§ï¼Œå¹¶ä¸”æ¯å­—èŠ‚çš„é€ ä»·ä¹Ÿè¶Šæ¥è¶Šä¾¿å®œã€‚å¯„å­˜å™¨æ–‡ä»¶åœ¨å±‚æ¬¡ç»“æ„ä¸­ä½äºæœ€é¡¶éƒ¨ï¼Œä¹Ÿå°±æ˜¯ç¬¬ 0 çº§æˆ–è®°ä¸º L0ã€‚è¿™é‡Œæˆ‘ä»¬å±•ç¤ºçš„æ˜¯ä¸‰å±‚é«˜é€Ÿç¼“å­˜ L1 åˆ° L3ï¼Œå æ®å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„ç¬¬ 1 å±‚åˆ°ç¬¬ 3 å±‚ã€‚ä¸»å­˜åœ¨ç¬¬ 4 å±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚\nå­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„ä¸»è¦æ€æƒ³æ˜¯ä¸Šä¸€å±‚çš„å­˜å‚¨å™¨ä½œä¸ºä½ä¸€å±‚å­˜å‚¨å™¨çš„é«˜é€Ÿç¼“å­˜ã€‚å› æ­¤ï¼Œå¯„å­˜å™¨æ–‡ä»¶å°±æ˜¯ L1 çš„é«˜é€Ÿç¼“å­˜ï¼ŒL1 æ˜¯ L2 çš„é«˜é€Ÿç¼“å­˜ï¼ŒL2 æ˜¯ L3 çš„é«˜é€Ÿç¼“å­˜ï¼ŒL3 æ˜¯ä¸»å­˜çš„é«˜é€Ÿç¼“å­˜ï¼Œè€Œä¸»å­˜åˆæ˜¯ç£ç›˜çš„é«˜é€Ÿç¼“å­˜ã€‚åœ¨æŸäº›å…·æœ‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„ç½‘ç»œç³»ç»Ÿä¸­ï¼Œæœ¬åœ°ç£ç›˜å°±æ˜¯å­˜å‚¨åœ¨å…¶ä»–ç³»ç»Ÿä¸­ç£ç›˜ä¸Šçš„æ•°æ®çš„é«˜é€Ÿç¼“å­˜ã€‚ æ­£å¦‚å¯ä»¥è¿ç”¨ä¸åŒçš„é«˜é€Ÿç¼“å­˜çš„çŸ¥è¯†æ¥æé«˜ç¨‹åºæ€§èƒ½ä¸€æ ·ï¼Œç¨‹åºå‘˜åŒæ ·å¯ä»¥åˆ©ç”¨å¯¹æ•´ä¸ªå­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„ç†è§£æ¥æé«˜ç¨‹åºæ€§èƒ½ã€‚\næ“ä½œç³»ç»Ÿ æˆ‘ä»¬å¯ä»¥æŠŠæ“ä½œç³»ç»Ÿçœ‹ä½œæ˜¯åº”ç”¨ç¨‹åºä¸ç¡¬ä»¶ä¹‹é—´æ’å…¥çš„ä¸€å±‚è½¯ä»¶ï¼Œæ‰€æœ‰åº”ç”¨ç¨‹åºå¯¹ç¡¬ä»¶çš„æ“ä½œå°è¯•éƒ½å¿…é¡»é€šè¿‡æ“ä½œç³»ç»Ÿ\næ“ä½œç³»ç»Ÿçš„ä¸¤ä¸ªåŸºæœ¬åŠŸèƒ½ é˜²æ­¢ç¡¬ä»¶è¢«å¤±æ§çš„åº”ç”¨ç¨‹åºæ»¥ç”¨ å‘åº”ç”¨ç¨‹åºæä¾›ç®€å•ä¸€è‡´çš„æœºåˆ¶æ¥æ§åˆ¶å¤æ‚è€Œæœ‰é€šå¸¸ä¸ç›¸åŒçš„ä½çº§ç¡¬ä»¶è®¾å¤‡ æ“ä½œç³»ç»Ÿé€šè¿‡å‡ ä¸ªåŸºæœ¬çš„æŠ½è±¡æ¦‚å¿µï¼ˆè¿›ç¨‹ã€è™šæ‹Ÿå†…å­˜å’Œæ–‡ä»¶ï¼‰æ¥å®ç°è¿™ä¸¤ä¸ªåŠŸèƒ½\næ–‡ä»¶æ˜¯å¯¹I/Oè®¾å¤‡çš„æŠ½è±¡è¡¨ç¤º è™šæ‹Ÿå†…å­˜æ˜¯å¯¹ä¸»å­˜å’Œç£ç›˜I/Oçš„æŠ½è±¡è¡¨ç¤º è¿›ç¨‹åˆ™æ˜¯å¯¹å¤„ç†å™¨ã€ä¸»å­˜å’ŒI/Oè®¾å¤‡çš„æŠ½è±¡è¡¨ç¤º è¿›ç¨‹ è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿå¯¹ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„ä¸€ç§æŠ½è±¡ã€‚åœ¨ä¸€ä¸ªç³»ç»Ÿä¸Šå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œè€Œæ¯ä¸ªè¿›ç¨‹éƒ½å¥½åƒåœ¨ç‹¬å åœ°ä½¿ç”¨ç¡¬ä»¶ã€‚è€Œå¹¶å‘è¿è¡Œï¼Œåˆ™æ˜¯è¯´ä¸€ä¸ªè¿›ç¨‹çš„æŒ‡ä»¤å’Œå¦ä¸€è¿›ç¨‹çš„æŒ‡ä»¤æ˜¯äº¤é”™æ‰§è¡Œçš„ï¼ˆè¿›ç¨‹çº§å¹¶å‘ï¼‰ã€‚åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œéœ€è¦è¿è¡Œçš„è¿›ç¨‹æ•°æ˜¯å¤šä¸å¯ä»¥è¿è¡Œå®ƒä»¬çš„CPUä¸ªæ•°çš„ã€‚ä¼ ç»Ÿç³»ç»Ÿï¼ˆå•æ ¸ç³»ç»Ÿï¼‰åœ¨ä¸€ä¸ªæ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œè€Œå¤šæ ¸å¤„ç†å™¨åŒæ—¶èƒ½å¤Ÿæ‰§è¡Œå¤šä¸ªç¨‹åºã€‚æ— è®ºæ˜¯åœ¨å•æ ¸è¿˜æ˜¯å¤šæ ¸ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªCPUçœ‹ä¸Šå»éƒ½åƒæ˜¯åœ¨å¹¶å‘åœ°æ‰§è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œè¿™æ˜¯é€šè¿‡å¤„ç†å™¨åœ¨è¿›ç¨‹é—´åˆ‡æ¢å®ç°çš„ã€‚æ“ä½œç³»ç»Ÿå®ç°è¿™ç§äº¤é”™æ‰§è¡Œçš„æœºåˆ¶ç§°ä¸ºä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚ï¼ˆè¿›ç¨‹æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­æœ€é‡è¦å’Œæœ€æˆåŠŸçš„æ¦‚å¿µä¹‹ä¸€ï¼‰\nä¸Šä¸‹æ–‡ï¼ˆè¿›ç¨‹ä¸Šä¸‹æ–‡ï¼‰ æ“ä½œç³»ç»Ÿä¿æŒè·Ÿè¸ªè¿›ç¨‹è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰çŠ¶æ€ä¿¡æ¯ã€‚è¿™ç§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬è®¸å¤šä¿¡æ¯ï¼Œæ¯”å¦‚PCï¼ˆç¨‹åºè®¡æ•°å™¨ï¼‰å’Œå¯„å­˜å™¨æ–‡ä»¶çš„å½“å‰å€¼ï¼Œä»¥åŠä¸»å­˜çš„å†…å®¹ã€‚åœ¨ä»»ä½•ä¸€ä¸ªæ—¶åˆ»ï¼Œå•å¤„ç†å™¨ç³»ç»Ÿéƒ½åªèƒ½æ‰§è¡Œä¸€ä¸ªè¿›ç¨‹çš„ä»£ç ã€‚å½“æ“ä½œç³»ç»Ÿå†³å®šè¦æŠŠæ§åˆ¶æƒä»å½“å‰è¿›ç¨‹è½¬ç§»åˆ°æŸä¸ªæ–°è¿›ç¨‹æ—¶ï¼Œå°±ä¼šè¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå³ä¿å­˜å½“å‰è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œæ¢å¤æ–°è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åå°†æ§åˆ¶æƒä¼ é€’åˆ°æ–°è¿›ç¨‹ã€‚æ–°è¿›ç¨‹å°±ä¼šä»å®ƒä¸Šæ¬¡åœæ­¢çš„åœ°æ–¹å¼€å§‹ã€‚\nä»ä¸€ä¸ªè¿›ç¨‹åˆ°å¦ä¸€ä¸ªè¿›ç¨‹çš„åˆ‡æ¢ï¼ˆä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰æ˜¯ç”±æ“ä½œç³»ç»Ÿå†…æ ¸ï¼ˆkernelï¼‰ç®¡ç†çš„ã€‚å†…æ ¸æ˜¯æ“ä½œç³»ç»Ÿä»£ç å¸¸é©»ä¸»å­˜çš„éƒ¨åˆ†ã€‚*å½“åº”ç”¨ç¨‹åºéœ€è¦æ“ä½œç³»ç»Ÿçš„æŸäº›æ“ä½œæ—¶ï¼Œæ¯”å¦‚è¯»å†™æ–‡ä»¶ï¼Œå®ƒï¼ˆåº”ç”¨ç¨‹åºï¼‰å°±æ‰§è¡Œä¸€æ¡ç‰¹æ®Šçš„ç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰æŒ‡ä»¤ï¼Œå°†æ§åˆ¶æƒä¼ é€’ç»™å†…æ ¸ã€‚ç„¶åå†…æ ¸æ‰§è¡Œè¢«è¯·æ±‚çš„æ“ä½œå¹¶è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚ï¼ˆç”¨æˆ·æ€ä¸å†…æ ¸æ€åˆ‡æ¢ï¼‰*æ³¨æ„ï¼šå†…æ ¸ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚ç›¸åï¼Œå®ƒæ˜¯ç³»ç»Ÿç®¡ç†å…¨éƒ¨è¿›ç¨‹æ‰€ç”¨ä»£ç å’Œæ•°æ®ç»“æ„çš„é›†åˆã€‚\nçº¿ç¨‹ åœ¨ç°ä»£ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹å®é™…ä¸Šå¯ä»¥ç”±å¤šä¸ªç§°ä¸ºçº¿ç¨‹çš„æ‰§è¡Œå•å…ƒç»„æˆï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½è¿è¡Œåœ¨è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå¹¶å…±äº«åŒæ ·çš„ä»£ç å’Œå…¨å±€æ•°æ®ã€‚\nè™šæ‹Ÿå†…å­˜ è™šæ‹Ÿå†…å­˜æ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå®ƒä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½æä¾›ä¸€ä¸ªå‡è±¡ï¼Œå³æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç‹¬å åœ°ä½¿ç”¨ä¸»å­˜ã€‚æ¯ä¸ªè¿›ç¨‹çœ‹åˆ°çš„å†…å­˜éƒ½æ˜¯ä¸€è‡´çš„ï¼Œç§°ä¸ºè™šæ‹Ÿåœ°å€ç©ºé—´ã€‚\nåœ¨ Linux ä¸­ï¼Œåœ°å€ç©ºé—´æœ€ä¸Šé¢çš„åŒºåŸŸæ˜¯ä¿ç•™ç»™æ“ä½œç³»ç»Ÿä¸­çš„ä»£ç å’Œæ•°æ®çš„ï¼Œè¿™å¯¹æ‰€æœ‰è¿›ç¨‹æ¥è¯´éƒ½æ˜¯ä¸€æ ·ã€‚åœ°å€ç©ºé—´çš„åº•éƒ¨åŒºåŸŸå­˜æ”¾ç”¨æˆ·è¿›ç¨‹å®šä¹‰çš„ä»£ç å’Œæ•°æ®ã€‚è¯·æ³¨æ„ï¼Œå›¾ä¸­çš„åœ°å€æ˜¯ä»ä¸‹å¾€ä¸Šå¢å¤§çš„ã€‚\næ¯ä¸ªè¿›ç¨‹çœ‹åˆ°çš„è™šæ‹Ÿåœ°å€ç©ºé—´ç”±å¤§é‡å‡†ç¡®å®šä¹‰çš„åŒºæ„æˆï¼Œæ¯ä¸ªåŒºéƒ½æœ‰ä¸“é—¨çš„åŠŸèƒ½ã€‚æˆ‘ä»¬ä»æœ€ä½çš„åœ°å€å¼€å§‹ï¼Œé€æ­¥å‘ä¸Šä»‹ç»ã€‚\nç¨‹åºä»£ç å’Œæ•°æ®å¯¹æ‰€æœ‰çš„è¿›ç¨‹æ¥è¯´ï¼Œä»£ç æ˜¯ä»åŒä¸€å›ºå®šåœ°å€å¼€å§‹ï¼Œç´§æ¥ç€çš„æ˜¯å’Œ C å…¨å±€å˜é‡ç›¸å¯¹åº”çš„æ•°æ®ä½ç½®ã€‚ä»£ç å’Œæ•°æ®åŒºæ˜¯ç›´æ¥æŒ‰ç…§å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶çš„å†…å®¹åˆå§‹åŒ–çš„ï¼Œåœ¨ç¤ºä¾‹ä¸­å°±æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ helloã€‚ å †ä»£ç å’Œæ•°æ®åŒºåç´§éšç€çš„æ˜¯è¿è¡Œæ—¶å †ã€‚ä»£ç å’Œæ•°æ®åŒºåœ¨è¿›ç¨‹ä¸€å¼€å§‹è¿è¡Œæ—¶å°±è¢«æŒ‡å®šäº†å¤§å°ï¼Œä¸æ­¤ä¸åŒï¼Œå½“è°ƒç”¨åƒ malloc å’Œ free è¿™æ ·çš„ C æ ‡å‡†åº“å‡½æ•°æ—¶ï¼Œå †å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ‰©å±•å’Œæ”¶ç¼©ã€‚ å…±äº«åº“å¤§çº¦åœ¨åœ°å€ç©ºé—´çš„ä¸­é—´éƒ¨åˆ†æ˜¯ä¸€å—ç”¨æ¥å­˜æ”¾åƒ C æ ‡å‡†åº“å’Œæ•°å­¦åº“è¿™æ ·çš„å…±äº«åº“çš„ä»£ç å’Œæ•°æ®çš„åŒºåŸŸã€‚å…±äº«åº“çš„æ¦‚å¿µéå¸¸å¼ºå¤§ï¼Œä¹Ÿç›¸å½“éš¾æ‡‚ã€‚ æ ˆä½äºç”¨æˆ·è™šæ‹Ÿåœ°å€ç©ºé—´é¡¶éƒ¨çš„æ˜¯ç”¨æˆ·æ ˆï¼Œç¼–è¯‘å™¨ç”¨å®ƒæ¥å®ç°å‡½æ•°è°ƒç”¨ã€‚å’Œå †ä¸€æ ·ï¼Œç”¨æˆ·æ ˆåœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å¯ä»¥åŠ¨æ€åœ°æ‰©å±•å’Œæ”¶ç¼©ã€‚ç‰¹åˆ«åœ°ï¼Œæ¯æ¬¡æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæ ˆå°±ä¼šå¢é•¿ï¼›ä»ä¸€ä¸ªå‡½æ•°è¿”å›æ—¶ï¼Œæ ˆå°±ä¼šæ”¶ç¼©ã€‚ å†…æ ¸è™šæ‹Ÿå†…å­˜åœ°å€ç©ºé—´é¡¶éƒ¨çš„åŒºåŸŸæ˜¯ä¸ºå†…æ ¸ä¿ç•™çš„ã€‚ä¸å…è®¸åº”ç”¨ç¨‹åºè¯»å†™è¿™ä¸ªåŒºåŸŸçš„å†…å®¹æˆ–è€…ç›´æ¥è°ƒç”¨å†…æ ¸ä»£ç å®šä¹‰çš„å‡½æ•°ã€‚ç›¸åï¼Œå®ƒä»¬å¿…é¡»è°ƒç”¨å†…æ ¸æ¥æ‰§è¡Œè¿™äº›æ“ä½œã€‚ è™šæ‹Ÿå†…å­˜çš„è¿ä½œéœ€è¦ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿè½¯ä»¶ä¹‹é—´ç²¾å¯†å¤æ‚çš„äº¤äº’ï¼ŒåŒ…æ‹¬å¯¹å¤„ç†å™¨ç”Ÿæˆçš„æ¯ä¸ªåœ°å€çš„ç¡¬ä»¶ç¿»è¯‘ã€‚åŸºæœ¬æ€æƒ³æ˜¯æŠŠä¸€ä¸ªè¿›ç¨‹è™šæ‹Ÿå†…å­˜çš„å†…å®¹å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç„¶åç”¨ä¸»å­˜ä½œä¸ºç£ç›˜çš„é«˜é€Ÿç¼“å­˜ã€‚\næ–‡ä»¶ æ–‡ä»¶å°±æ˜¯å­—èŠ‚åºåˆ—ï¼Œä»…æ­¤è€Œå·²ã€‚æ¯ä¸ªI/Oè®¾å¤‡ï¼ŒåŒ…æ‹¬ç£ç›˜ã€é”®ç›˜ã€æ˜¾ç¤ºå™¨ï¼Œç”šè‡³ç½‘ç»œï¼Œéƒ½å¯ä»¥çœ‹æˆæ˜¯æ–‡ä»¶ã€‚ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¾“å…¥è¾“å‡ºéƒ½æ˜¯é€šè¿‡ä½¿ç”¨ä¸€å°ç»„ç§°ä¸º Unix I/O çš„ç³»ç»Ÿå‡½æ•°è°ƒç”¨è¯»å†™æ–‡ä»¶æ¥å®ç°çš„ã€‚å®ƒï¼ˆæ–‡ä»¶ï¼‰å‘åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„è§†å›¾ï¼Œæ¥çœ‹å¾…ç³»ç»Ÿä¸­å¯èƒ½å«æœ‰çš„æ‰€æœ‰å„å¼å„æ ·çš„I/Oè®¾å¤‡ã€‚\nAmdahlå®šå¾‹ å¯¹æå‡ç³»ç»ŸæŸä¸€éƒ¨åˆ†æ€§èƒ½æ‰€å¸¦æ¥çš„æ•ˆæœåšå‡ºäº†ç®€å•å´æœ‰æ•ˆçš„è§‚å¯Ÿã€‚è¿™ä¸ªè§‚å¯Ÿè¢«ç§°ä¸ºAmdahlå®šå¾‹ï¼ˆAmdahls lawï¼‰ã€‚è¯¥å®šå¾‹çš„ä¸»è¦æ€æƒ³æ˜¯ï¼Œå½“æˆ‘ä»¬å¯¹ç³»ç»Ÿçš„æŸä¸ªéƒ¨åˆ†åŠ é€Ÿæ—¶ï¼Œå…¶å¯¹ç³»ç»Ÿæ•´ä½“æ€§èƒ½çš„å½±å“å–å†³äºè¯¥éƒ¨åˆ†çš„é‡è¦æ€§å’ŒåŠ é€Ÿç¨‹åº¦ã€‚è‹¥ç³»ç»Ÿæ‰§è¡ŒæŸåº”ç”¨ç¨‹åºæ‰€éœ€è¦æ—¶é—´ä¸ºToldã€‚å‡è®¾ç³»ç»ŸæŸéƒ¨åˆ†æ‰€éœ€æ‰§è¡Œæ—¶é—´ä¸è¯¥æ—¶é—´çš„æ¯”ä¾‹ä¸ºaï¼Œè€Œè¯¥éƒ¨åˆ†æ€§èƒ½æå‡çš„æ¯”ä¾‹ä¸ºkã€‚å³è¯¥éƒ¨åˆ†åˆå§‹æ‰€éœ€æ—¶é—´ä¸ºaToldï¼Œç°åœ¨æ‰€éœ€æ—¶é—´ä¸ºaTold/k ã€‚å› æ­¤ï¼Œæ€»çš„æ‰§è¡Œæ—¶é—´ä¸ºï¼š\nTnew=(1-a)Told + (aTold)/k = Told[(1-a) + a/k]\nç”±æ­¤ï¼Œå¯ä»¥è®¡ç®—åŠ é€Ÿæ¯”S=Told/Tnew\nS=1/((1-a) + a/k)\nğŸ’¡ ä¸»è¦è§‚ç‚¹ï¼šè¦æƒ³æ˜¾è‘—åŠ é€Ÿæ•´ä¸ªç³»ç»Ÿï¼Œå¿…é¡»æå‡å…¨ç³»ç»Ÿä¸­ç›¸å½“å¤§çš„éƒ¨åˆ†çš„é€Ÿåº¦ã€‚\næ€§èƒ½æå‡æœ€å¥½çš„è¡¨ç¤ºé˜²èŒƒå°±æ˜¯ç”¨æ¯”ä¾‹çš„å½¢å¼Told/Tnewï¼Œå…¶ä¸­ï¼ŒToldä¸ºåŸå§‹ç³»ç»Ÿæ‰€éœ€æ—¶é—´ï¼ŒTnewä¸ºä¿®æ”¹åçš„ç³»ç»Ÿæ‰€éœ€æ—¶é—´ã€‚å¦‚æœæœ‰æ‰€æ”¹è¿›ï¼Œåˆ™æ¯”å€¼åº”å¤§äº1ã€‚æˆ‘ä»¬ç”¨åç¼€â€œXâ€æ¥è¡¨ç¤ºæ¯”ä¾‹ï¼Œå› æ­¤ï¼Œâ€œ2.2Xâ€è¯»ä½œâ€œ2.2å€â€\nå¹¶å‘ä¸å¹¶è¡Œ æˆ‘ä»¬ç”¨çš„æœ¯è¯­å¹¶å‘ï¼ˆconcurrencyï¼‰æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¦‚å¿µï¼ŒæŒ‡ä¸€ä¸ªåŒæ—¶å…·æœ‰å¤šä¸ªæ´»åŠ¨çš„ç³»ç»Ÿï¼›è€Œæœ¯è¯­å¹¶è¡Œï¼ˆparallelismï¼‰æŒ‡çš„æ˜¯ç”¨å¹¶å‘æ¥ä½¿ä¸€ä¸ªç³»ç»Ÿè¿è¡Œå¾—æ›´å¿«ã€‚å¹¶è¡Œå¯ä»¥åœ¨è®¡ç®—æœºç³»ç»Ÿçš„å¤šä¸ªæŠ½è±¡å±‚æ¬¡ä¸Šè¿ç”¨ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬æŒ‰ç…§ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­ç”±é«˜åˆ°ä½çš„é¡ºåºé‡ç‚¹å¼ºè°ƒä¸‰ä¸ªå±‚æ¬¡ã€‚\nçº¿ç¨‹çº§å¹¶å‘ æ„å»ºåœ¨è¿›ç¨‹è¿™ä¸ªæŠ½è±¡ä¹‹ä¸Šï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®¾è®¡å‡ºåŒæ—¶æœ‰å¤šä¸ªç¨‹åºæ‰§è¡Œçš„ç³»ç»Ÿï¼Œè¿™å°±å¯¼è‡´äº†å¹¶å‘ã€‚ä½¿ç”¨çº¿ç¨‹ï¼Œæˆ‘ä»¬ç”šè‡³èƒ½å¤Ÿåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­æ‰§è¡Œå¤šä¸ªæ§åˆ¶æµã€‚è‡ª 20 ä¸–çºª 60 å¹´ä»£åˆæœŸå‡ºç°æ—¶é—´å…±äº«ä»¥æ¥ï¼Œè®¡ç®—æœºç³»ç»Ÿä¸­å°±å¼€å§‹æœ‰äº†å¯¹å¹¶å‘æ‰§è¡Œçš„æ”¯æŒã€‚ä¼ ç»Ÿæ„ä¹‰ä¸Šï¼Œè¿™ç§å¹¶å‘æ‰§è¡Œåªæ˜¯æ¨¡æ‹Ÿå‡ºæ¥çš„ï¼Œæ˜¯é€šè¿‡ä½¿ä¸€å°è®¡ç®—æœºåœ¨å®ƒæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹é—´å¿«é€Ÿåˆ‡æ¢æ¥å®ç°çš„ï¼Œå°±å¥½åƒä¸€ä¸ªæ‚è€è‰ºäººä¿æŒå¤šä¸ªçƒåœ¨ç©ºä¸­é£èˆä¸€æ ·ã€‚åœ¨ä»¥å‰ï¼Œå³ä½¿å¤„ç†å™¨å¿…é¡»åœ¨å¤šä¸ªä»»åŠ¡é—´åˆ‡æ¢ï¼Œå¤§å¤šæ•°å®é™…çš„è®¡ç®—ä¹Ÿéƒ½æ˜¯ç”±ä¸€ä¸ªå¤„ç†å™¨æ¥å®Œæˆçš„ã€‚è¿™ç§é…ç½®ç§°ä¸ºå•å¤„ç†å™¨ç³»ç»Ÿã€‚\nå¤šæ ¸å¤„ç†å™¨æ˜¯å°†å¤šä¸ª CPUï¼ˆç§°ä¸ºâ€œæ ¸â€ï¼‰é›†æˆåˆ°ä¸€ä¸ªé›†æˆç”µè·¯èŠ¯ç‰‡ä¸Šã€‚å›¾ 1-17 æè¿°çš„æ˜¯ä¸€ä¸ªå…¸å‹å¤šæ ¸å¤„ç†å™¨çš„ç»„ç»‡ç»“æ„ï¼Œå…¶ä¸­å¾®å¤„ç†å™¨èŠ¯ç‰‡æœ‰ 4 ä¸ª CPU æ ¸ï¼Œæ¯ä¸ªæ ¸éƒ½æœ‰è‡ªå·±çš„ L1 å’Œ L2 é«˜é€Ÿç¼“å­˜ï¼Œå…¶ä¸­çš„ L1 é«˜é€Ÿç¼“å­˜åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†â€”â€”ä¸€ä¸ªä¿å­˜æœ€è¿‘å–åˆ°çš„æŒ‡ä»¤ï¼Œå¦ä¸€ä¸ªå­˜æ”¾æ•°æ®ã€‚è¿™äº›æ ¸å…±äº«æ›´é«˜å±‚æ¬¡çš„é«˜é€Ÿç¼“å­˜ï¼Œä»¥åŠåˆ°ä¸»å­˜çš„æ¥å£ã€‚\nè¶…çº¿ç¨‹ï¼Œæœ‰æ—¶ç§°ä¸ºåŒæ—¶å¤šçº¿ç¨‹ï¼ˆsimultaneous multi-threadingï¼‰ï¼Œæ˜¯ä¸€é¡¹å…è®¸ä¸€ä¸ª CPU æ‰§è¡Œå¤šä¸ªæ§åˆ¶æµçš„æŠ€æœ¯ã€‚å®ƒæ¶‰åŠ CPU æŸäº›ç¡¬ä»¶æœ‰å¤šä¸ªå¤‡ä»½ï¼Œæ¯”å¦‚ç¨‹åºè®¡æ•°å™¨å’Œå¯„å­˜å™¨æ–‡ä»¶ï¼Œè€Œå…¶ä»–çš„ç¡¬ä»¶éƒ¨åˆ†åªæœ‰ä¸€ä»½ï¼Œæ¯”å¦‚æ‰§è¡Œæµ®ç‚¹ç®—æœ¯è¿ç®—çš„å•å…ƒã€‚å¸¸è§„çš„å¤„ç†å™¨éœ€è¦å¤§çº¦ 20000 ä¸ªæ—¶é’Ÿå‘¨æœŸåšä¸åŒçº¿ç¨‹é—´çš„è½¬æ¢ï¼Œè€Œè¶…çº¿ç¨‹çš„å¤„ç†å™¨å¯ä»¥åœ¨å•ä¸ªå‘¨æœŸçš„åŸºç¡€ä¸Šå†³å®šè¦æ‰§è¡Œå“ªä¸€ä¸ªçº¿ç¨‹ã€‚è¿™ä½¿å¾— CPU èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨å®ƒçš„å¤„ç†èµ„æºã€‚æ¯”å¦‚ï¼Œå‡è®¾ä¸€ä¸ªçº¿ç¨‹å¿…é¡»ç­‰åˆ°æŸäº›æ•°æ®è¢«è£…è½½åˆ°é«˜é€Ÿç¼“å­˜ä¸­ï¼Œé‚£ CPU å°±å¯ä»¥ç»§ç»­å»æ‰§è¡Œå¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆæ—¶é—´ç©ºæ¡£åˆ‡æ¢ï¼‰ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒIntel Core i7 å¤„ç†å™¨å¯ä»¥è®©æ¯ä¸ªæ ¸æ‰§è¡Œä¸¤ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥ä¸€ä¸ª 4 æ ¸çš„ç³»ç»Ÿå®é™…ä¸Šå¯ä»¥å¹¶è¡Œåœ°æ‰§è¡Œ 8 ä¸ªçº¿ç¨‹ã€‚\næŒ‡ä»¤çº§å¹¶è¡Œ åœ¨è¾ƒä½çš„æŠ½è±¡å±‚æ¬¡ä¸Šï¼Œç°ä»£å¤„ç†å™¨å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šæ¡æŒ‡ä»¤çš„å±æ€§ç§°ä¸ºæŒ‡ä»¤çº§å¹¶è¡Œã€‚æ—©æœŸçš„å¾®å¤„ç†å™¨ï¼Œå¦‚ 1978 å¹´çš„ Intel 8086ï¼Œéœ€è¦å¤šä¸ªï¼ˆé€šå¸¸æ˜¯ 3ï½10 ä¸ªï¼‰æ—¶é’Ÿå‘¨æœŸæ¥æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ã€‚æœ€è¿‘çš„å¤„ç†å™¨å¯ä»¥ä¿æŒæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸ 2ï½4 æ¡æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿç‡ã€‚å…¶å®æ¯æ¡æŒ‡ä»¤ä»å¼€å§‹åˆ°ç»“æŸéœ€è¦é•¿å¾—å¤šçš„æ—¶é—´ï¼Œå¤§çº¦ 20 ä¸ªæˆ–è€…æ›´å¤šå‘¨æœŸï¼Œä½†æ˜¯å¤„ç†å™¨ä½¿ç”¨äº†éå¸¸å¤šçš„èªæ˜æŠ€å·§æ¥åŒæ—¶å¤„ç†å¤šè¾¾ 100 æ¡æŒ‡ä»¤ã€‚åœ¨ç¬¬ 4 ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šç ”ç©¶æµæ°´çº¿ï¼ˆpipeliningï¼‰çš„ä½¿ç”¨ã€‚åœ¨æµæ°´çº¿ä¸­ï¼Œå°†æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€è¦çš„æ´»åŠ¨åˆ’åˆ†æˆä¸åŒçš„æ­¥éª¤ï¼Œå°†å¤„ç†å™¨çš„ç¡¬ä»¶ç»„ç»‡æˆä¸€ç³»åˆ—çš„é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µæ‰§è¡Œä¸€ä¸ªæ­¥éª¤ã€‚è¿™äº›é˜¶æ®µå¯ä»¥å¹¶è¡Œåœ°æ“ä½œï¼Œç”¨æ¥å¤„ç†ä¸åŒæŒ‡ä»¤çš„ä¸åŒéƒ¨åˆ†ã€‚æˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªç›¸å½“ç®€å•çš„ç¡¬ä»¶è®¾è®¡ï¼Œå®ƒèƒ½å¤Ÿè¾¾åˆ°æ¥è¿‘äºä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿç‡ã€‚\nå¦‚æœå¤„ç†å™¨å¯ä»¥è¾¾åˆ°æ¯”ä¸€ä¸ªå‘¨æœŸä¸€æ¡æŒ‡ä»¤æ›´å¿«çš„æ‰§è¡Œé€Ÿç‡ï¼Œå°±ç§°ä¹‹ä¸ºè¶…æ ‡é‡ï¼ˆsuper-scalarï¼‰å¤„ç†å™¨ã€‚å¤§å¤šæ•°ç°ä»£å¤„ç†å™¨éƒ½æ”¯æŒè¶…æ ‡é‡æ“ä½œã€‚ç¬¬ 5 ç« ä¸­ï¼Œæˆ‘ä»¬å°†æè¿°è¶…æ ‡é‡å¤„ç†å™¨çš„é«˜çº§æ¨¡å‹ã€‚åº”ç”¨ç¨‹åºå‘˜å¯ä»¥ç”¨è¿™ä¸ªæ¨¡å‹æ¥ç†è§£ç¨‹åºçš„æ€§èƒ½ã€‚ç„¶åï¼Œä»–ä»¬å°±èƒ½å†™å‡ºæ‹¥æœ‰æ›´é«˜ç¨‹åº¦çš„æŒ‡ä»¤çº§å¹¶è¡Œæ€§çš„ç¨‹åºä»£ç ï¼Œå› è€Œä¹Ÿè¿è¡Œå¾—æ›´å¿«ã€‚\nå•æŒ‡ä»¤ã€å¤šæ•°æ®å¹¶è¡Œ åœ¨æœ€ä½å±‚æ¬¡ä¸Šï¼Œè®¸å¤šç°ä»£å¤„ç†å™¨æ‹¥æœ‰ç‰¹æ®Šçš„ç¡¬ä»¶ï¼Œå…è®¸ä¸€æ¡æŒ‡ä»¤äº§ç”Ÿå¤šä¸ªå¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„æ“ä½œï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºå•æŒ‡ä»¤ã€å¤šæ•°æ®ï¼Œå³ SIMD å¹¶è¡Œã€‚ä¾‹å¦‚ï¼Œè¾ƒæ–°å‡ ä»£çš„ Intel å’Œ AMD å¤„ç†å™¨éƒ½å…·æœ‰å¹¶è¡Œåœ°å¯¹ 8 å¯¹å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆC æ•°æ®ç±»å‹ floatï¼‰åšåŠ æ³•çš„æŒ‡ä»¤ã€‚\nå…³äºæŠ½è±¡ æŠ½è±¡çš„ä½¿ç”¨æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­æœ€ä¸ºé‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚\næ­¤å›¾è¡¨ç¤ºè®¡ç®—æœºç³»ç»Ÿæä¾›çš„ä¸€äº›æŠ½è±¡ã€‚è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸€ä¸ªé‡å¤§ä¸»é¢˜å°±æ˜¯æä¾›ä¸åŒå±‚æ¬¡çš„æŠ½è±¡è¡¨ç¤ºï¼Œæ¥éšè—å®é™…å®ç°çš„å¤æ‚æ€§\næ“ä½œç³»ç»Ÿçš„ä¸‰ä¸ªæŠ½è±¡ æ–‡ä»¶ï¼šæ˜¯å¯¹ I/O è®¾å¤‡çš„æŠ½è±¡ è™šæ‹Ÿå†…å­˜ï¼šæ˜¯å¯¹ä¸»å­˜å’Œç£ç›˜çš„æŠ½è±¡ è¿›ç¨‹ï¼šæ˜¯å¯¹å¤„ç†å™¨ã€ä¸»å­˜å’Œ I/O è®¾å¤‡çš„æŠ½è±¡ å‚è€ƒ csapp ç”µå­ä¹¦ æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ|å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ CPUä¸Šä¸‹æ–‡åˆ‡æ¢ å¹¶å‘ã€å¹¶è¡Œå’Œé«˜å¹¶å‘ ","permalink":"https://fuyi-atlas.github.io/posts/computer/computer-system-roaming/","summary":"å‰è¨€ æ­¤ä¸ºæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿï¼ˆcsappï¼‰ç¬¬ä¸€ç« çš„ç¬”è®°ï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªå¼€å§‹äº†ã€‚\nHelloç¨‹åº #include \u0026lt;studio.h\u0026gt; int main() { printf(\u0026#34;hello world\\n\u0026#34;); return 0; } åŸºæœ¬æ€æƒ³ ç³»ç»Ÿä¸­æ‰€æœ‰çš„ä¿¡æ¯â€”â€”åŒ…æ‹¬ç£ç›˜æ–‡ä»¶ã€å†…å­˜ä¸­çš„ç¨‹åºã€å†…å­˜ä¸­å­˜æ”¾çš„ç”¨æˆ·æ•°æ®ä»¥åŠç½‘ç»œä¸Šä¼ è¾“çš„æ•°æ®ï¼Œéƒ½æ˜¯ç”±ä¸€ä¸²æ¯”ç‰¹ï¼ˆbitï¼‰è¡¨ç¤ºçš„ã€‚åŒºåˆ†ä¸åŒæ•°æ®å¯¹è±¡çš„å”¯ä¸€æ–¹æ³•æ˜¯æˆ‘ä»¬è¯»åˆ°è¿™äº›æ•°æ®å¯¹è±¡æ—¶çš„ä¸Šä¸‹æ–‡ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸€ä¸ªåŒæ ·çš„å­—èŠ‚åºåˆ—å¯èƒ½è¡¨ç¤ºä¸€ä¸ªæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²æˆ–è€…æœºå™¨æŒ‡ä»¤ã€‚\nè¦ç‚¹ æºç¨‹åºå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªç”±0å’Œ1ç»„æˆçš„ä½ï¼ˆæˆ–ç§°ä¸ºæ¯”ç‰¹ï¼šbitï¼‰åºåˆ—ï¼Œ8ä¸ªä½ä¸ºä¸€ç»„ï¼Œç§°ä¸ºå­—èŠ‚ï¼ˆbyteï¼‰ã€‚\nå¤§éƒ¨åˆ†çš„ç°ä»£è®¡ç®—æœºç³»ç»Ÿéƒ½ä½¿ç”¨ASCIIæ ‡å‡†æ¥è¡¨ç¤ºæ–‡æœ¬å­—ç¬¦ï¼Œè¿™ç§æ–¹å¼å®é™…ä¸Šå°±æ˜¯ç”¨ä¸€ä¸ªå”¯ä¸€çš„å•å­—èŠ‚å¤§å°çš„æ•´æ•°å€¼æ¥è¡¨ç¤ºæ¯ä¸ªå­—ç¬¦\nhello.cç¨‹åºæ˜¯ä»¥å­—èŠ‚åºåˆ—çš„æ–¹å¼å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ã€‚æ¯ä¸ªå­—èŠ‚éƒ½æœ‰ä¸€ä¸ªæ•´æ•°å€¼ï¼Œå¯¹åº”äºæŸäº›å­—ç¬¦ï¼ˆæ³¨æ„ï¼šæ¯ä¸ªæ–‡æœ¬è¡Œéƒ½æ˜¯ä»¥ä¸€ä¸ªçœ‹ä¸è§çš„æ¢è¡Œç¬¦â€œ/nâ€æ¥ç»“æŸçš„ï¼‰\nåªç”±ASCIIå­—ç¬¦æ„æˆçš„æ–‡ä»¶ç§°ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œæ‰€æœ‰å…¶ä»–æ–‡ä»¶éƒ½ç§°ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶\nç¼–è¯‘ç³»ç»Ÿï¼ˆcompilation systemï¼‰ï¼šç¼–è¯‘çš„å››ä¸ªé˜¶æ®µ\ngcc -o hello hello.c hello.cï¼ˆæ–‡æœ¬ï¼‰ â€”\u0026gt; é¢„å¤„ç†å™¨[cpp] â€”\u0026gt; hello.iï¼ˆæ–‡æœ¬ï¼‰ â€”\u0026gt; ç¼–è¯‘å™¨[ccl] â€”\u0026gt; hello.sï¼ˆæ–‡æœ¬ï¼‰ â€”\u0026gt; æ±‡ç¼–å™¨[as] â€”\u0026gt; hello.oï¼ˆäºŒè¿›åˆ¶ï¼‰ â€”\u0026gt; é“¾æ¥å™¨[ld] â€”\u0026gt; helloï¼ˆäºŒè¿›åˆ¶ï¼‰\né¢„å¤„ç†ï¼šé¢„å¤„ç†å™¨å¤„ç†#å¼€å¤´çš„å‘½ä»¤ï¼Œä¿®æ”¹åŸå§‹çš„Cç¨‹åº ç¼–è¯‘ï¼šç¼–è¯‘å™¨å°†hello.iç¿»è¯‘ä¸ºhello.sï¼Œå³å°†æºæ–‡ä»¶ç¿»è¯‘ä¸ºæ±‡ç¼–è¯­è¨€ã€‚æ±‡ç¼–è¯­è¨€æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸ºå®ƒä¸ºä¸åŒé«˜çº§è¯­è¨€çš„ä¸åŒç¼–è¯‘å™¨æä¾›äº†é€šç”¨çš„è¾“å‡ºè¯­è¨€ã€‚ä¾‹å¦‚ï¼ŒCç¼–è¯‘å™¨å’ŒFortranç¼–è¯‘å™¨äº§ç”Ÿçš„è¾“å‡ºæ–‡ä»¶ç”¨çš„éƒ½æ˜¯ä¸€æ ·çš„æ±‡ç¼–è¯­è¨€ æ±‡ç¼–ï¼šæ±‡ç¼–å™¨å°†hello.sç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€æŒ‡ä»¤ï¼ŒæŠŠè¿™äº›æŒ‡ä»¤æ‰“åŒ…æˆä¸€ç§å«åšå¯é‡å®šä½ç›®æ ‡ç¨‹åºï¼ˆrelocation object programï¼‰çš„æ ¼å¼ï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨ç›®æ ‡æ–‡ä»¶hello.oä¸­ã€‚hello.oæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå³å°†æ±‡ç¼–å†…å®¹ç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€æŒ‡ä»¤ï¼Œå¹¶å°†è¿™äº›æŒ‡ä»¤æ‰“åŒ…æˆä¸€ç§å«åšå¯é‡å®šä½ç›®æ ‡ç¨‹åºçš„æ ¼å¼ï¼‰ é“¾æ¥ï¼šé“¾æ¥å™¨ç”¨äºå¤„ç†åˆå¹¶ã€‚æ¯”å¦‚åœ¨helloç¨‹åºä¸­è°ƒç”¨äº†printfå‡½æ•°ï¼Œå®ƒæ˜¯æ¯ä¸ªCç¼–è¯‘å™¨éƒ½æä¾›çš„æ ‡å‡†Cåº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ã€‚printfå‡½æ•°å­˜åœ¨äºä¸€ä¸ªåä¸ºprintf.oçš„å•ç‹¬çš„é¢„ç¼–è¯‘å¥½äº†çš„ç›®æ ‡æ–‡ä»¶ä¸­ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶å¿…é¡»ä»¥æŸç§æ–¹å¼åˆå¹¶åˆ°hello.oç¨‹åºä¸­ã€‚é“¾æ¥å™¨å°±è´Ÿè´£å¤„ç†è¿™ç§åˆå¹¶ã€‚æœ€ç»ˆå¾—åˆ°helloæ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ï¼ˆæˆ–ç®€ç§°ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ï¼Œå¯ä»¥è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç”±ç³»ç»Ÿæ‰§è¡Œ shellæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œè§£é‡Šå™¨ï¼Œå®ƒè¾“å‡ºä¸€ä¸ªæç¤ºç¬¦ï¼Œç­‰å¾…è¾“å…¥ä¸€ä¸ªå‘½ä»¤è¡Œï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚å¦‚æœè¯¥å‘½ä»¤è¡Œçš„å•è¯ä¸æ˜¯ä¸€ä¸ªå†…ç½®çš„å‘½ä»¤ï¼Œé‚£ä¹ˆshellå°±ä¼šuå‡è®¾è¿™æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„åå­—ï¼Œå®ƒå°†åŠ è½½å¹¶è¿è¡Œè¿™ä¸ªæ–‡ä»¶ã€‚\nç³»ç»Ÿçš„ç¡¬ä»¶ç»„æˆ CPUï¼šä¸­å¤®å¤„ç†å•å…ƒï¼› ALUï¼šç®—æœ¯/é€»è¾‘å•å…ƒï¼› PCï¼šç¨‹åºè®¡æ•°å™¨ï¼› USBï¼šé€šç”¨ä¸²è¡Œæ€»çº¿ æ€»çº¿ è´¯ç©¿æ•´ä¸ªç³»ç»Ÿçš„æ˜¯ä¸€ç»„ç”µå­ç®¡é“ï¼Œç§°åšæ€»çº¿ï¼Œå®ƒæºå¸¦ä¿¡æ¯å­—èŠ‚å¹¶è´Ÿè´£åœ¨å„ä¸ªéƒ¨ä»¶é—´ä¼ é€’ã€‚ç¡¬ä»¶ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æµéœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶ä¿¡æ¯ä¼ é€’è§„åˆ™ï¼Œä¸ºäº†é«˜æ•ˆè€ƒè™‘ï¼Œé€šå¸¸æ€»çº¿è¢«è®¾è®¡æˆä¼ é€å®šé•¿çš„å­—èŠ‚å—ï¼Œä¹Ÿå°±æ˜¯å­—ï¼ˆwordï¼‰ã€‚å­—ä¸­çš„å­—èŠ‚æ•°ï¼ˆå³å­—é•¿ï¼‰æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç³»ç»Ÿå‚æ•°ï¼Œåœ¨å„ä¸ªç³»ç»Ÿä¸­çš„æƒ…å†µéƒ½ä¸å°½ç›¸åŒã€‚ç°åœ¨çš„å¤§å¤šæ•°æœºå™¨å­—é•¿è¦ä¹ˆæ˜¯4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰ï¼Œè¦ä¹ˆæ˜¯8ä¸ªå­—èŠ‚ï¼ˆ64ä½ï¼‰ã€‚\nI/Oè®¾å¤‡ è¾“å…¥ / è¾“å‡ºï¼ˆI/Oï¼‰è®¾å¤‡æ˜¯ç³»ç»Ÿä¸å¤–éƒ¨ä¸–ç•Œçš„è”ç³»é€šé“ã€‚æ¯ä¸ª I/O è®¾å¤‡éƒ½é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨æˆ–é€‚é…å™¨ä¸ I/O æ€»çº¿ç›¸è¿ã€‚æ§åˆ¶å™¨ä¸é€‚é…å™¨ä¹‹é—´çš„åŒºåˆ«ä¸»è¦åœ¨äºå®ƒä»¬çš„å°è£…æ–¹å¼ã€‚æ§åˆ¶å™¨æ˜¯ I/O è®¾å¤‡æœ¬èº«æˆ–è€…ç³»ç»Ÿçš„ä¸»å°åˆ¶ç”µè·¯æ¿ï¼ˆé€šå¸¸ç§°ä¸ºä¸»æ¿ï¼‰ä¸Šçš„èŠ¯ç‰‡ç»„ã€‚è€Œé€‚é…å™¨åˆ™æ˜¯ä¸€å—æ’åœ¨ä¸»æ¿æ’æ§½ä¸Šçš„å¡ã€‚æ— è®ºå¦‚ä½•ï¼Œå®ƒä»¬çš„åŠŸèƒ½éƒ½æ˜¯åœ¨ I/O æ€»çº¿å’Œ I/O è®¾å¤‡ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚","title":"Computer System Roaming"},{"content":"å‰è¨€ I have a dream too!\nå¼€æºæŠ€æœ¯èµ‹äºˆæˆ‘ä»¬ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šåšåˆ°æ›´é«˜æ›´å¼ºçš„å¯èƒ½ï¼Œæˆ‘æƒ³é€šè¿‡å¼€æºæŠ€æœ¯æ¥æ„å»ºä¸€ä¸ªåœ°ç†ä¿¡æ¯çš„ä¸–ç•Œï¼ˆsuch as: one personal cloud gisï¼‰ï¼Œæ„¿ç»™åœ°ç†ä¿¡æ¯æ•°æ®å¸¦æ¥æ›´å¤šçš„ä½¿ç”¨ä»·å€¼ã€‚å½“å‰ä¸»è¦å…³æ³¨ç©ºé—´æ•°æ®åº“ã€æ•°æ®å¤„ç†ä¸åº”ç”¨ä»¥åŠæ•°æ®æ¸²æŸ“ï¼Œç”±å†…åˆ°å¤–ï¼Œé€æ­¥æ„å»ºã€‚æ—¢ç„¶éƒ½è¯´äººç±»æ´»åŠ¨æ‰€æ¥è§¦ã€äº§ç”Ÿçš„ä¿¡æ¯80%ä»¥ä¸Šéƒ½ä¸åœ°ç†ç©ºé—´ä½ç½®æœ‰å…³ï¼Œé‚£ä¹ˆè¿™äº›ç©ºé—´æ•°æ®å°±åº”è¯¥å¾ˆå®¹æ˜“çš„è¢«ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä»…è¢«å›´å›°åœ¨ä¸“ä¸šé¢†åŸŸå†…ï¼Œä¸æ˜¯å—ï¼Ÿ\nFuyi Atlasï¼ˆæ‹‚è¡£å¿—ï¼‰ï¼Œå–è‡ª ã€Šä¾ å®¢è¡Œã€‹ã€Cloud Atlasä»¥åŠDiscovery Atlasã€‚æ„¿è‡ªå·±ä¹Ÿèƒ½è¡Œæ­¤é—´å°äº‹ï¼Œè€Œéè¹‰è·å²æœˆã€‚\nFuyi Atlas Websiteå°†ä¼šä½¿ç”¨Hugo + Github Pagesè¿›è¡Œæ„å»ºï¼Œæœ¬æ–‡ç”¨äºè®°å½•Fuyi Atlasçš„åˆå§‹æ„å»ºè¿‡ç¨‹ã€‚\nHUGOæ˜¯ä»€ä¹ˆ Hugo is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again.\nHugoæ˜¯ä¸€ä¸ªä½¿ç”¨GOè¯­è¨€ç¼–å†™çš„ï¼Œå¼€æºçš„ï¼Œé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨Hugoæ¥å¿«é€Ÿæ„å»ºä½ è‡ªå·±çš„é™æ€ç«™ç‚¹ã€‚æ¯”å¦‚ä¸ªäººåšå®¢ã€çŸ¥è¯†åº“ã€äº§å“ä»‹ç»ã€æ–‡æ¡£ç­‰ç­‰ã€‚\næˆ‘æ­¤å‰ä½¿ç”¨vuepressæ¥æ„å»ºæˆ‘çš„ä¸ªäººç«™ç‚¹ï¼Œæ¥è§¦Hugoä¹‹åï¼Œæ›´æ„¿æ„ä½¿ç”¨Hugoã€‚é‚£ä¹ˆæˆ‘å°†ä½¿ç”¨Hugoä»£æ›¿vuepressæ¥æ„å»ºæˆ‘çš„ä¸ªäººç«™ç‚¹ã€‚ç†ç”±æœ‰é‚£ä¹ˆå‡ ä¸ªï¼š\nHugoæ˜¯ä¸€ä¸ªçº¯ç²¹çš„ç”Ÿæˆå™¨ Hugoæ²¡æœ‰è¿‡å¤šçš„ç”Ÿæ€ä¾èµ– Hugoæ›´è½» æ®è¯´æ›´å¿«ï¼Œå…¶LiveReloadå¯ä»¥å®ç°è¿‘å®æ—¶çš„å†…å®¹åˆ·æ–° æŒºå¤šå¯é€‰çš„å¼€æºä¸»é¢˜ ä½¿ç”¨æ›´åŠ ç®€å• æˆ‘ä¹Ÿä¸æ˜¯å¾ˆå–œæ¬¢node_modules\nFuyi Atlas Site Build Hugo Install Hugo is available in two editions: standard and extended. With the extended edition you can:\nEncode WebP images (you can decode WebP images with both editions) Transpile Sass to CSS using the embedded LibSass transpiler We recommend that you install the extended edition.\nHugoæä¾›ä¸¤ç§ç‰ˆæœ¬ï¼šæ ‡å‡†ç‰ˆå’Œæ‹“å±•ç‰ˆï¼Œå®˜æ–¹æ›´åŠ æ¨èä½¿ç”¨æ‹“å±•ç‰ˆæœ¬\nRepository packages Most Linux distributions maintain a repository for commonly installed applications. Please note that these repositories may not contain the latest release.\næˆ‘çš„ä¸»æœºæ“ä½œç³»ç»Ÿæ˜¯Fedora Linux 37(Workstation Edition)ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨å­˜å‚¨åº“è¿›è¡Œå®‰è£…\nDerivatives of the Fedoradistribution of Linux include CentOS, Red Hat Enterprise Linux, and others. This will install the extended edition of Hugo:\nsudo dnf install hugo gudo version # hugo v0.98.0+extended linux/amd64 BuildDate=unknown è¿™é‡Œå¯ä»¥çœ‹åˆ°ç‰ˆæœ¬æ˜¯0.98ï¼Œè¿™å·²ç»æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ—§çš„ç‰ˆæœ¬äº†ï¼Œæ˜¯22å¹´4æœˆä»½å‘å¸ƒçš„ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯0.110.0ã€‚é‚£ä¹ˆæˆ‘æ‰“ç®—æ¢ä¸€ç§æ–¹å¼å®‰è£…\nBuild from source To build Hugo from source you must:\nInstall Git Install Go version 1.18 or later Update your PATH environment variable as described in the Go documentation The install directory is controlled by the GOPATH and GOBIN environment variables. If GOBIN is set, binaries are installed to that directory. If GOPATH is set, binaries are installed to the bin subdirectory of the first directory in the GOPATH list. Otherwise, binaries are installed to the bin subdirectory of the default GOPATH ($HOME/go or %USERPROFILE%\\go).\nThen build and test:\ngo install -tags extended github.com/gohugoio/hugo@latest hugo version # ä½¿ç”¨rootè´¦æˆ· sudo su - # è®¾ç½®ä¸€ä¸‹ä»£ç†ï¼ˆclash for windwosï¼‰ export https_proxy=http://127.0.0.1:7890;export http_proxy=http://127.0.0.1:7890;export all_proxy=socks5://127.0.0.1:7890 # è®¾ç½®ä¸€ä¸‹å®‰è£…ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ export GOBIN=/usr/local/go/bin/ # å®‰è£…hugo go install -tags extended github.com/gohugoio/hugo@latest # éªŒè¯ hugo version # hugo v0.110.0+extended linux/amd64 BuildDate=unknown å¥½äº†ï¼Œç›®å‰å·²ç»æ˜¯æœ€æ–°ç‰ˆæœ¬äº†\nSite Build æ ¹æ®ä¸ªäººå–œå¥½ï¼ˆæŒ‘äº†è®¸ä¹…ï¼‰ï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©PaperModä¸»é¢˜ã€‚\nåç»­çš„è®¡åˆ’æ˜¯ï¼šHugo + PaperMod + Github Pages\né‚£ä¹ˆgithubä»“åº“åç§°ä¸ºï¼šfuyi-atlas.github.io\nå‚è§Quick Startä»¥åŠPaperMod Installationè¯´æ˜ï¼Œä¸‹é¢å¼€å§‹è¿›è¡Œæ„å»º\nGit Clone\ngit clone https://github.com/fuyi-atlas/fuyi-atlas.github.io.git Create a site\nhugo new site fuyi-atlas.github.io --force Install theme\ncd fuyi-atlas.github.io git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod å°†config.tomlä¿®æ”¹ä¸ºhugo.yamlï¼Œå¹¶ä½œå‡ºåŸºç¡€\nmv config.toml hugo.yaml # å°†å…¶ä¸­è¯­æ³•ä¿®æ”¹ä¸ºyamlæ ¼å¼ baseURL: https://fuyi-atlas.github.io/ languageCode: en-us title: Fuyi Atlas theme: PaperMod å°†config.tomlä¿®æ”¹ä¸ºhugo.yamlï¼Œå¹¶ä½œå‡ºåŸºç¡€\nhugo server è‡³æ­¤ï¼ŒFuyi Atlasçš„åˆå§‹æ„å»ºä¾¿ç»“æŸäº†ã€‚\nUpdate ä¸Šè¿°ç¯å¢ƒæ˜¯åœ¨Fedora Linux 37ä¸‹æ‰§è¡Œçš„ã€‚ç”±äºéƒ¨åˆ†è½¯ä»¶åœ¨Linuxæ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨åˆæ¢åˆ°äº†Windowsï¼ˆWin10 + WSL2ï¼‰\nåœ¨WSl2 + Debianä¸­å®‰è£…hugoä¸ä¸Šè¿°å­˜åœ¨ä¸€å®šçš„å·®å¼‚\nä»£ç†è®¾ç½® è¿™é‡Œipéœ€è¦æŒ‡å‘å®¿ä¸»æœºçš„IPï¼Œä¸”Clashéœ€è¦å¼€å¯LANè®¿é—®ï¼ˆALLOW LANï¼‰\nexport https_proxy=http://192.168.199.121:7890;export http_proxy=http://192.168.199.121:7890;export all_proxy=socks5://192.168.199.121:7890 æ²¡æœ‰é¢„è£…GCC\napt install build-essential GOç¼–è¯‘ç›¸å…³çš„ç¯å¢ƒå˜é‡è®¾ç½®\nexport GOOS=\u0026#34;linux\u0026#34; export CGO_ENABLED=\u0026#34;1\u0026#34; åŒæ—¶ï¼Œgit submoduleéœ€è¦æ‰‹åŠ¨åŒæ­¥ä¸€ä¸‹\ngit submodule update --init --recursive @update_time 2023.05.22\nå‚è€ƒ Github Pages\nGitHub Pages ä½¿ç”¨å…¥é—¨\nHugo Documentation\nGetting Started With Hugo | FREE COURSE\nPaperMod Installation | Update\näº‘å›¾ â€“ äº‘è®¡ç®—å›¾å¿—\né€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿæ–‡æ¡£\nDev on Windows with WSL\nä¸º WSL2 ä¸€é”®è®¾ç½®ä»£ç†\ngo buildç¼–è¯‘å¤±è´¥ï¼šimports xxx/xxx/xxx: build constraints exclude all Go files in xxx/xxx/xxx\ngit-github å­æ¨¡å—ä»“åº“æ›´æ–°ï¼ˆgit submoduleï¼‰/gitä¸­submoduleå­æ¨¡å—çš„æ·»åŠ ã€ä½¿ç”¨å’Œåˆ é™¤\n","permalink":"https://fuyi-atlas.github.io/posts/other/fuyi-atlas-init/","summary":"å‰è¨€ I have a dream too!\nå¼€æºæŠ€æœ¯èµ‹äºˆæˆ‘ä»¬ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šåšåˆ°æ›´é«˜æ›´å¼ºçš„å¯èƒ½ï¼Œæˆ‘æƒ³é€šè¿‡å¼€æºæŠ€æœ¯æ¥æ„å»ºä¸€ä¸ªåœ°ç†ä¿¡æ¯çš„ä¸–ç•Œï¼ˆsuch as: one personal cloud gisï¼‰ï¼Œæ„¿ç»™åœ°ç†ä¿¡æ¯æ•°æ®å¸¦æ¥æ›´å¤šçš„ä½¿ç”¨ä»·å€¼ã€‚å½“å‰ä¸»è¦å…³æ³¨ç©ºé—´æ•°æ®åº“ã€æ•°æ®å¤„ç†ä¸åº”ç”¨ä»¥åŠæ•°æ®æ¸²æŸ“ï¼Œç”±å†…åˆ°å¤–ï¼Œé€æ­¥æ„å»ºã€‚æ—¢ç„¶éƒ½è¯´äººç±»æ´»åŠ¨æ‰€æ¥è§¦ã€äº§ç”Ÿçš„ä¿¡æ¯80%ä»¥ä¸Šéƒ½ä¸åœ°ç†ç©ºé—´ä½ç½®æœ‰å…³ï¼Œé‚£ä¹ˆè¿™äº›ç©ºé—´æ•°æ®å°±åº”è¯¥å¾ˆå®¹æ˜“çš„è¢«ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä»…è¢«å›´å›°åœ¨ä¸“ä¸šé¢†åŸŸå†…ï¼Œä¸æ˜¯å—ï¼Ÿ\nFuyi Atlasï¼ˆæ‹‚è¡£å¿—ï¼‰ï¼Œå–è‡ª ã€Šä¾ å®¢è¡Œã€‹ã€Cloud Atlasä»¥åŠDiscovery Atlasã€‚æ„¿è‡ªå·±ä¹Ÿèƒ½è¡Œæ­¤é—´å°äº‹ï¼Œè€Œéè¹‰è·å²æœˆã€‚\nFuyi Atlas Websiteå°†ä¼šä½¿ç”¨Hugo + Github Pagesè¿›è¡Œæ„å»ºï¼Œæœ¬æ–‡ç”¨äºè®°å½•Fuyi Atlasçš„åˆå§‹æ„å»ºè¿‡ç¨‹ã€‚\nHUGOæ˜¯ä»€ä¹ˆ Hugo is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again.\nHugoæ˜¯ä¸€ä¸ªä½¿ç”¨GOè¯­è¨€ç¼–å†™çš„ï¼Œå¼€æºçš„ï¼Œé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨Hugoæ¥å¿«é€Ÿæ„å»ºä½ è‡ªå·±çš„é™æ€ç«™ç‚¹ã€‚æ¯”å¦‚ä¸ªäººåšå®¢ã€çŸ¥è¯†åº“ã€äº§å“ä»‹ç»ã€æ–‡æ¡£ç­‰ç­‰ã€‚\næˆ‘æ­¤å‰ä½¿ç”¨vuepressæ¥æ„å»ºæˆ‘çš„ä¸ªäººç«™ç‚¹ï¼Œæ¥è§¦Hugoä¹‹åï¼Œæ›´æ„¿æ„ä½¿ç”¨Hugoã€‚é‚£ä¹ˆæˆ‘å°†ä½¿ç”¨Hugoä»£æ›¿vuepressæ¥æ„å»ºæˆ‘çš„ä¸ªäººç«™ç‚¹ã€‚ç†ç”±æœ‰é‚£ä¹ˆå‡ ä¸ªï¼š\nHugoæ˜¯ä¸€ä¸ªçº¯ç²¹çš„ç”Ÿæˆå™¨ Hugoæ²¡æœ‰è¿‡å¤šçš„ç”Ÿæ€ä¾èµ– Hugoæ›´è½» æ®è¯´æ›´å¿«ï¼Œå…¶LiveReloadå¯ä»¥å®ç°è¿‘å®æ—¶çš„å†…å®¹åˆ·æ–° æŒºå¤šå¯é€‰çš„å¼€æºä¸»é¢˜ ä½¿ç”¨æ›´åŠ ç®€å• æˆ‘ä¹Ÿä¸æ˜¯å¾ˆå–œæ¬¢node_modules\nFuyi Atlas Site Build Hugo Install Hugo is available in two editions: standard and extended.","title":"Fuyi Atlas Init"},{"content":"å‰è¨€ æ‹–å»¶ç—‡çœŸçš„å­˜åœ¨ï¼ï¼ï¼\nä»Šå¤©æ˜¯2023å¹´2æœˆ13æ—¥æ™šï¼Œæˆ‘åœ¨æ­¤æ—¶å†™ä¸‹æœ¬æ–‡çš„ç¬¬äºŒè¡Œå†…å®¹ã€‚å…¶å®ä»å¹´å‰å°±å¼€å§‹è®¡åˆ’å†™ä¸€ç¯‡å…³äº2022å¹´çš„å¹´ç»ˆæ€»ç»“ï¼Œæ— å¥ˆå—åˆ°æ‹–å»¶ç—…æ¯’çš„å¨èƒï¼Œä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰æš‚æ—¶æ‘†è„±æ§åˆ¶ã€‚\nå¦‚é¢˜ï¼Œæœ¬æ–‡å°†å¯¹2022å¹´è¿›è¡Œç®€è¦æ€»ç»“ï¼ŒåŒæ—¶å¯¹2023å¹´åšä¸€ä¸ªåˆæ­¥çš„å±•æœ›ï¼ˆä»…ä½œè®°å½•ï¼‰ã€‚\n2022å¹´å¤§äº‹è®° ç¬¬ä¸€ä¸ªåœ¨å¤–è¿‡çš„æ˜¥èŠ‚ å—æ–°å† ç–«æƒ…å½±å“ï¼Œ2022å¹´çš„æ˜¥èŠ‚æ˜¯åœ¨æ­å·è¿‡çš„ã€‚è¿˜è®°å¾—å½“æ—¶é™„è¿‘å¥½å‡ ä¸ªåœ°æ–¹éƒ½è¢«åˆ’ä¸ºäº†é«˜é£é™©ï¼Œå¯¹æ•´ä¸ªåŒºè¿›è¡Œäº†ç®¡æ§ã€‚å¦‚æœé€‰æ‹©å›å®¶çš„è¯ï¼Œå¾—åˆ°å°†æ˜¯14å¤©çš„éš”ç¦»ï¼Œè¿˜ä¸ç¡®å®šèƒ½å¦å›æ¥ä¸Šç­ã€‚å› æ­¤ä¾¿æ²¡æœ‰å›å»äº†ã€‚\nå¥½åœ¨æ‰€åœ¨çš„åŒºåŸŸæƒ…å†µå¹¶æ²¡æœ‰é‚£ä¹ˆçš„ä¸¥é‡ï¼Œè¿˜æ˜¯å¯ä»¥å»ä¹°èœçš„ã€‚é¢†äº†æ¶ˆè´¹åˆ¸ï¼Œå†åŠ ä¸Šå…¬å¸å‘çš„å¹´è´§ï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆç³Ÿç³•ã€‚\næ‹‚è¡£å¤©æ°” é›†åœ°ç†ä¿¡æ¯ä¸å¤©æ°”é¢„æŠ¥ä¸ºä¸€ä½“çš„å¤©æ°”é¢„æŠ¥ç±»å°ç¨‹åºï¼Œç•Œé¢ç²¾ç¾ï¼Œä½¿ç”¨ä¾¿æ·ã€‚ã€è‡´æ•¬ï¼šå’Œé£å¤©æ°”ã€‘\n2022å¹´ï¼Œæ˜¯æˆ‘å·¥ä½œçš„ç¬¬å››ä¸ªå¹´å¤´ã€‚å—å¤šæ–¹é¢çš„ä¿¡æ¯å½±å“ï¼Œæˆ‘ä¹Ÿæƒ³çœ‹çœ‹éªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘çš„èƒ½åŠ›ã€‚è¯¥é¡¹ç›®ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬ï¼ˆ1.1.9ï¼‰ï¼Œæ€»ä½“è€—æ—¶2ä¸ªæœˆé›¶7å¤©ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±70åˆ†ã€‚\nå…¶å®æœ€å¼€å§‹æ˜¯æƒ³åŸºäºwebviewæ¥å®ç°æ›´å¤šçš„åœ°å›¾æ–¹é¢çš„ç‰¹æ€§çš„ï¼Œä½†webviewå¯¹ä¸ªäººè®¤è¯ä¸å¼€æ”¾ã€‚\nåœ¨å®Œæˆä¹‹åï¼Œæœ¬æ¥è®¡åˆ’æ˜¯å°†æ‹‚è¡£å¤©æ°”å®Œæ•´çš„å¼€å‘è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œå¹¶å°†è¯¥é¡¹ç›®å¼€æºå‡ºå»ï¼Œç”šè‡³è¿˜æƒ³å°†è¯¥é¡¹ç›®æäº¤ç»™å’Œé£å¤©æ°”ã€‚ä½†æœ€åçš„ç»“æœå°±æ˜¯ï¼šæ–‡ç« å°±å®Œæ•´äº†å››ç¯‡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¼€å¤´ï¼Œæ²¡å•¥å®é™…å†…å®¹ã€‚\né‚£ä¹ˆåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç»è¿‡æ·±æ·±çš„åæ€è¿‡åï¼Œä¸»è¦çš„åŸå› æœ‰é‚£ä¹ˆå‡ ç‚¹ï¼š\næ‹‚è¡£å¤©æ°”çš„å®ç°å¤ªä¹±äº†ï¼Œæœ¬æƒ³å€Ÿç€æ–‡ç« æ¢³ç†é‡æ„ä¹‹åå†å¼€æº åŒé˜¶æ®µæƒ³è¦åšçš„äº‹æƒ…å¤ªå¤šäº† æ‹–å»¶ç—‡åæœŸæ‚£è€… å¯¹ï¼Œéƒ½æ˜¯å€Ÿå£ï¼Œå°±æ˜¯æ‡’ WebGISé¡¹ç›®å¼€å‘ æˆ‘æ˜¯2021å¹´5æœˆä»½è¿›å…¥çš„ç°åœ¨çš„è¿™å®¶å…¬å¸ï¼Œä»»èŒå²—ä½æ˜¯GISå¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸»è¦è´Ÿè´£æœåŠ¡ç«¯GISå†…å®¹çš„å®ç°ã€‚ä»å…¥èŒååˆ°ä»Šå¹´å¹´åˆï¼Œä¸€ç›´åœ¨åšä¸€ä¸ªå°ç¨‹åºï¼Œç®—æ˜¯å…¬å¸çš„ä¸€ä¸ªå®éªŒæ€§äº§å“ï¼Œå’Œå·²æœ‰äº§å“çš„å®é™…å…³è”ä¸å¤§ã€‚\nä»3æœˆä»½å¼€å§‹ï¼Œå°†åŸºäºæ—¢æœ‰çš„äº§å“å®ç°ï¼Œç»“åˆæ–°é¡¹ç›®çš„ç‰¹æ€§ä»¥åŠé€šç”¨æ€§è¦æ±‚ï¼Œå®ç°äº§å“çš„å‡çº§ã€‚è¿™å¯¹æˆ‘æ¥è¯´ï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªé‡è¦çš„æ—¶é—´èŠ‚ç‚¹ã€‚å› ä¸ºè‡ªæ­¤æˆ‘ç®—æ˜¯çœŸæ­£è¿›å…¥äº†WebGISå¼€å‘é¢†åŸŸï¼Œä»¥æœåŠ¡ç«¯å¼€å‘ä¸ºåˆ‡å…¥ç‚¹ã€‚\né¡¹ç›®éƒ¨ç½²å·¥ä½œ å¤§æ¦‚æ˜¯22å¹´çš„7-8æœˆä»½ï¼Œä¸Šé¢æåˆ°çš„WebGISé¡¹ç›®å®ç°å°†ä½œä¸ºåŸºçº¿äº§å“çš„ä¸€éƒ¨åˆ†ï¼Œä¸ºåç»­çš„é¡¹ç›®åº”ç”¨æä¾›æ”¯æŒã€‚è€Œåé¢æˆ‘å°†ä¼šåŒæ—¶è´Ÿè´£WebGISæœåŠ¡ç«¯çš„é¡¹ç›®éƒ¨ç½²å·¥ä½œã€‚\næˆªè‡³åˆ°2023å¹´åˆï¼Œæˆ‘å·²ç»ç»å†äº†å¾ˆå¤šä¸ªé¡¹ç›®ã€‚æ€æ¥æƒ³å»ï¼Œæˆ‘è§‰å¾—è¿™å¯¹æˆ‘æ¥è¯´ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ„ä¹‰çš„æ—¶é—´èŠ‚ç‚¹ã€‚ä»é¡¹ç›®åº”ç”¨å¼€å‘åˆ°åŸºçº¿äº§å“ï¼Œå†åˆ°åŸºçº¿äº§å“é¡¹ç›®åº”ç”¨éƒ¨ç½²ã€‚ä¸€æ–¹é¢ä¹Ÿç®—æ˜¯è¯æ˜äº†å½“åˆé€‰æ‹©çš„è·¯çº¿ï¼ŒåŒæ—¶ä¹Ÿæ›´åŠ åšå®šã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨ç–«æƒ…æ—¶ä»£ï¼Œå…¬å¸èƒ½æœ‰é¡¹ç›®é‚£åº”è¯¥æ˜¯å¥½äº‹ï¼Œè™½ç„¶æˆ‘å¤§æŠµæ˜¯ä¸å–œæ¬¢åšéƒ¨ç½²å·¥ä½œã€‚\nå…¬å¸å¹´ä¼š å¯¹ï¼Œè¿™ä¹Ÿæ˜¯å¦ä¸€ä¸ªé‡è¦çš„æ—¶é—´èŠ‚ç‚¹ã€‚2022å¹´12æœˆ4å·æ™šï¼Œå‘å¸ƒäº†ã€Šæ­å·å¸‚å…³äºä¼˜åŒ–è°ƒæ•´ç–«æƒ…é˜²æ§ç›¸å…³æªæ–½çš„é€šå‘Šã€‹ã€‚2023å¹´1æœˆ13æ—¥ä¸‹åˆï¼Œå…¬å¸ä¸¾åŠäº†å¹´ä¼šã€‚è¿™ä¹ˆç»“åˆèµ·æ¥çœ‹ï¼Œæ˜¯ä¸æ˜¯çœ‹èµ·æ¥æ˜å¹´ä¼šæ›´å¥½ï¼\nä»Šå¹´å…¶å®å‘ç”Ÿäº†æŒºå¤šçš„äº‹æƒ…ï¼Œè‡ªå·±åœ¨å¿ƒæ€ä¸Šä¹Ÿå‘ç”Ÿäº†ä¸€å®šçš„å˜åŒ–ï¼ˆä¸»è¦æŒ‡å·¥ä½œæ–¹é¢ï¼‰ã€‚ä»3æœˆçš„å……æ»¡å¸Œæœ›ï¼Œåˆ°å¹´åº•çš„èº«å¿ƒä¿±ç–²ã€‚æ­£å¥½å€Ÿå¹´ä¼šçš„æ°›å›´æƒ³äº†æƒ³ï¼Œæˆ‘è§‰å¾—å¯ä»¥æ¢ä¸€ç§å¿ƒæ€å¼€å¯2023å¹´ã€‚å½“åˆé€‰æ‹©æ¥è¿™é‡Œï¼Œä¹Ÿå°±æ˜¯å› ä¸ºè‡ªå·±çš„è·¯çº¿è§„åˆ’ä¸å…¬å¸çš„æŠ€æœ¯å‘å±•æ–¹å‘æ˜¯åŸºæœ¬ä¸€è‡´çš„ï¼Œåˆ°ä»Šå¤©å…¬å¸å¹¶æ²¡æœ‰å‘ç”Ÿè¾ƒå¤§çš„å˜åŒ–ã€‚é‚£ä¹ˆæ—¢ç„¶æ˜¯è‡ªå·±æƒ³è¦åšçš„ï¼Œé‚£ä¹ˆå°±æ›´åº”è¯¥å»åšå¥½ï¼Œä¸»åŠ¨å»åšï¼Œä½ æ˜¯åœ¨å€ŸåŠ©å…¬å¸çš„èµ„æºå®ç°è‡ªæˆ‘çš„ç›®æ ‡ï¼Œä½ ç”šè‡³å¯ä»¥å°è¯•å»å¹²é¢„ä»¥ç¬¦åˆä½ çš„ç›®æ ‡ã€‚æœªæ¥çš„å²³çˆ¶å¤§äººä¹Ÿç»™æˆ‘è¯´ï¼šæœ‰çš„æ—¶å€™ï¼Œä¸è¦è®¡è¾ƒé‚£ä¹ˆå¤šï¼Œå³ä½¿è¾›è‹¦ä¸€ç‚¹ä¹Ÿæ²¡å…³ç³»ï¼Œä½†æ˜¯ä½ è¦æ¸…æ¥šä½ åœ¨åšä»€ä¹ˆã€‚\nåšäº†å†å¤šï¼Œä¸å¦‚åšå¥½ä¸€ä¸ªï¼Œè¿™å°±æ˜¯ä½ æœ€å¥½çš„åç‰‡ã€‚â€”â€”è‡ªæˆ‘PUA\n2023å±•æœ› æŠ€æœ¯ å›´ç»•åœ°ç†ä¿¡æ¯ï¼Œæ›´åŠ æ·±å…¥åº•å±‚å®ç°ã€‚ä»¥ç©ºé—´æ•°æ®åº“ä¸ºæ ¸å¿ƒï¼Œä»¥æ•°æ®å¤„ç†ä¸ä½¿ç”¨ä¸ºé‡ç‚¹ï¼Œä»¥æ•°æ®æ¸²æŸ“ä¸ºæ¬¡é‡ç‚¹ï¼Œç”±å†…åˆ°å¤–ï¼Œé€æ­¥æ„å»ºæŠ€æœ¯ä½“ç³»ã€‚\nå†™ä½œ 2022å¹´çš„æˆæœæƒ¨æ·¡ï¼Œæ•´æ•´ä¸€å¹´åªæœ‰ä»…ä»…å››ç¯‡æ–‡ç« ï¼Œè¿˜éƒ½æ˜¯æ‹‚è¡£å¤©æ°”çš„å†…å®¹ã€‚\nå¸Œæœ›ä»2023å¹´å¼€å§‹ï¼Œå¯ä»¥å®ç°ä¸€å‘¨åŒæ›´ï¼Œå•æ›´æ˜¯åº•çº¿ã€‚åŒæ—¶è¿˜è¦èƒ½å¤Ÿæé«˜æ–‡å­—è¡¨è¾¾çš„èƒ½åŠ›ã€‚\nç”Ÿæ´» å¯ä»¥ä¸€å¤œæš´å¯Œå—ï¼Ÿ\nåè®° ç¬¬ä¸€æ¬¡æ›´æ–°ï¼š2023å¹´2æœˆ13æ—¥æ™šï¼Œå®Œæˆå‰è¨€ç¼–å†™\nç¬¬äºŒæ¬¡æ›´æ–°ï¼š2023å¹´2æœˆ18æ—¥ä¸‹åˆï¼Œå®Œç¨¿\n","permalink":"https://fuyi-atlas.github.io/posts/other/2022-summary/","summary":"å‰è¨€ æ‹–å»¶ç—‡çœŸçš„å­˜åœ¨ï¼ï¼ï¼\nä»Šå¤©æ˜¯2023å¹´2æœˆ13æ—¥æ™šï¼Œæˆ‘åœ¨æ­¤æ—¶å†™ä¸‹æœ¬æ–‡çš„ç¬¬äºŒè¡Œå†…å®¹ã€‚å…¶å®ä»å¹´å‰å°±å¼€å§‹è®¡åˆ’å†™ä¸€ç¯‡å…³äº2022å¹´çš„å¹´ç»ˆæ€»ç»“ï¼Œæ— å¥ˆå—åˆ°æ‹–å»¶ç—…æ¯’çš„å¨èƒï¼Œä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰æš‚æ—¶æ‘†è„±æ§åˆ¶ã€‚\nå¦‚é¢˜ï¼Œæœ¬æ–‡å°†å¯¹2022å¹´è¿›è¡Œç®€è¦æ€»ç»“ï¼ŒåŒæ—¶å¯¹2023å¹´åšä¸€ä¸ªåˆæ­¥çš„å±•æœ›ï¼ˆä»…ä½œè®°å½•ï¼‰ã€‚\n2022å¹´å¤§äº‹è®° ç¬¬ä¸€ä¸ªåœ¨å¤–è¿‡çš„æ˜¥èŠ‚ å—æ–°å† ç–«æƒ…å½±å“ï¼Œ2022å¹´çš„æ˜¥èŠ‚æ˜¯åœ¨æ­å·è¿‡çš„ã€‚è¿˜è®°å¾—å½“æ—¶é™„è¿‘å¥½å‡ ä¸ªåœ°æ–¹éƒ½è¢«åˆ’ä¸ºäº†é«˜é£é™©ï¼Œå¯¹æ•´ä¸ªåŒºè¿›è¡Œäº†ç®¡æ§ã€‚å¦‚æœé€‰æ‹©å›å®¶çš„è¯ï¼Œå¾—åˆ°å°†æ˜¯14å¤©çš„éš”ç¦»ï¼Œè¿˜ä¸ç¡®å®šèƒ½å¦å›æ¥ä¸Šç­ã€‚å› æ­¤ä¾¿æ²¡æœ‰å›å»äº†ã€‚\nå¥½åœ¨æ‰€åœ¨çš„åŒºåŸŸæƒ…å†µå¹¶æ²¡æœ‰é‚£ä¹ˆçš„ä¸¥é‡ï¼Œè¿˜æ˜¯å¯ä»¥å»ä¹°èœçš„ã€‚é¢†äº†æ¶ˆè´¹åˆ¸ï¼Œå†åŠ ä¸Šå…¬å¸å‘çš„å¹´è´§ï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆç³Ÿç³•ã€‚\næ‹‚è¡£å¤©æ°” é›†åœ°ç†ä¿¡æ¯ä¸å¤©æ°”é¢„æŠ¥ä¸ºä¸€ä½“çš„å¤©æ°”é¢„æŠ¥ç±»å°ç¨‹åºï¼Œç•Œé¢ç²¾ç¾ï¼Œä½¿ç”¨ä¾¿æ·ã€‚ã€è‡´æ•¬ï¼šå’Œé£å¤©æ°”ã€‘\n2022å¹´ï¼Œæ˜¯æˆ‘å·¥ä½œçš„ç¬¬å››ä¸ªå¹´å¤´ã€‚å—å¤šæ–¹é¢çš„ä¿¡æ¯å½±å“ï¼Œæˆ‘ä¹Ÿæƒ³çœ‹çœ‹éªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘çš„èƒ½åŠ›ã€‚è¯¥é¡¹ç›®ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬ï¼ˆ1.1.9ï¼‰ï¼Œæ€»ä½“è€—æ—¶2ä¸ªæœˆé›¶7å¤©ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±70åˆ†ã€‚\nå…¶å®æœ€å¼€å§‹æ˜¯æƒ³åŸºäºwebviewæ¥å®ç°æ›´å¤šçš„åœ°å›¾æ–¹é¢çš„ç‰¹æ€§çš„ï¼Œä½†webviewå¯¹ä¸ªäººè®¤è¯ä¸å¼€æ”¾ã€‚\nåœ¨å®Œæˆä¹‹åï¼Œæœ¬æ¥è®¡åˆ’æ˜¯å°†æ‹‚è¡£å¤©æ°”å®Œæ•´çš„å¼€å‘è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œå¹¶å°†è¯¥é¡¹ç›®å¼€æºå‡ºå»ï¼Œç”šè‡³è¿˜æƒ³å°†è¯¥é¡¹ç›®æäº¤ç»™å’Œé£å¤©æ°”ã€‚ä½†æœ€åçš„ç»“æœå°±æ˜¯ï¼šæ–‡ç« å°±å®Œæ•´äº†å››ç¯‡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¼€å¤´ï¼Œæ²¡å•¥å®é™…å†…å®¹ã€‚\né‚£ä¹ˆåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç»è¿‡æ·±æ·±çš„åæ€è¿‡åï¼Œä¸»è¦çš„åŸå› æœ‰é‚£ä¹ˆå‡ ç‚¹ï¼š\næ‹‚è¡£å¤©æ°”çš„å®ç°å¤ªä¹±äº†ï¼Œæœ¬æƒ³å€Ÿç€æ–‡ç« æ¢³ç†é‡æ„ä¹‹åå†å¼€æº åŒé˜¶æ®µæƒ³è¦åšçš„äº‹æƒ…å¤ªå¤šäº† æ‹–å»¶ç—‡åæœŸæ‚£è€… å¯¹ï¼Œéƒ½æ˜¯å€Ÿå£ï¼Œå°±æ˜¯æ‡’ WebGISé¡¹ç›®å¼€å‘ æˆ‘æ˜¯2021å¹´5æœˆä»½è¿›å…¥çš„ç°åœ¨çš„è¿™å®¶å…¬å¸ï¼Œä»»èŒå²—ä½æ˜¯GISå¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸»è¦è´Ÿè´£æœåŠ¡ç«¯GISå†…å®¹çš„å®ç°ã€‚ä»å…¥èŒååˆ°ä»Šå¹´å¹´åˆï¼Œä¸€ç›´åœ¨åšä¸€ä¸ªå°ç¨‹åºï¼Œç®—æ˜¯å…¬å¸çš„ä¸€ä¸ªå®éªŒæ€§äº§å“ï¼Œå’Œå·²æœ‰äº§å“çš„å®é™…å…³è”ä¸å¤§ã€‚\nä»3æœˆä»½å¼€å§‹ï¼Œå°†åŸºäºæ—¢æœ‰çš„äº§å“å®ç°ï¼Œç»“åˆæ–°é¡¹ç›®çš„ç‰¹æ€§ä»¥åŠé€šç”¨æ€§è¦æ±‚ï¼Œå®ç°äº§å“çš„å‡çº§ã€‚è¿™å¯¹æˆ‘æ¥è¯´ï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªé‡è¦çš„æ—¶é—´èŠ‚ç‚¹ã€‚å› ä¸ºè‡ªæ­¤æˆ‘ç®—æ˜¯çœŸæ­£è¿›å…¥äº†WebGISå¼€å‘é¢†åŸŸï¼Œä»¥æœåŠ¡ç«¯å¼€å‘ä¸ºåˆ‡å…¥ç‚¹ã€‚\né¡¹ç›®éƒ¨ç½²å·¥ä½œ å¤§æ¦‚æ˜¯22å¹´çš„7-8æœˆä»½ï¼Œä¸Šé¢æåˆ°çš„WebGISé¡¹ç›®å®ç°å°†ä½œä¸ºåŸºçº¿äº§å“çš„ä¸€éƒ¨åˆ†ï¼Œä¸ºåç»­çš„é¡¹ç›®åº”ç”¨æä¾›æ”¯æŒã€‚è€Œåé¢æˆ‘å°†ä¼šåŒæ—¶è´Ÿè´£WebGISæœåŠ¡ç«¯çš„é¡¹ç›®éƒ¨ç½²å·¥ä½œã€‚\næˆªè‡³åˆ°2023å¹´åˆï¼Œæˆ‘å·²ç»ç»å†äº†å¾ˆå¤šä¸ªé¡¹ç›®ã€‚æ€æ¥æƒ³å»ï¼Œæˆ‘è§‰å¾—è¿™å¯¹æˆ‘æ¥è¯´ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ„ä¹‰çš„æ—¶é—´èŠ‚ç‚¹ã€‚ä»é¡¹ç›®åº”ç”¨å¼€å‘åˆ°åŸºçº¿äº§å“ï¼Œå†åˆ°åŸºçº¿äº§å“é¡¹ç›®åº”ç”¨éƒ¨ç½²ã€‚ä¸€æ–¹é¢ä¹Ÿç®—æ˜¯è¯æ˜äº†å½“åˆé€‰æ‹©çš„è·¯çº¿ï¼ŒåŒæ—¶ä¹Ÿæ›´åŠ åšå®šã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨ç–«æƒ…æ—¶ä»£ï¼Œå…¬å¸èƒ½æœ‰é¡¹ç›®é‚£åº”è¯¥æ˜¯å¥½äº‹ï¼Œè™½ç„¶æˆ‘å¤§æŠµæ˜¯ä¸å–œæ¬¢åšéƒ¨ç½²å·¥ä½œã€‚\nå…¬å¸å¹´ä¼š å¯¹ï¼Œè¿™ä¹Ÿæ˜¯å¦ä¸€ä¸ªé‡è¦çš„æ—¶é—´èŠ‚ç‚¹ã€‚2022å¹´12æœˆ4å·æ™šï¼Œå‘å¸ƒäº†ã€Šæ­å·å¸‚å…³äºä¼˜åŒ–è°ƒæ•´ç–«æƒ…é˜²æ§ç›¸å…³æªæ–½çš„é€šå‘Šã€‹ã€‚2023å¹´1æœˆ13æ—¥ä¸‹åˆï¼Œå…¬å¸ä¸¾åŠäº†å¹´ä¼šã€‚è¿™ä¹ˆç»“åˆèµ·æ¥çœ‹ï¼Œæ˜¯ä¸æ˜¯çœ‹èµ·æ¥æ˜å¹´ä¼šæ›´å¥½ï¼\nä»Šå¹´å…¶å®å‘ç”Ÿäº†æŒºå¤šçš„äº‹æƒ…ï¼Œè‡ªå·±åœ¨å¿ƒæ€ä¸Šä¹Ÿå‘ç”Ÿäº†ä¸€å®šçš„å˜åŒ–ï¼ˆä¸»è¦æŒ‡å·¥ä½œæ–¹é¢ï¼‰ã€‚ä»3æœˆçš„å……æ»¡å¸Œæœ›ï¼Œåˆ°å¹´åº•çš„èº«å¿ƒä¿±ç–²ã€‚æ­£å¥½å€Ÿå¹´ä¼šçš„æ°›å›´æƒ³äº†æƒ³ï¼Œæˆ‘è§‰å¾—å¯ä»¥æ¢ä¸€ç§å¿ƒæ€å¼€å¯2023å¹´ã€‚å½“åˆé€‰æ‹©æ¥è¿™é‡Œï¼Œä¹Ÿå°±æ˜¯å› ä¸ºè‡ªå·±çš„è·¯çº¿è§„åˆ’ä¸å…¬å¸çš„æŠ€æœ¯å‘å±•æ–¹å‘æ˜¯åŸºæœ¬ä¸€è‡´çš„ï¼Œåˆ°ä»Šå¤©å…¬å¸å¹¶æ²¡æœ‰å‘ç”Ÿè¾ƒå¤§çš„å˜åŒ–ã€‚é‚£ä¹ˆæ—¢ç„¶æ˜¯è‡ªå·±æƒ³è¦åšçš„ï¼Œé‚£ä¹ˆå°±æ›´åº”è¯¥å»åšå¥½ï¼Œä¸»åŠ¨å»åšï¼Œä½ æ˜¯åœ¨å€ŸåŠ©å…¬å¸çš„èµ„æºå®ç°è‡ªæˆ‘çš„ç›®æ ‡ï¼Œä½ ç”šè‡³å¯ä»¥å°è¯•å»å¹²é¢„ä»¥ç¬¦åˆä½ çš„ç›®æ ‡ã€‚æœªæ¥çš„å²³çˆ¶å¤§äººä¹Ÿç»™æˆ‘è¯´ï¼šæœ‰çš„æ—¶å€™ï¼Œä¸è¦è®¡è¾ƒé‚£ä¹ˆå¤šï¼Œå³ä½¿è¾›è‹¦ä¸€ç‚¹ä¹Ÿæ²¡å…³ç³»ï¼Œä½†æ˜¯ä½ è¦æ¸…æ¥šä½ åœ¨åšä»€ä¹ˆã€‚\nåšäº†å†å¤šï¼Œä¸å¦‚åšå¥½ä¸€ä¸ªï¼Œè¿™å°±æ˜¯ä½ æœ€å¥½çš„åç‰‡ã€‚â€”â€”è‡ªæˆ‘PUA\n2023å±•æœ› æŠ€æœ¯ å›´ç»•åœ°ç†ä¿¡æ¯ï¼Œæ›´åŠ æ·±å…¥åº•å±‚å®ç°ã€‚ä»¥ç©ºé—´æ•°æ®åº“ä¸ºæ ¸å¿ƒï¼Œä»¥æ•°æ®å¤„ç†ä¸ä½¿ç”¨ä¸ºé‡ç‚¹ï¼Œä»¥æ•°æ®æ¸²æŸ“ä¸ºæ¬¡é‡ç‚¹ï¼Œç”±å†…åˆ°å¤–ï¼Œé€æ­¥æ„å»ºæŠ€æœ¯ä½“ç³»ã€‚\nå†™ä½œ 2022å¹´çš„æˆæœæƒ¨æ·¡ï¼Œæ•´æ•´ä¸€å¹´åªæœ‰ä»…ä»…å››ç¯‡æ–‡ç« ï¼Œè¿˜éƒ½æ˜¯æ‹‚è¡£å¤©æ°”çš„å†…å®¹ã€‚\nå¸Œæœ›ä»2023å¹´å¼€å§‹ï¼Œå¯ä»¥å®ç°ä¸€å‘¨åŒæ›´ï¼Œå•æ›´æ˜¯åº•çº¿ã€‚åŒæ—¶è¿˜è¦èƒ½å¤Ÿæé«˜æ–‡å­—è¡¨è¾¾çš„èƒ½åŠ›ã€‚\nç”Ÿæ´» å¯ä»¥ä¸€å¤œæš´å¯Œå—ï¼Ÿ\nåè®° ç¬¬ä¸€æ¬¡æ›´æ–°ï¼š2023å¹´2æœˆ13æ—¥æ™šï¼Œå®Œæˆå‰è¨€ç¼–å†™\nç¬¬äºŒæ¬¡æ›´æ–°ï¼š2023å¹´2æœˆ18æ—¥ä¸‹åˆï¼Œå®Œç¨¿","title":"2022, è¿Ÿåˆ°çš„å¹´ç»ˆæ€»ç»“"},{"content":"å‰è¨€ æœ¬æ–‡ç”¨äºè¯´æ˜æœ¬æ¬¡å¼€å‘æ‰€ä½¿ç”¨çš„ç¯å¢ƒï¼Œä»¥åŠç¯å¢ƒçš„æ­å»ºè¿‡ç¨‹ã€‚\næ“ä½œç³»ç»Ÿ Windows 10 ä¸“ä¸šç‰ˆ\nå…¶å®æˆ‘å½“æ—¶ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿçš„Arch Linuxï¼Œå¼€å‘å®Œæˆåæ‰åˆé‡è£…å›Windowsã€‚\nç°åœ¨åˆç”¨å›äº†Fedora 38 Workstation @time 2023.10.07\næœåŠ¡ç«¯ æœåŠ¡ç«¯ä½¿ç”¨Javaè¯­è¨€è¿›è¡Œå¼€å‘ï¼Œé¡¹ç›®æ„å»ºä½¿ç”¨Maven(Gradle)ï¼Œå¼€å‘å·¥å…·ä½¿ç”¨Ideaï¼ŒæœåŠ¡å‘å¸ƒä½¿ç”¨Dockerï¼Œä¸‹é¢æ˜¯å…·ä½“çš„ç‰ˆæœ¬ï¼š\nJDK: OpenJDK 11 Gradle: 7.3.2 Maven: Idea: IntelliJ IDEA 2022.1.3 (Community Edition) Docker: Linx Docker Desktop Version 4.23.0 (120376) [Engine: 24.0.6] å°ç¨‹åº é¦–å…ˆéœ€è¦è‡ªè¡Œå®Œæˆå°ç¨‹åºçš„æ³¨å†Œï¼Œå…·ä½“å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\nå…¶æ¬¡ï¼Œä¸‹è½½å¹¶å®‰è£…å°ç¨‹åºå¼€å‘å·¥å…·ï¼Œå‚è§ä¸‹è½½é¡µé¢ã€‚\næœ€åï¼Œè°ƒè¯•åŸºç¡€åº“é€‰æ‹©ï¼š2.24.6\nå‚è€ƒ å¼€å‘è€…å·¥å…·ä¸­æ— æ³•æ˜¾ç¤ºechartæˆ–æ˜¾ç¤ºå¼‚å¸¸\nåœ¨MobaXtermè¿›å…¥sshç»ˆç«¯åï¼Œé”®å…¥ä¸Šä¸‹å·¦å³å‡ºç°ä¹±ç \nwin10ä¸Šä¿®æ”¹dockerçš„é•œåƒæ–‡ä»¶å­˜å‚¨ä½ç½®\nWSL2 è¿ç§» Docker é•œåƒå­˜å‚¨ä½ç½®\nè¯´æ˜ å¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘åœ¨è¿™é‡Œå…ˆå‘æ‚¨é“æ­‰ï¼Œè¿˜è¯·è”ç³»æˆ‘è¿›è¡Œå¤„ç†\nemail: thread_zhou@126.com\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/004/","summary":"å‰è¨€ æœ¬æ–‡ç”¨äºè¯´æ˜æœ¬æ¬¡å¼€å‘æ‰€ä½¿ç”¨çš„ç¯å¢ƒï¼Œä»¥åŠç¯å¢ƒçš„æ­å»ºè¿‡ç¨‹ã€‚\næ“ä½œç³»ç»Ÿ Windows 10 ä¸“ä¸šç‰ˆ\nå…¶å®æˆ‘å½“æ—¶ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿçš„Arch Linuxï¼Œå¼€å‘å®Œæˆåæ‰åˆé‡è£…å›Windowsã€‚\nç°åœ¨åˆç”¨å›äº†Fedora 38 Workstation @time 2023.10.07\næœåŠ¡ç«¯ æœåŠ¡ç«¯ä½¿ç”¨Javaè¯­è¨€è¿›è¡Œå¼€å‘ï¼Œé¡¹ç›®æ„å»ºä½¿ç”¨Maven(Gradle)ï¼Œå¼€å‘å·¥å…·ä½¿ç”¨Ideaï¼ŒæœåŠ¡å‘å¸ƒä½¿ç”¨Dockerï¼Œä¸‹é¢æ˜¯å…·ä½“çš„ç‰ˆæœ¬ï¼š\nJDK: OpenJDK 11 Gradle: 7.3.2 Maven: Idea: IntelliJ IDEA 2022.1.3 (Community Edition) Docker: Linx Docker Desktop Version 4.23.0 (120376) [Engine: 24.0.6] å°ç¨‹åº é¦–å…ˆéœ€è¦è‡ªè¡Œå®Œæˆå°ç¨‹åºçš„æ³¨å†Œï¼Œå…·ä½“å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\nå…¶æ¬¡ï¼Œä¸‹è½½å¹¶å®‰è£…å°ç¨‹åºå¼€å‘å·¥å…·ï¼Œå‚è§ä¸‹è½½é¡µé¢ã€‚\næœ€åï¼Œè°ƒè¯•åŸºç¡€åº“é€‰æ‹©ï¼š2.24.6\nå‚è€ƒ å¼€å‘è€…å·¥å…·ä¸­æ— æ³•æ˜¾ç¤ºechartæˆ–æ˜¾ç¤ºå¼‚å¸¸\nåœ¨MobaXtermè¿›å…¥sshç»ˆç«¯åï¼Œé”®å…¥ä¸Šä¸‹å·¦å³å‡ºç°ä¹±ç \nwin10ä¸Šä¿®æ”¹dockerçš„é•œåƒæ–‡ä»¶å­˜å‚¨ä½ç½®\nWSL2 è¿ç§» Docker é•œåƒå­˜å‚¨ä½ç½®\nè¯´æ˜ å¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘åœ¨è¿™é‡Œå…ˆå‘æ‚¨é“æ­‰ï¼Œè¿˜è¯·è”ç³»æˆ‘è¿›è¡Œå¤„ç†\nemail: thread_zhou@126.com","title":"å¾®å¤©æ°”-å¼€å‘ç¯å¢ƒå‡†å¤‡"},{"content":"å‰è¨€ è¿™æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œåç«¯ä½¿ç”¨Javaè¿›è¡Œå¼€å‘ï¼Œè€Œå‰ç«¯é€šè¿‡å¾®ä¿¡å°ç¨‹åºå®ç°ã€‚\nåŠŸèƒ½ç»“æ„ å¯ä»ä¸Šå›¾å¾—çŸ¥ï¼Œéƒ¨åˆ†åŠŸèƒ½å·²å»é™¤ï¼š\næ¶ˆæ¯ æ¶ˆæ¯æ¨é€ ç´§æ€¥æƒ…å†µæ¨é€ ç”¨æˆ· ä¸ªäººä¸­å¿ƒ æ¨¡å‹è®¾è®¡ ç”¨æˆ·ä¿¡æ¯ï¼ˆUserInfoï¼‰ id Long ä¸»é”® oid String OpenID uid String UnionID name String æ˜µç§° phone_num String æ‰‹æœºå· avatar String å¤´åƒåœ°å€ authState String ç™»å½•çŠ¶æ€ Silence é™é»˜ç™»å½•ï¼ˆç›®å‰ç¨‹åºçš„è®¿é—®æ˜¯éœ€è¦å­˜åœ¨ç™»å½•æ€çš„ï¼‰ Authorized å·²æˆæƒ createTime Timestamp è®°å½•åˆ›å»ºæ—¶é—´ updateTime Timestamp è®°å½•æ›´æ–°æ—¶é—´ è¡Œæ”¿åŒºåˆ’ä¿¡æ¯ï¼ˆDistrictInfoï¼‰ ä½¿ç”¨å…¨å›½è¡Œæ”¿åŒºåˆ’ä¿¡æ¯å¡«å……ï¼Œå«ç©ºé—´æ•°æ®ï¼Œæ•°æ®ç²’åº¦åˆ°åŒºå¿ã€‚ç›®å‰ä»…æ”¯æŒå›½å†…æ•°æ®ã€‚\nid Long ä¸»é”® name String è¡Œæ”¿åŒºåç§° grade Integer è¡Œæ”¿åŒºçº§åˆ« 1ï¼šçœçº§è¡Œæ”¿åŒº 2ï¼šåœ°çº§è¡Œæ”¿åŒº 3ï¼šå¿çº§è¡Œæ”¿åŒº 4ï¼šä¹¡é•‡çº§è¡Œæ”¿åŒº code String è¡Œæ”¿åŒºä»£ç  centerPoint Point è¡Œæ”¿åŒºä¸­å¿ƒç‚¹ï¼ˆç©ºé—´æ•°æ®ï¼‰ bounds Geometry è¡Œæ”¿åŒºè¾¹ç•Œï¼ˆç©ºé—´æ•°æ®ï¼‰ å…³æ³¨åŸå¸‚ï¼ˆFollowCityï¼‰ id Long ä¸»é”® userId Long ç”¨æˆ·ID districtId Long è¡Œæ”¿åŒºåˆ’ID districtName String è¡Œæ”¿åŒºåˆ’åç§° districtCode String è¡Œæ”¿åŒºåˆ’ç¼–ç  orderNum Integer åºå·ï¼Œè‡ªç„¶æ•°ï¼Œä»1å¼€å§‹ createTime Timestamp è®°å½•åˆ›å»ºæ—¶é—´ å¤©æ°”ä¿¡æ¯ ç”±äºå¤©æ°”æ•°æ®å‡æ¥è‡ªç¬¬ä¸‰æ–¹ï¼Œç›®å‰æ•°æ®æ ¼å¼äºå’Œé£å¤©æ°”å¯¹é½ã€‚\né€šè¿‡å¯¹å’Œé£å¤©æ°”å“åº”æ•°æ®ç»“æ„ç ”ç©¶ï¼ŒæŠ½è±¡å‡ºåŸºç¡€å“åº”ï¼Œå®é™…å“åº”å‡ç»§æ‰¿è¯¥åŸºç¡€å“åº”ç±»ï¼Œå¹¶å®ç°getDataColumnæ–¹æ³•ï¼Œä»¥æ ‡è®°å¯¹åº”æ•°æ®åˆ—ã€‚\nç›®å‰ä½¿ç”¨ä»£ç†æ–¹å¼è¿›è¡Œç¬¬ä¸‰æ–¹æ¥å£è°ƒç”¨ï¼Œä¸”å°†ç»“æ„å¯¹é½äº¤ç”±å‰ç«¯è¿›è¡Œï¼Œæ‰€ä»¥æ­¤å¤„å¹¶æœªè¿›è¡Œå¼ºæ ¼å¼å®šä¹‰ã€‚\nåŸºç¡€å“åº”ä¿¡æ¯ package org.fuyi.weather.infra.common.entity; import com.alibaba.fastjson.JSON; import com.alibaba.fastjson.JSONObject; import java.io.Serializable; /** * å¤©æ°”ä»£ç†å®ä½“åŸºç¡€ç±» * * @author: \u0026lt;a href=\u0026#34;mailto:thread.zhou@gmail.com\u0026#34;\u0026gt;Fuyi\u0026lt;/a\u0026gt; * @time: 2022/2/1 ä¸‹åˆ3:22 * @since: 1.0 */ public abstract class AbstractWeatherProxyWrappedEntity implements Serializable { private static final long serialVersionUID = 5559333755209092109L; /** * APIçŠ¶æ€ç ï¼Œå…·ä½“å«ä¹‰è¯·å‚è€ƒçŠ¶æ€ç  * å‚è€ƒ \u0026lt;a\u0026gt;https://dev.qweather.com/docs/resource/status-code/\u0026lt;/a\u0026gt; */ private String code; /** * å½“å‰APIçš„æœ€è¿‘æ›´æ–°æ—¶é—´ * å‚è€ƒ \u0026lt;a\u0026gt;https://dev.qweather.com/docs/resource/glossary/#update-time\u0026lt;/a\u0026gt; */ private String updateTime; /** * å½“å‰æ•°æ®çš„å“åº”å¼é¡µé¢ï¼Œä¾¿äºåµŒå…¥ç½‘ç«™æˆ–åº”ç”¨ */ private String fxLink; private JSONObject refer; private JSON data; public AbstractWeatherProxyWrappedEntity() { } // æ ‡è®°æ•°æ®åˆ— public abstract String getDataColumn(); // get and set method. ... } å®æ—¶ç©ºæ°”æ•°æ®ï¼ˆä¾‹ï¼‰ package org.fuyi.weather.domain.entity; import lombok.*; import org.fuyi.weather.infra.common.constant.WeatherProxyConstant; import org.fuyi.weather.infra.common.entity.AbstractWeatherProxyWrappedEntity; /** * @author: \u0026lt;a href=\u0026#34;mailto:thread.zhou@gmail.com\u0026#34;\u0026gt;Fuyi\u0026lt;/a\u0026gt; * @time: 2022/2/1 ä¸‹åˆ4:07 * @since: 1.0 */ @Data @Builder @NoArgsConstructor @ToString(callSuper = true) @EqualsAndHashCode(callSuper = false) public class AirRealTimeEntity extends AbstractWeatherProxyWrappedEntity { @Override public String getDataColumn() { // WeatherProxyConstant.DataColumn.NOW --\u0026gt; \u0026#34;now\u0026#34; return WeatherProxyConstant.DataColumn.NOW; } } å‚è€ƒ å°ç¨‹åºé™é»˜ç™»å½•æ–¹æ¡ˆè®¾è®¡ è¯´æ˜ å¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘åœ¨è¿™é‡Œå…ˆå‘æ‚¨é“æ­‰ï¼Œè¿˜è¯·è”ç³»æˆ‘è¿›è¡Œå¤„ç†\nemail: thread_zhou@126.com\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/003/","summary":"å‰è¨€ è¿™æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œåç«¯ä½¿ç”¨Javaè¿›è¡Œå¼€å‘ï¼Œè€Œå‰ç«¯é€šè¿‡å¾®ä¿¡å°ç¨‹åºå®ç°ã€‚\nåŠŸèƒ½ç»“æ„ å¯ä»ä¸Šå›¾å¾—çŸ¥ï¼Œéƒ¨åˆ†åŠŸèƒ½å·²å»é™¤ï¼š\næ¶ˆæ¯ æ¶ˆæ¯æ¨é€ ç´§æ€¥æƒ…å†µæ¨é€ ç”¨æˆ· ä¸ªäººä¸­å¿ƒ æ¨¡å‹è®¾è®¡ ç”¨æˆ·ä¿¡æ¯ï¼ˆUserInfoï¼‰ id Long ä¸»é”® oid String OpenID uid String UnionID name String æ˜µç§° phone_num String æ‰‹æœºå· avatar String å¤´åƒåœ°å€ authState String ç™»å½•çŠ¶æ€ Silence é™é»˜ç™»å½•ï¼ˆç›®å‰ç¨‹åºçš„è®¿é—®æ˜¯éœ€è¦å­˜åœ¨ç™»å½•æ€çš„ï¼‰ Authorized å·²æˆæƒ createTime Timestamp è®°å½•åˆ›å»ºæ—¶é—´ updateTime Timestamp è®°å½•æ›´æ–°æ—¶é—´ è¡Œæ”¿åŒºåˆ’ä¿¡æ¯ï¼ˆDistrictInfoï¼‰ ä½¿ç”¨å…¨å›½è¡Œæ”¿åŒºåˆ’ä¿¡æ¯å¡«å……ï¼Œå«ç©ºé—´æ•°æ®ï¼Œæ•°æ®ç²’åº¦åˆ°åŒºå¿ã€‚ç›®å‰ä»…æ”¯æŒå›½å†…æ•°æ®ã€‚\nid Long ä¸»é”® name String è¡Œæ”¿åŒºåç§° grade Integer è¡Œæ”¿åŒºçº§åˆ« 1ï¼šçœçº§è¡Œæ”¿åŒº 2ï¼šåœ°çº§è¡Œæ”¿åŒº 3ï¼šå¿çº§è¡Œæ”¿åŒº 4ï¼šä¹¡é•‡çº§è¡Œæ”¿åŒº code String è¡Œæ”¿åŒºä»£ç  centerPoint Point è¡Œæ”¿åŒºä¸­å¿ƒç‚¹ï¼ˆç©ºé—´æ•°æ®ï¼‰ bounds Geometry è¡Œæ”¿åŒºè¾¹ç•Œï¼ˆç©ºé—´æ•°æ®ï¼‰ å…³æ³¨åŸå¸‚ï¼ˆFollowCityï¼‰ id Long ä¸»é”® userId Long ç”¨æˆ·ID districtId Long è¡Œæ”¿åŒºåˆ’ID districtName String è¡Œæ”¿åŒºåˆ’åç§° districtCode String è¡Œæ”¿åŒºåˆ’ç¼–ç  orderNum Integer åºå·ï¼Œè‡ªç„¶æ•°ï¼Œä»1å¼€å§‹ createTime Timestamp è®°å½•åˆ›å»ºæ—¶é—´ å¤©æ°”ä¿¡æ¯ ç”±äºå¤©æ°”æ•°æ®å‡æ¥è‡ªç¬¬ä¸‰æ–¹ï¼Œç›®å‰æ•°æ®æ ¼å¼äºå’Œé£å¤©æ°”å¯¹é½ã€‚","title":"å¾®å¤©æ°”-æ¨¡å‹è®¾è®¡"},{"content":"å‰è¨€ ä¿—è¯è¯´ï¼šç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ã€‚\næˆ‘æƒ³åšä¸€ä¸ªå¤©æ°”ç±»åˆ«çš„å°ç¨‹åºï¼Œä»¥æ­¤è¿›è¡Œå…¨æ ˆå¼€å‘èƒ½åŠ›çš„è¯•ç‚¼ã€‚æˆ‘æƒ³è¿™ä¼šæ˜¯ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºã€æ˜¯ä¸€ä¸ªå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å°ç¨‹åºï¼Œä»¥Javaè¿›è¡ŒæœåŠ¡ç«¯å¼€å‘ï¼Œä»¥Mapboxå®ç°å¤©æ°”æ•°æ®å¯è§†åŒ–ã€‚\nä½†æ˜¯æˆ‘æ˜¯ä¸€ä¸ªåç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸æ€ä¹ˆä¼šå†™é¡µé¢ï¼Œæˆ‘ç‰¹åˆ«çš„è®¨åŒå†™CSSã€‚æˆ‘ä¹Ÿæ²¡æœ‰æ¥è§¦è¿‡å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œä¹Ÿä»…ä»…çŸ¥é“è¿‡Mapboxå¯ä»¥å®ç°å¥½çœ‹çš„åœ°å›¾ã€‚æ‰€ä»¥æˆ‘éœ€è¦è¿›è¡Œä¸€å®šçš„é¢„ç ”ï¼Œé¿å…åæœŸèŠ±è´¹æ›´å¤§çš„ç²¾åŠ›ç”¨æ¥è°ƒæ•´æœ¬å¯ä»¥é¿å…çš„é—®é¢˜ã€‚\nä¸‹é¢æ˜¯æˆ‘è®¡åˆ’å®ç°çš„åŠŸèƒ½åˆ—è¡¨ï¼š\nåˆ©ç”¨ç½‘ç»œæ¥å£è·å–æ•°æ®ï¼ˆæ˜¨æ—¥å¤©æ°”ã€å½“å‰å¤©æ°”ã€é¢„æŠ¥å¤©æ°”ï¼‰ å®ç°å®æ—¶å¤©æ°”ä¸é¢„æŠ¥æ•°æ®æŸ¥çœ‹ ç´§æ€¥æƒ…å†µæ¨é€ åˆ©ç”¨åœ°å›¾ï¼ˆmapboxï¼‰è¿›è¡Œæ•°æ®å¯è§†åŒ– å¤©æ°”åˆ†äº«ï¼ˆå›¾ç‰‡åˆ†äº«ï¼Œé¡µé¢åˆ†äº«ï¼‰ å¸¸ç”¨åœ°å€ æ¶ˆæ¯æ¨é€ ä¸ªäººä¿¡æ¯ ç™»å½•æˆæƒ åº”ç”¨Promiseè¿›è¡Œå¼‚æ­¥ç½‘ç»œè¯·æ±‚ ä½¿ç”¨é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ä½œä¸ºå›¾æ ‡æ•°æ®æº echartså›¾æ ‡å±•ç¤º æ¥å…¥ç–«æƒ…æ•°æ®ï¼Ÿ é¢„ç ”å¯¹è±¡ å¤©æ°”æ•°æ® å¤©æ°”æ•°æ®éœ€è¦æ˜¯çœŸå®çš„ã€å¯ç”¨çš„ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡ç½‘ç»œä¸­æä¾›çš„å¤©æ°”APIè¿›è¡Œè·å–ã€‚\né€šè¿‡ä¸€å®šçš„æ£€ç´¢åï¼Œæˆ‘é€‰å®šäº†ä¸¤ä¸ªå¤©æ°”å¹³å°ï¼Œåˆ†åˆ«æ˜¯ï¼šå’Œé£å¤©æ°”ã€å¿ƒçŸ¥å¤©æ°”ã€‚\né«˜å¾·å¤©æ°”ï¼šå¤§å¹³å°ï¼Œä½†æ˜¯ç›®å‰æœåŠ¡ç±»ç›®æ¯”è¾ƒå°‘\nå½©äº‘å¤©æ°”ï¼šå…è´¹æ¥å£å‡ ä¹æ²¡æœ‰ï¼Œæ”¶è´¹åˆå¤ªè´µ\nå¿ƒçŸ¥å¤©æ°” å¿ƒçŸ¥å¤©æ°”è¯•ç”¨ç‰ˆä¸å¼€å‘è€…ç‰ˆå¼€å‘äº§å“å‡ ä¹ç­‰åŒï¼Œä¸”å¼€å‘è€…ç‰ˆæ”¶è´¹ä¹Ÿä¸è´µã€‚æœ€ä¸ºå…³é”®çš„æ˜¯ï¼Œæ”¯æŒä»¥ç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå’Œé£å¤©æ°” å‡ ä¹å¯ä»¥å…è´¹ä½¿ç”¨å…¶æä¾›çš„æ‰€æœ‰ APIï¼Œä¸”åŒæ ·æ”¯æŒç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå°ç»“ å¯¹æ¯”äº†è¿™ä¸¤è€…ï¼Œå‘ç°è‡³å°‘éƒ½éœ€è¦æ³¨å†Œä¸ºå¼€å‘è€…ä¹‹åï¼Œæ‰å¯ä»¥è¾ƒå¥½çš„ä½¿ç”¨å…¶æœåŠ¡ã€‚ä¸”ä¸¤è€…çš„å¼€å‘è€…è®¤è¯å‡éœ€è¦å®åã€‚\nå…³äºå¤©æ°”APIçš„é€‰æ‹©ï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©äº†å’Œé£å¤©æ°”ï¼Œå€’ä¸æ˜¯å› ä¸ºå®ƒå¯ä»¥å…è´¹ä½¿ç”¨ã€‚å…¶å®ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æˆ‘æ›´å€¾å‘äºä½¿ç”¨å¿ƒçŸ¥å¤©æ°”ï¼Œå› ä¸ºå®ƒè¿˜å¯ä»¥ç›´æ¥æŸ¥æ˜¨å¤©çš„å¤©æ°”ï¼ˆå’Œé£å¯¹äºå†å²å¤©æ°”çš„æŸ¥è¯¢æ¯”è¾ƒéº»çƒ¦ï¼‰ã€‚ä½†æ˜¯å’Œé£å¤©æ°”é¦–é¡µç»“åˆäº†åœ°å›¾è¿›è¡Œå¯è§†åŒ–ï¼Œè€Œä¸”è¿˜æä¾›æœ‰APPå¯ä»¥ä½¿ç”¨ï¼ˆæ–¹ä¾¿å‚è€ƒï¼‰ã€‚å†åŠ ä¸Šï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œå…¶å®æˆ‘å¹¶æ²¡æœ‰è¿«åˆ‡çš„éœ€è¦çŸ¥é“æ˜¨å¤©çš„å¤©æ°”æƒ…å†µã€‚\nå…¶å®æœ€é‡è¦çš„åŸå› åœ¨äºï¼šæˆ‘å…ˆæ³¨å†Œäº†å¿ƒçŸ¥å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œè¿‡äº†åŠå¤©åå†å»æ³¨å†Œäº†å’Œé£å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œä½†æ˜¯æœ€å…ˆé€šè¿‡å®¡æ ¸çš„æ˜¯å’Œé£å¤©æ°”ï¼ˆè€—æ—¶å¤§æ¦‚ä¹Ÿå°±åŠå¤©å·¦å³ï¼Œæˆ‘æ˜¯åœ¨æ˜¥èŠ‚æœŸé—´æ³¨å†Œçš„ï¼‰ã€‚\nå‰ç«¯æŠ€æœ¯ æˆ‘å¹¶æ²¡æœ‰æƒ³è¦ç²¾é€šå‰ç«¯æŠ€æœ¯ï¼Œä½†æ˜¯æˆ‘éœ€è¦æ¯”è¾ƒä½“ç³»çš„äº†è§£ä¸€ä¸‹å‰ç«¯æŠ€æœ¯ï¼Œæ–¹ä¾¿è¿›è¡Œå°ç¨‹åºå¼€å‘ã€‚æ‰€ä»¥æˆ‘åœ¨Bç«™æ‰¾äº†ä¸¤é—¨å‰ç«¯è§†é¢‘å­¦ä¹ ï¼ˆç²—ç•¥çš„åˆ·äº†ä¸€éï¼‰ï¼š\nã€å°šç¡…è°·ã€‘Webå‰ç«¯é›¶åŸºç¡€å…¥é—¨HTML5+CSS3åŸºç¡€æ•™ç¨‹ä¸¨åˆå­¦è€…ä»å…¥é—¨åˆ°ç²¾é€š åƒé”‹webå‰ç«¯å¼€å‘é¡¹ç›®æ•™ç¨‹_1000é›†å®Œå…¨é›¶åŸºç¡€å…¥é—¨HTML5+CSS3+JSåˆ°ç²¾é€š å¾®ä¿¡å°ç¨‹åº å®˜æ–¹æ–‡æ¡£è¶³ä»¥\nMapbox è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—æ†¾ï¼Œå°ç¨‹åºåŸç”Ÿå¹¶ä¸æ”¯æŒä½¿ç”¨å¦‚mapboxè¿™æ ·çš„ç¬¬ä¸‰æ–¹åœ°å›¾æ¡†æ¶ï¼Œåˆå§‹æƒ³æ³•æ˜¯é€šè¿‡webviewçš„æ–¹å¼ä½¿ç”¨mapboxï¼Œä½†æ˜¯é—æ†¾çš„æ˜¯ï¼Œwebviewå¹¶ä¸å¯¹ä¸ªäººç±»å‹çš„å°ç¨‹åºå¼€æ”¾ä½¿ç”¨ã€‚\næ‰€ä»¥ï¼Œé€€è€Œæ±‚å…¶æ¬¡ï¼Œé€‰æ‹©è…¾è®¯åœ°å›¾ï¼ˆåŠå…¶æä¾›çš„æ ·å¼ï¼‰å®ç°åœ°å›¾æµè§ˆã€‚\nUI UIéƒ¨åˆ†å‚è€ƒå’Œé£å¤©æ°”APPï¼Œä»¥åŠWEUI\næ€»ç»“ å¤©æ°”APIä½¿ç”¨å’Œé£å¤©æ°”ï¼ˆè‹¥æœ‰ç©ºä½™å¯è€ƒè™‘æŠ½å–ä¸€å¥—ç»Ÿä¸€çš„APIï¼Œå¯ç»„åˆæˆ–åˆ‡æ¢æ•°æ®æ¥æºï¼‰ åœ°å›¾ä½¿ç”¨è…¾è®¯åœ°å›¾ï¼ˆå¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆï¼Œä¸»è¦åœ¨äºä¸ªæ€§åŒ–æ ·å¼çš„ä½¿ç”¨ï¼‰ åŸºäºè‡ªå®šä¹‰æœåŠ¡ç«¯å®ç°å¤©æ°”ä»£ç†ä»¥åŠå°ç¨‹åºé™é»˜ç™»å½• UIå‚è€ƒå’Œé£å¤©æ°”APPå®ç° å‚è€ƒ æœ€å¥½çš„6ä¸ªå…è´¹å¤©æ°” API æ¥å£å¯¹æ¯”æµ‹è¯„ å¿ƒçŸ¥å¤©æ°”-ä»·æ ¼æ–¹æ¡ˆ å’Œé£å¤©æ°”-FAQ H5+JavascriptæŠ€æœ¯ç»“æ„å›¾ è…¾è®¯ä½ç½®æœåŠ¡-å¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆ-ä¸ªæ€§åŒ–åœ°å›¾æ ·å¼ è¯´æ˜ å¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘åœ¨è¿™é‡Œå…ˆå‘æ‚¨é“æ­‰ï¼Œè¿˜è¯·è”ç³»æˆ‘è¿›è¡Œå¤„ç†\nemail: thread_zhou@126.com\n","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/002/","summary":"å‰è¨€ ä¿—è¯è¯´ï¼šç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ã€‚\næˆ‘æƒ³åšä¸€ä¸ªå¤©æ°”ç±»åˆ«çš„å°ç¨‹åºï¼Œä»¥æ­¤è¿›è¡Œå…¨æ ˆå¼€å‘èƒ½åŠ›çš„è¯•ç‚¼ã€‚æˆ‘æƒ³è¿™ä¼šæ˜¯ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºã€æ˜¯ä¸€ä¸ªå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å°ç¨‹åºï¼Œä»¥Javaè¿›è¡ŒæœåŠ¡ç«¯å¼€å‘ï¼Œä»¥Mapboxå®ç°å¤©æ°”æ•°æ®å¯è§†åŒ–ã€‚\nä½†æ˜¯æˆ‘æ˜¯ä¸€ä¸ªåç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸æ€ä¹ˆä¼šå†™é¡µé¢ï¼Œæˆ‘ç‰¹åˆ«çš„è®¨åŒå†™CSSã€‚æˆ‘ä¹Ÿæ²¡æœ‰æ¥è§¦è¿‡å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼Œä¹Ÿä»…ä»…çŸ¥é“è¿‡Mapboxå¯ä»¥å®ç°å¥½çœ‹çš„åœ°å›¾ã€‚æ‰€ä»¥æˆ‘éœ€è¦è¿›è¡Œä¸€å®šçš„é¢„ç ”ï¼Œé¿å…åæœŸèŠ±è´¹æ›´å¤§çš„ç²¾åŠ›ç”¨æ¥è°ƒæ•´æœ¬å¯ä»¥é¿å…çš„é—®é¢˜ã€‚\nä¸‹é¢æ˜¯æˆ‘è®¡åˆ’å®ç°çš„åŠŸèƒ½åˆ—è¡¨ï¼š\nåˆ©ç”¨ç½‘ç»œæ¥å£è·å–æ•°æ®ï¼ˆæ˜¨æ—¥å¤©æ°”ã€å½“å‰å¤©æ°”ã€é¢„æŠ¥å¤©æ°”ï¼‰ å®ç°å®æ—¶å¤©æ°”ä¸é¢„æŠ¥æ•°æ®æŸ¥çœ‹ ç´§æ€¥æƒ…å†µæ¨é€ åˆ©ç”¨åœ°å›¾ï¼ˆmapboxï¼‰è¿›è¡Œæ•°æ®å¯è§†åŒ– å¤©æ°”åˆ†äº«ï¼ˆå›¾ç‰‡åˆ†äº«ï¼Œé¡µé¢åˆ†äº«ï¼‰ å¸¸ç”¨åœ°å€ æ¶ˆæ¯æ¨é€ ä¸ªäººä¿¡æ¯ ç™»å½•æˆæƒ åº”ç”¨Promiseè¿›è¡Œå¼‚æ­¥ç½‘ç»œè¯·æ±‚ ä½¿ç”¨é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ä½œä¸ºå›¾æ ‡æ•°æ®æº echartså›¾æ ‡å±•ç¤º æ¥å…¥ç–«æƒ…æ•°æ®ï¼Ÿ é¢„ç ”å¯¹è±¡ å¤©æ°”æ•°æ® å¤©æ°”æ•°æ®éœ€è¦æ˜¯çœŸå®çš„ã€å¯ç”¨çš„ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡ç½‘ç»œä¸­æä¾›çš„å¤©æ°”APIè¿›è¡Œè·å–ã€‚\né€šè¿‡ä¸€å®šçš„æ£€ç´¢åï¼Œæˆ‘é€‰å®šäº†ä¸¤ä¸ªå¤©æ°”å¹³å°ï¼Œåˆ†åˆ«æ˜¯ï¼šå’Œé£å¤©æ°”ã€å¿ƒçŸ¥å¤©æ°”ã€‚\né«˜å¾·å¤©æ°”ï¼šå¤§å¹³å°ï¼Œä½†æ˜¯ç›®å‰æœåŠ¡ç±»ç›®æ¯”è¾ƒå°‘\nå½©äº‘å¤©æ°”ï¼šå…è´¹æ¥å£å‡ ä¹æ²¡æœ‰ï¼Œæ”¶è´¹åˆå¤ªè´µ\nå¿ƒçŸ¥å¤©æ°” å¿ƒçŸ¥å¤©æ°”è¯•ç”¨ç‰ˆä¸å¼€å‘è€…ç‰ˆå¼€å‘äº§å“å‡ ä¹ç­‰åŒï¼Œä¸”å¼€å‘è€…ç‰ˆæ”¶è´¹ä¹Ÿä¸è´µã€‚æœ€ä¸ºå…³é”®çš„æ˜¯ï¼Œæ”¯æŒä»¥ç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå’Œé£å¤©æ°” å‡ ä¹å¯ä»¥å…è´¹ä½¿ç”¨å…¶æä¾›çš„æ‰€æœ‰ APIï¼Œä¸”åŒæ ·æ”¯æŒç»çº¬åº¦æ–¹å¼è¿›è¡Œå¤©æ°”æŸ¥è¯¢ã€‚\nå°ç»“ å¯¹æ¯”äº†è¿™ä¸¤è€…ï¼Œå‘ç°è‡³å°‘éƒ½éœ€è¦æ³¨å†Œä¸ºå¼€å‘è€…ä¹‹åï¼Œæ‰å¯ä»¥è¾ƒå¥½çš„ä½¿ç”¨å…¶æœåŠ¡ã€‚ä¸”ä¸¤è€…çš„å¼€å‘è€…è®¤è¯å‡éœ€è¦å®åã€‚\nå…³äºå¤©æ°”APIçš„é€‰æ‹©ï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©äº†å’Œé£å¤©æ°”ï¼Œå€’ä¸æ˜¯å› ä¸ºå®ƒå¯ä»¥å…è´¹ä½¿ç”¨ã€‚å…¶å®ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æˆ‘æ›´å€¾å‘äºä½¿ç”¨å¿ƒçŸ¥å¤©æ°”ï¼Œå› ä¸ºå®ƒè¿˜å¯ä»¥ç›´æ¥æŸ¥æ˜¨å¤©çš„å¤©æ°”ï¼ˆå’Œé£å¯¹äºå†å²å¤©æ°”çš„æŸ¥è¯¢æ¯”è¾ƒéº»çƒ¦ï¼‰ã€‚ä½†æ˜¯å’Œé£å¤©æ°”é¦–é¡µç»“åˆäº†åœ°å›¾è¿›è¡Œå¯è§†åŒ–ï¼Œè€Œä¸”è¿˜æä¾›æœ‰APPå¯ä»¥ä½¿ç”¨ï¼ˆæ–¹ä¾¿å‚è€ƒï¼‰ã€‚å†åŠ ä¸Šï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œå…¶å®æˆ‘å¹¶æ²¡æœ‰è¿«åˆ‡çš„éœ€è¦çŸ¥é“æ˜¨å¤©çš„å¤©æ°”æƒ…å†µã€‚\nå…¶å®æœ€é‡è¦çš„åŸå› åœ¨äºï¼šæˆ‘å…ˆæ³¨å†Œäº†å¿ƒçŸ¥å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œè¿‡äº†åŠå¤©åå†å»æ³¨å†Œäº†å’Œé£å¤©æ°”ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ï¼Œä½†æ˜¯æœ€å…ˆé€šè¿‡å®¡æ ¸çš„æ˜¯å’Œé£å¤©æ°”ï¼ˆè€—æ—¶å¤§æ¦‚ä¹Ÿå°±åŠå¤©å·¦å³ï¼Œæˆ‘æ˜¯åœ¨æ˜¥èŠ‚æœŸé—´æ³¨å†Œçš„ï¼‰ã€‚\nå‰ç«¯æŠ€æœ¯ æˆ‘å¹¶æ²¡æœ‰æƒ³è¦ç²¾é€šå‰ç«¯æŠ€æœ¯ï¼Œä½†æ˜¯æˆ‘éœ€è¦æ¯”è¾ƒä½“ç³»çš„äº†è§£ä¸€ä¸‹å‰ç«¯æŠ€æœ¯ï¼Œæ–¹ä¾¿è¿›è¡Œå°ç¨‹åºå¼€å‘ã€‚æ‰€ä»¥æˆ‘åœ¨Bç«™æ‰¾äº†ä¸¤é—¨å‰ç«¯è§†é¢‘å­¦ä¹ ï¼ˆç²—ç•¥çš„åˆ·äº†ä¸€éï¼‰ï¼š\nã€å°šç¡…è°·ã€‘Webå‰ç«¯é›¶åŸºç¡€å…¥é—¨HTML5+CSS3åŸºç¡€æ•™ç¨‹ä¸¨åˆå­¦è€…ä»å…¥é—¨åˆ°ç²¾é€š åƒé”‹webå‰ç«¯å¼€å‘é¡¹ç›®æ•™ç¨‹_1000é›†å®Œå…¨é›¶åŸºç¡€å…¥é—¨HTML5+CSS3+JSåˆ°ç²¾é€š å¾®ä¿¡å°ç¨‹åº å®˜æ–¹æ–‡æ¡£è¶³ä»¥\nMapbox è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—æ†¾ï¼Œå°ç¨‹åºåŸç”Ÿå¹¶ä¸æ”¯æŒä½¿ç”¨å¦‚mapboxè¿™æ ·çš„ç¬¬ä¸‰æ–¹åœ°å›¾æ¡†æ¶ï¼Œåˆå§‹æƒ³æ³•æ˜¯é€šè¿‡webviewçš„æ–¹å¼ä½¿ç”¨mapboxï¼Œä½†æ˜¯é—æ†¾çš„æ˜¯ï¼Œwebviewå¹¶ä¸å¯¹ä¸ªäººç±»å‹çš„å°ç¨‹åºå¼€æ”¾ä½¿ç”¨ã€‚\næ‰€ä»¥ï¼Œé€€è€Œæ±‚å…¶æ¬¡ï¼Œé€‰æ‹©è…¾è®¯åœ°å›¾ï¼ˆåŠå…¶æä¾›çš„æ ·å¼ï¼‰å®ç°åœ°å›¾æµè§ˆã€‚\nUI UIéƒ¨åˆ†å‚è€ƒå’Œé£å¤©æ°”APPï¼Œä»¥åŠWEUI\næ€»ç»“ å¤©æ°”APIä½¿ç”¨å’Œé£å¤©æ°”ï¼ˆè‹¥æœ‰ç©ºä½™å¯è€ƒè™‘æŠ½å–ä¸€å¥—ç»Ÿä¸€çš„APIï¼Œå¯ç»„åˆæˆ–åˆ‡æ¢æ•°æ®æ¥æºï¼‰ åœ°å›¾ä½¿ç”¨è…¾è®¯åœ°å›¾ï¼ˆå¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆï¼Œä¸»è¦åœ¨äºä¸ªæ€§åŒ–æ ·å¼çš„ä½¿ç”¨ï¼‰ åŸºäºè‡ªå®šä¹‰æœåŠ¡ç«¯å®ç°å¤©æ°”ä»£ç†ä»¥åŠå°ç¨‹åºé™é»˜ç™»å½• UIå‚è€ƒå’Œé£å¤©æ°”APPå®ç° å‚è€ƒ æœ€å¥½çš„6ä¸ªå…è´¹å¤©æ°” API æ¥å£å¯¹æ¯”æµ‹è¯„ å¿ƒçŸ¥å¤©æ°”-ä»·æ ¼æ–¹æ¡ˆ å’Œé£å¤©æ°”-FAQ H5+JavascriptæŠ€æœ¯ç»“æ„å›¾ è…¾è®¯ä½ç½®æœåŠ¡-å¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆ-ä¸ªæ€§åŒ–åœ°å›¾æ ·å¼ è¯´æ˜ å¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘åœ¨è¿™é‡Œå…ˆå‘æ‚¨é“æ­‰ï¼Œè¿˜è¯·è”ç³»æˆ‘è¿›è¡Œå¤„ç†\nemail: thread_zhou@126.com","title":"å¾®å¤©æ°”-æŠ€æœ¯é¢„ç ”"},{"content":"å‰è¨€ å¤©æ°”å°ç¨‹åºäº§ç”Ÿäº2022å¹´å¹´åˆï¼Œç›®çš„æ˜¯ç”¨äºéªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘ï¼ˆä»…å‰åç«¯ï¼‰çš„èƒ½åŠ›ã€‚è¯¥é¡¹ç›®ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬ï¼ˆ1.1.9ï¼‰ï¼Œæ€»ä½“è€—æ—¶2ä¸ªæœˆé›¶7å¤©ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±70åˆ†ã€‚\nå®Œæˆå†…å®¹ å’Œé£å¤©æ°”APIæ¥å…¥ï¼Œå¯å®ç°å®æ—¶å¤©æ°”ã€å®æ—¶ç©ºæ°”ã€24å°æ—¶å¤©æ°”é¢„æŠ¥ã€7å¤©å¤©æ°”é¢„æŠ¥ ä½¿ç”¨echarts for wechatè¿›è¡Œ24å°æ—¶å¤©æ°”é¢„æŠ¥å±•ç¤º é€šè¿‡è…¾è®¯ä½ç½®æœåŠ¡æä¾›çš„å¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆå®ç°åœ°å›¾ä¸ªæ€§åŒ–å±•ç¤ºï¼ˆç›®å‰ä½¿ç”¨é£æ ¼ï¼šç™½æµ…ï¼‰ é€šè¿‡è‡ªå»ºæœåŠ¡å®ç°å°ç¨‹åºé™é»˜ç™»å½• é€šè¿‡è‡ªå»ºæœåŠ¡å®ç°å…³æ³¨åŸå¸‚çš„æŒä¹…åŒ–ç®¡ç† å®ç°å¤©æ°”åˆ†äº«åŠŸèƒ½ï¼Œé€šè¿‡ç”Ÿæˆä¸€å¼ å›¾ç‰‡è¿›è¡Œåˆ†äº«ï¼Œå¯ç›´æ¥åˆ†äº«ç»™æœ‹å‹æˆ–ç¾¤ç»„ é»˜è®¤é€šè¿‡å®šä½è·å–æ‰€åœ¨ä½ç½®çš„å¤©æ°”æ•°æ® å¤©æ°”æ•°æ®å‡é€šè¿‡æœåŠ¡ç«¯ä»£ç†è¿›è¡Œè·å–ï¼Œä»è€Œé¿å…ç›¸å…³keyç›´æ¥æš´éœ²åœ¨å®¢æˆ·ç«¯ æä¾›é€šè¿‡ç»çº¬åº¦æŸ¥è¯¢æ‰€å¤„è¡Œæ”¿åŒºåˆ’çš„æœåŠ¡ï¼Œæä¾›è¡Œæ”¿åŒºåˆ’æŸ¥è¯¢æœåŠ¡ï¼Œçš†å¯è·å–å¯¹åº”è¡Œæ”¿åŒºåˆ’ä¸­å¿ƒç‚¹åŸºäºè¾¹ç•Œæ•°æ®ï¼Œæ•°æ®åæ ‡ä¸º4326 æœåŠ¡é€šè¿‡github actionè‡ªåŠ¨åŒ–è¿›è¡Œdockeræ„å»ºï¼Œå¹¶æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä»“åº“ï¼Œè€Œååœ¨é˜¿é‡Œäº‘ecsä¸­ç›´æ¥æ‹‰å–dockerè¿›è¡Œéƒ¨ç½² å›¾ç‰‡æœåŠ¡åˆ™æ˜¯é€šè¿‡nginxå®ç°åå‘ä»£ç†ï¼Œå›¾ç‰‡ç”±dockerå®¹å™¨å†…æœåŠ¡åˆ›å»ºï¼Œé€šè¿‡dockeræ–‡ä»¶æ˜ å°„åŠŸèƒ½æ˜ å°„åˆ°äº‘ä¸»æœºï¼Œå†é€šè¿‡nginxå¯å®ç°å›¾ç‰‡çš„è®¿é—® æœåŠ¡ä¸å›¾ç‰‡å‡å®ç°åŸŸåè®¿é—®ï¼Œä¸”å‡æä¾›sslè¯ä¹¦ ä¸è¶³ æœªå®ç°å¤©æ°”åœ°å›¾å¯è§†åŒ–ï¼Œå³åŸºäºmapboxè¿›è¡Œåœ°å›¾å¯è§†åŒ–ï¼ˆwebviewéœ€è¦ä¼ä¸šè®¤è¯èµ„è´¨ï¼‰ æœªæä¾›åæ ‡è½¬æ¢åŠŸèƒ½ï¼Œå› ç›®å‰ä½¿ç”¨çš„æ˜¯è…¾è®¯åœ°å›¾ï¼ˆgcj02ï¼Œå³ä»åœ°å›¾è·å–çš„æ•°æ®å‡ä¸ºgcj02ï¼‰ï¼Œè¡Œæ”¿åŒºåˆ’æ•°æ®ä¸º4326ï¼ˆwgs84ï¼‰ï¼Œç›®å‰æ˜¯ç›´æ¥å°†4326ä½œä¸ºgcj02è¿›è¡Œä½¿ç”¨ï¼ˆå› ä¸ºæ•°æ®çš„ç²’åº¦ä¸ºåŒºå¿ï¼Œæ‰€ä»¥å·®å¼‚ä¸ä¼šå¾ˆå¤§ï¼Œé™¤éåœ¨è¡Œæ”¿åŒºè¾¹ç•Œå¤„å¯èƒ½ä¼šå‡ºç°è¡Œæ”¿åŒºæ˜¾ç¤ºé”™è¯¯é—®é¢˜ï¼‰ æœªå®Œæ•´å®ç°å°ç¨‹åºæœ‹å‹åœˆåˆ†äº«åŠŸèƒ½ï¼Œå› è¯¥åŠŸèƒ½éœ€è¦æ‰€åˆ†äº«é¡µé¢çš„æ•°æ®å¯ç›´æ¥è·å–ï¼Œä¸”åˆ†äº«é¡µé¢å°ç¨‹åºç™»å½•åŠŸèƒ½å·²è¢«é™åˆ¶ï¼Œæ‰€ä»¥ç›®å‰æ— æ³•ç›´æ¥æä¾›æ•°æ®è·å–æœåŠ¡ï¼ˆéœ€è¦è¿›è¡Œç™»å½•æ€æ ¡éªŒï¼Œè€ƒè™‘åˆ°è¢«æ”»å‡»çš„å¯èƒ½ï¼‰ æœªå®Œæˆå¤©æ°”é¢„è­¦æ•°æ®æ¥å…¥ä¸æç¤ºåŠŸèƒ½ æœªå®Œæˆæ•°æ®æ¨é€ã€ä¸ªäººä¸»é¡µã€å›¾å±‚ç®¡ç†åŠŸèƒ½ åˆ†äº«å›¾ç‰‡ä¸­æœªå®ç°å¤©æ°”äº‘å›¾å åŠ åŠŸèƒ½ï¼Œä»…è·å–äº†æ‰€åœ¨ä½ç½®èŒƒå›´çš„å½±åƒå›¾ä¸ç›¸å…³æ³¨è®° æœåŠ¡ç«¯ä»£ç å°è£…åº¦ä¸å¤Ÿï¼Œä¸”DDDçš„è®¤çŸ¥ä¸è¶³ï¼Œå¯¼è‡´å®è·µä¹±ä¸ƒå…«ç³Ÿ å†…å®¹ æˆ‘è®¡åˆ’å°†æ‹‚è¡£å¤©æ°”å¼€å‘çš„å®Œæ•´è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œä¸‹é¢æ˜¯æˆ‘å¯¹è¯¥æ•´ä½“å†…å®¹çš„ç¼–å†™è®¡åˆ’ï¼š\nName Key Words Summary åºç«  å‰æœŸè°ƒç ” æ¨¡å‹è®¾è®¡ å¼€å‘ç¯å¢ƒå‡†å¤‡ è¡Œæ”¿åŒºåˆ’æ•°æ®å‡†å¤‡ å°ç¨‹åºé™é»˜ç™»é™†å®ç° å°ç¨‹åºå¼€å‘ï¼ˆä¸€ï¼‰ è¯´æ˜ä¸»é¡µå¸ƒå±€æ„å»ºï¼Œç»„ä»¶æ‹†åˆ†æƒ…å†µï¼Œå®ç°åœ°å›¾åŠ è½½ä»¥åŠå®šä½ å°ç¨‹åºå¼€å‘ï¼ˆäºŒï¼‰ å®ç°ä¸Šä¸‹æ»‘åŠ¨åŠŸèƒ½å¼€å‘ï¼Œä»¥åŠå·¦å³æ»‘åŠ¨ç»„ä»¶å°è£… å°ç¨‹åºå¼€å‘ï¼ˆä¸‰ï¼‰ å®æ—¶å¤©æ°”æ å¡ç‰‡ã€æ–‡å­—æè¿°ã€åº•éƒ¨7å¤©å¤©æ°”é¢„æŠ¥ä»¥åŠFooteréƒ¨åˆ†å¼€å‘ å°ç¨‹åºå¼€å‘ï¼ˆå››ï¼‰ å®Œæˆechartsç»„ä»¶å°è£… å¤©æ°”ä»£ç†æœåŠ¡å¼€å‘ æä¾›å®æ—¶å¤©æ°”ã€å®æ—¶ç©ºæ°”è´¨é‡ã€24å°æ—¶å¤©æ°”é¢„æŠ¥ã€7å¤©å¤©æ°”é¢„æŠ¥ä»£ç†æœåŠ¡å¼€å‘ å°ç¨‹åºå¼€å‘ï¼ˆäº”ï¼‰ å®Œæˆå¤©æ°”éƒ¨åˆ†APIå¯¹æ¥ è¡Œæ”¿åŒºåˆ’æœåŠ¡å¼€å‘ æä¾›è¡Œæ”¿åŒºåˆ’æŸ¥è¯¢æœåŠ¡ å…³æ³¨åŸå¸‚æœåŠ¡å¼€å‘ æä¾›å¯¹åŸå¸‚çš„å…³æ³¨ä¸å–æ¶ˆå…³æ³¨èƒ½åŠ› å°ç¨‹åºå¼€å‘ï¼ˆå…­ï¼‰ å®Œæˆå¤©æ°”å›¾ç‰‡åˆ†äº«åŠŸèƒ½ å°ç¨‹åºå¼€å‘ï¼ˆä¸ƒï¼‰ å®ŒæˆåŸå¸‚é€‰æ‹©é¡µé¢å¼€å‘ä¸æ•°æ®APIå¯¹æ¥ Github ActionæœåŠ¡å‘å¸ƒ å°ç¨‹åºæœåŠ¡å‘å¸ƒ ç»ˆç¯‡ å‚è€ƒ æ³¨ï¼šæ‹‚è¡£å¤©æ°”å°ç¨‹åºçš„ç•Œé¢è®¾è®¡ä¸äº¤äº’è®¾è®¡ä¸»è¦å‚è€ƒå’Œé£å¤©æ°”APPã€‚å½“å‰æ‰€è¿°æ‹‚è¡£å¤©æ°”å°ç¨‹åºçš„å¼€å‘ä¸»è¦ç”¨äºå­¦ä¹ ã€‚\nè‡´æ•¬å’Œé£å¤©æ°”ï¼\nå’Œé£å¤©æ°” å’Œé£å¤©æ°”å¼€å‘å¹³å° ","permalink":"https://fuyi-atlas.github.io/posts/program/micro-weather/001/","summary":"å‰è¨€ å¤©æ°”å°ç¨‹åºäº§ç”Ÿäº2022å¹´å¹´åˆï¼Œç›®çš„æ˜¯ç”¨äºéªŒè¯è‡ªå·±æ˜¯å¦æœ‰è¿›å…¥å…¨æ ˆå¼€å‘ï¼ˆä»…å‰åç«¯ï¼‰çš„èƒ½åŠ›ã€‚è¯¥é¡¹ç›®ä»2022å¹´1æœˆ12å·æ­£å¼å¯åŠ¨ï¼Œäº2022å¹´3æœˆ19æ—¥å‘å¸ƒä¸€é˜¶æ®µæœ€ç»ˆç‰ˆæœ¬ï¼ˆ1.1.9ï¼‰ï¼Œæ€»ä½“è€—æ—¶2ä¸ªæœˆé›¶7å¤©ã€‚ä»å†…å®¹å®Œæ•´åº¦ä»¥åŠç•Œé¢å‹å¥½ç¨‹åº¦æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±70åˆ†ã€‚\nå®Œæˆå†…å®¹ å’Œé£å¤©æ°”APIæ¥å…¥ï¼Œå¯å®ç°å®æ—¶å¤©æ°”ã€å®æ—¶ç©ºæ°”ã€24å°æ—¶å¤©æ°”é¢„æŠ¥ã€7å¤©å¤©æ°”é¢„æŠ¥ ä½¿ç”¨echarts for wechatè¿›è¡Œ24å°æ—¶å¤©æ°”é¢„æŠ¥å±•ç¤º é€šè¿‡è…¾è®¯ä½ç½®æœåŠ¡æä¾›çš„å¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆå®ç°åœ°å›¾ä¸ªæ€§åŒ–å±•ç¤ºï¼ˆç›®å‰ä½¿ç”¨é£æ ¼ï¼šç™½æµ…ï¼‰ é€šè¿‡è‡ªå»ºæœåŠ¡å®ç°å°ç¨‹åºé™é»˜ç™»å½• é€šè¿‡è‡ªå»ºæœåŠ¡å®ç°å…³æ³¨åŸå¸‚çš„æŒä¹…åŒ–ç®¡ç† å®ç°å¤©æ°”åˆ†äº«åŠŸèƒ½ï¼Œé€šè¿‡ç”Ÿæˆä¸€å¼ å›¾ç‰‡è¿›è¡Œåˆ†äº«ï¼Œå¯ç›´æ¥åˆ†äº«ç»™æœ‹å‹æˆ–ç¾¤ç»„ é»˜è®¤é€šè¿‡å®šä½è·å–æ‰€åœ¨ä½ç½®çš„å¤©æ°”æ•°æ® å¤©æ°”æ•°æ®å‡é€šè¿‡æœåŠ¡ç«¯ä»£ç†è¿›è¡Œè·å–ï¼Œä»è€Œé¿å…ç›¸å…³keyç›´æ¥æš´éœ²åœ¨å®¢æˆ·ç«¯ æä¾›é€šè¿‡ç»çº¬åº¦æŸ¥è¯¢æ‰€å¤„è¡Œæ”¿åŒºåˆ’çš„æœåŠ¡ï¼Œæä¾›è¡Œæ”¿åŒºåˆ’æŸ¥è¯¢æœåŠ¡ï¼Œçš†å¯è·å–å¯¹åº”è¡Œæ”¿åŒºåˆ’ä¸­å¿ƒç‚¹åŸºäºè¾¹ç•Œæ•°æ®ï¼Œæ•°æ®åæ ‡ä¸º4326 æœåŠ¡é€šè¿‡github actionè‡ªåŠ¨åŒ–è¿›è¡Œdockeræ„å»ºï¼Œå¹¶æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä»“åº“ï¼Œè€Œååœ¨é˜¿é‡Œäº‘ecsä¸­ç›´æ¥æ‹‰å–dockerè¿›è¡Œéƒ¨ç½² å›¾ç‰‡æœåŠ¡åˆ™æ˜¯é€šè¿‡nginxå®ç°åå‘ä»£ç†ï¼Œå›¾ç‰‡ç”±dockerå®¹å™¨å†…æœåŠ¡åˆ›å»ºï¼Œé€šè¿‡dockeræ–‡ä»¶æ˜ å°„åŠŸèƒ½æ˜ å°„åˆ°äº‘ä¸»æœºï¼Œå†é€šè¿‡nginxå¯å®ç°å›¾ç‰‡çš„è®¿é—® æœåŠ¡ä¸å›¾ç‰‡å‡å®ç°åŸŸåè®¿é—®ï¼Œä¸”å‡æä¾›sslè¯ä¹¦ ä¸è¶³ æœªå®ç°å¤©æ°”åœ°å›¾å¯è§†åŒ–ï¼Œå³åŸºäºmapboxè¿›è¡Œåœ°å›¾å¯è§†åŒ–ï¼ˆwebviewéœ€è¦ä¼ä¸šè®¤è¯èµ„è´¨ï¼‰ æœªæä¾›åæ ‡è½¬æ¢åŠŸèƒ½ï¼Œå› ç›®å‰ä½¿ç”¨çš„æ˜¯è…¾è®¯åœ°å›¾ï¼ˆgcj02ï¼Œå³ä»åœ°å›¾è·å–çš„æ•°æ®å‡ä¸ºgcj02ï¼‰ï¼Œè¡Œæ”¿åŒºåˆ’æ•°æ®ä¸º4326ï¼ˆwgs84ï¼‰ï¼Œç›®å‰æ˜¯ç›´æ¥å°†4326ä½œä¸ºgcj02è¿›è¡Œä½¿ç”¨ï¼ˆå› ä¸ºæ•°æ®çš„ç²’åº¦ä¸ºåŒºå¿ï¼Œæ‰€ä»¥å·®å¼‚ä¸ä¼šå¾ˆå¤§ï¼Œé™¤éåœ¨è¡Œæ”¿åŒºè¾¹ç•Œå¤„å¯èƒ½ä¼šå‡ºç°è¡Œæ”¿åŒºæ˜¾ç¤ºé”™è¯¯é—®é¢˜ï¼‰ æœªå®Œæ•´å®ç°å°ç¨‹åºæœ‹å‹åœˆåˆ†äº«åŠŸèƒ½ï¼Œå› è¯¥åŠŸèƒ½éœ€è¦æ‰€åˆ†äº«é¡µé¢çš„æ•°æ®å¯ç›´æ¥è·å–ï¼Œä¸”åˆ†äº«é¡µé¢å°ç¨‹åºç™»å½•åŠŸèƒ½å·²è¢«é™åˆ¶ï¼Œæ‰€ä»¥ç›®å‰æ— æ³•ç›´æ¥æä¾›æ•°æ®è·å–æœåŠ¡ï¼ˆéœ€è¦è¿›è¡Œç™»å½•æ€æ ¡éªŒï¼Œè€ƒè™‘åˆ°è¢«æ”»å‡»çš„å¯èƒ½ï¼‰ æœªå®Œæˆå¤©æ°”é¢„è­¦æ•°æ®æ¥å…¥ä¸æç¤ºåŠŸèƒ½ æœªå®Œæˆæ•°æ®æ¨é€ã€ä¸ªäººä¸»é¡µã€å›¾å±‚ç®¡ç†åŠŸèƒ½ åˆ†äº«å›¾ç‰‡ä¸­æœªå®ç°å¤©æ°”äº‘å›¾å åŠ åŠŸèƒ½ï¼Œä»…è·å–äº†æ‰€åœ¨ä½ç½®èŒƒå›´çš„å½±åƒå›¾ä¸ç›¸å…³æ³¨è®° æœåŠ¡ç«¯ä»£ç å°è£…åº¦ä¸å¤Ÿï¼Œä¸”DDDçš„è®¤çŸ¥ä¸è¶³ï¼Œå¯¼è‡´å®è·µä¹±ä¸ƒå…«ç³Ÿ å†…å®¹ æˆ‘è®¡åˆ’å°†æ‹‚è¡£å¤©æ°”å¼€å‘çš„å®Œæ•´è¿‡ç¨‹é€šè¿‡æ–‡ç« çš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œä¸‹é¢æ˜¯æˆ‘å¯¹è¯¥æ•´ä½“å†…å®¹çš„ç¼–å†™è®¡åˆ’ï¼š\nName Key Words Summary åºç«  å‰æœŸè°ƒç ” æ¨¡å‹è®¾è®¡ å¼€å‘ç¯å¢ƒå‡†å¤‡ è¡Œæ”¿åŒºåˆ’æ•°æ®å‡†å¤‡ å°ç¨‹åºé™é»˜ç™»é™†å®ç° å°ç¨‹åºå¼€å‘ï¼ˆä¸€ï¼‰ è¯´æ˜ä¸»é¡µå¸ƒå±€æ„å»ºï¼Œç»„ä»¶æ‹†åˆ†æƒ…å†µï¼Œå®ç°åœ°å›¾åŠ è½½ä»¥åŠå®šä½ å°ç¨‹åºå¼€å‘ï¼ˆäºŒï¼‰ å®ç°ä¸Šä¸‹æ»‘åŠ¨åŠŸèƒ½å¼€å‘ï¼Œä»¥åŠå·¦å³æ»‘åŠ¨ç»„ä»¶å°è£… å°ç¨‹åºå¼€å‘ï¼ˆä¸‰ï¼‰ å®æ—¶å¤©æ°”æ å¡ç‰‡ã€æ–‡å­—æè¿°ã€åº•éƒ¨7å¤©å¤©æ°”é¢„æŠ¥ä»¥åŠFooteréƒ¨åˆ†å¼€å‘ å°ç¨‹åºå¼€å‘ï¼ˆå››ï¼‰ å®Œæˆechartsç»„ä»¶å°è£… å¤©æ°”ä»£ç†æœåŠ¡å¼€å‘ æä¾›å®æ—¶å¤©æ°”ã€å®æ—¶ç©ºæ°”è´¨é‡ã€24å°æ—¶å¤©æ°”é¢„æŠ¥ã€7å¤©å¤©æ°”é¢„æŠ¥ä»£ç†æœåŠ¡å¼€å‘ å°ç¨‹åºå¼€å‘ï¼ˆäº”ï¼‰ å®Œæˆå¤©æ°”éƒ¨åˆ†APIå¯¹æ¥ è¡Œæ”¿åŒºåˆ’æœåŠ¡å¼€å‘ æä¾›è¡Œæ”¿åŒºåˆ’æŸ¥è¯¢æœåŠ¡ å…³æ³¨åŸå¸‚æœåŠ¡å¼€å‘ æä¾›å¯¹åŸå¸‚çš„å…³æ³¨ä¸å–æ¶ˆå…³æ³¨èƒ½åŠ› å°ç¨‹åºå¼€å‘ï¼ˆå…­ï¼‰ å®Œæˆå¤©æ°”å›¾ç‰‡åˆ†äº«åŠŸèƒ½ å°ç¨‹åºå¼€å‘ï¼ˆä¸ƒï¼‰ å®ŒæˆåŸå¸‚é€‰æ‹©é¡µé¢å¼€å‘ä¸æ•°æ®APIå¯¹æ¥ Github ActionæœåŠ¡å‘å¸ƒ å°ç¨‹åºæœåŠ¡å‘å¸ƒ ç»ˆç¯‡ å‚è€ƒ æ³¨ï¼šæ‹‚è¡£å¤©æ°”å°ç¨‹åºçš„ç•Œé¢è®¾è®¡ä¸äº¤äº’è®¾è®¡ä¸»è¦å‚è€ƒå’Œé£å¤©æ°”APPã€‚å½“å‰æ‰€è¿°æ‹‚è¡£å¤©æ°”å°ç¨‹åºçš„å¼€å‘ä¸»è¦ç”¨äºå­¦ä¹ ã€‚\nè‡´æ•¬å’Œé£å¤©æ°”ï¼\nå’Œé£å¤©æ°” å’Œé£å¤©æ°”å¼€å‘å¹³å° ","title":"å¾®å¤©æ°”-åºç« "},{"content":"1. ä¸ºä»€ä¹ˆ Java éœ€è¦è¿è¡Œæ—¶ç¯å¢ƒ 1.1. Java ç¨‹åºçš„å¯åŠ¨æ–¹å¼ IDEä¸­å¯åŠ¨ï¼Œæ¯”å¦‚ï¼šEclipseã€IntelliJ IDEA æ„å»ºä¸º jarï¼Œé€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼å¯åŠ¨ï¼Œæ¯”å¦‚ï¼šjava -jar application.jar ä½¿ç”¨æ„å»ºå·¥å…·ï¼ˆå¦‚ï¼šGradleã€Mavenï¼‰å¯åŠ¨ï¼Œæ¯”å¦‚ SpringBoot åº”ç”¨å¯åŠ¨ï¼šgradle bootRunã€mvn spring-boot:run 1.2. JRE æ˜¯ä»€ä¹ˆ åœ¨è¿™é‡Œå¼•ç”¨æå®¢æ—¶é—´è¯¾ç¨‹Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²ä¸­çš„ä¸€æ®µè¯\næˆ‘ä»¬æ—¥å¸¸ä¼šæ¥è§¦åˆ° JREï¼ˆJava Runtime Environmentï¼‰ æˆ–è€… JDKï¼ˆJava Development Kitï¼‰ã€‚JREï¼Œä¹Ÿå°±æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒï¼Œä»…åŒ…å«è¿è¡Œ Java ç¨‹åºçš„å¿…é¡»ç»„ä»¶ï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºä»¥åŠ Java æ ¸å¿ƒç±»åº“ç­‰ã€‚è€Œ JDK å¯ä»¥çœ‹ä½œæ˜¯ JRE çš„ä¸€ä¸ªè¶…é›†ï¼Œæä¾›äº†æ›´å¤šå·¥å…·ï¼Œæ¯”å¦‚ç¼–è¯‘å™¨ã€å„ç§è¯Šæ–­å·¥å…·ç­‰ã€‚\n1.3. ä¸ºä»€ä¹ˆéœ€è¦è¿è¡Œæ—¶ç¯å¢ƒ ä¸æ˜¯æœ‰è¿™ä¹ˆä¸€å¥è¯ä¹ˆï¼Œè®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªé—´æ¥çš„ä¸­é—´å±‚æ¥è§£å†³ã€‚è¯è¯´å›æ¥ï¼ŒJava ä»£ç è¿è¡Œä¹‹æ‰€ä»¥éœ€è¦è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¸»è¦æ˜¯ç”±äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„åŸå› ï¼š\nJava è¯­è¨€è¯­æ³•éå¸¸å¤æ‚ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œç›´æ¥åœ¨ç¡¬ä»¶ä¸Šè¿è¡Œè¿™ç§å¤æ‚çš„ç¨‹åºå¹¶ä¸ç°å®ï¼ˆå¹¶ä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯è¿™æ ·é€ æˆä¸ç›¸åº”ç¡¬ä»¶çš„å¼ºè€¦åˆï¼Œä¸”ä¸ä¾¿äºæŠ½è±¡å’Œå¤æ‚è¯­æ³•çš„å®ç°ã€‚ï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨è¿è¡Œä¹‹å‰è¿›è¡Œä¸€ç•ªè½¬æ¢ã€‚\nå®ç°å¹³å°æ— å…³æ€§ã€åšåˆ° â€œWrite once, run anywhereâ€ï¼Œè·å¾—è·¨å¹³å°çš„èƒ½åŠ›ã€‚è¿™æ ·ä¾¿éœ€è¦ä¸€ä¸ªä¸­é—´å±‚è¿›è¡Œè§£è€¦ï¼Œè¾¾åˆ°ä¸Šå±‚ç»Ÿä¸€ç¼–ç ã€ä¸‹å±‚è·¨è¶Šå¹³å°ã€ä¸­é—´å®ç°å…¼å®¹ï¼ˆæ‰€ä»¥ï¼ŒJava è¯­è¨€çš„è·¨å¹³å°ç‰¹æ€§æ˜¯ç”± Java è¿è¡Œæ—¶ç¯å¢ƒå®ç°çš„ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸åŒå¹³å°çš†æœ‰ä¸ä¹‹ç›¸å¯¹åº”çš„ Java è¿è¡Œæ—¶ç¯å¢ƒï¼Œå®ç°ç›¸åŒå®šä¹‰ã€ä¸åŒå®ç°ã€‚è¿™æ ·çš„æ€æƒ³æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå½“ç„¶ï¼Œè¿™ä»…æ˜¯æˆ‘çš„ç†è§£ï¼‰ã€‚\næä¾›æ‰˜ç®¡ç¯å¢ƒï¼ˆManaged Runtimeï¼‰ï¼Œè¯¥æ‰˜ç®¡ç¯å¢ƒå¯ä»¥ä»£æ›¿æˆ‘ä»¬å¤„ç†ä¸€äº›é€šç”¨çš„ã€å®¹æ˜“å‡ºé”™çš„ã€é«˜éš¾åº¦çš„è¡Œä¸ºï¼Œæ¯”å¦‚è‡ªåŠ¨å†…å­˜ç®¡ç†ã€åƒåœ¾å›æ”¶ã€å®‰å…¨æƒé™åŠ¨æ€æ£€æµ‹ç­‰ã€‚\n2. Java ä»£ç åœ¨è™šæ‹Ÿæœºä¸­æ˜¯æ€æ ·è¿è¡Œçš„ 2.1. è™šæ‹Ÿæœºè§†è§’ æ‰§è¡Œ Java ä»£ç é¦–å…ˆéœ€è¦å°†å®ƒç¼–è¯‘è€Œæˆçš„ class æ–‡ä»¶åŠ è½½åˆ° Java è™šæ‹Ÿæœºä¸­ï¼ŒåŠ è½½åçš„ Java ç±»ä¼šè¢«å­˜æ”¾åˆ°æ–¹æ³•åŒºä¸­ã€‚å®é™…è¿è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºä¼šæ‰§è¡Œæ–¹æ³•åŒºå†…çš„ä»£ç ï¼ˆéœ€è¦å°†å­—èŠ‚ç ç¿»è¯‘ä¸ºæœºå™¨ç ï¼Œåœ¨ HotSpot å®ç°ä¸­ï¼Œæœ‰è§£é‡Šæ‰§è¡Œå’Œå³æ—¶ç¼–è¯‘ä¸¤ç§ï¼‰ã€‚\nä¸‹å›¾ä¸º Javaè™šæ‹Ÿæœºçš„æ•´ä½“å†…å­˜ç»“æ„å›¾ï¼ˆå¹¶ä¸ç»†è‡´ï¼‰ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒJava è™šæ‹Ÿæœºå°†æ ˆç»†åˆ†ä¸º Java æ–¹æ³•æ ˆï¼ˆJava è™šæ‹Ÿæœºæ ˆï¼‰å’Œé¢å‘æœ¬åœ°æ–¹æ³•ï¼ˆç”¨ C++ å†™çš„ native æ–¹æ³•ï¼‰çš„æœ¬åœ°æ–¹æ³•æ ˆï¼Œä»¥åŠå­˜æ”¾å„ä¸ªçº¿ç¨‹çš„ PC å¯„å­˜å™¨ï¼ˆæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ PC å¯„å­˜å™¨ï¼Œä¹Ÿæ˜¯è¯¥çº¿ç¨‹å¯åŠ¨æ—¶åˆ›å»ºçš„ï¼‰ã€‚\nåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯å½“è°ƒç”¨è¿›å…¥ä¸€ä¸ª Java æ–¹æ³•ï¼ŒJava è™šæ‹Ÿæœºä¼šåœ¨å½“å‰çº¿ç¨‹çš„ Java æ–¹æ³•æ ˆä¸­ç”Ÿæˆä¸€ä¸ªæ ˆå¸§ï¼ˆå¹¶å…¥æ ˆï¼‰ï¼Œç”¨äºå­˜æ”¾å±€éƒ¨å˜é‡ä»¥åŠå­—èŠ‚ç çš„æ“ä½œæ•°ã€‚è¿™ä¸ªæ ˆå¸§çš„å¤§å°æ˜¯æå‰è®¡ç®—å¥½çš„ï¼ˆç¼–è¯‘ä¸ºå­—èŠ‚ç çš„è¿‡ç¨‹ä¸­è®¡ç®—çš„ï¼‰ï¼Œè€Œä¸” Java è™šæ‹Ÿæœºä¸è¦æ±‚æ ˆå¸§åœ¨å†…å­˜ç©ºé—´é‡Œè¿ç»­åˆ†å¸ƒã€‚å½“é€€å‡ºå½“å‰æ‰§è¡Œçš„æ–¹æ³•æ˜¯ï¼Œä¸ç®¡æ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸è¿”å›ï¼ŒJava è™šæ‹Ÿæœºå‡ä¼šå°†è¯¥æ–¹æ³•å¯¹åº”çš„æ ˆå¸§å¼¹å‡ºï¼ˆå‡ºæ ˆå¹¶èˆå¼ƒï¼‰ã€‚\n2.2. ç¡¬ä»¶è§†è§’ Java å­—èŠ‚ç æ— æ³•åœ¨ç¡¬ä»¶ä¸Šç›´æ¥æ‰§è¡Œï¼Œå› æ­¤ï¼ŒJava è™šæ‹Ÿæœºéœ€è¦å°†å­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨ç ã€‚åœ¨ HotSpot é‡Œé¢ï¼Œä¸Šè¿°ç¿»è¯‘è¿‡ç¨‹æœ‰ä¸¤ç§å½¢å¼ï¼šç¬¬ä¸€ç§æ˜¯è§£é‡Šæ‰§è¡Œï¼Œå³é€æ¡å°†å­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨ç æ‰§è¡Œï¼›ç¬¬äºŒç§æ˜¯å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰ï¼Œå³å°†ä¸€ä¸ªæ–¹æ³•ä¸­åŒ…å«çš„æ‰€æœ‰å­—èŠ‚ç¼–è¯‘æˆæœºå™¨ç åå†æ‰§è¡Œã€‚ï¼ˆç¼–è¯‘æ‰§è¡Œä¸ç¼–è¯‘æ‰§è¡Œçš„åŒºåˆ«å¯ç±»æ¯”ä¸ºåŒå£°ä¼ è¯‘ä¸æ”¾å½•éŸ³ï¼ŒåŒå£°ä¼ è¯‘æ¯ä¸€æ¬¡éƒ½éœ€è¦å®Œæ•´çš„æ‰§è¡Œï¼Œä½†æ˜¯ä¸éœ€è¦è¿‡å¤šç­‰å¾…ï¼›è€Œæ”¾å½•éŸ³åˆ™æ˜¯ä¸€åŠ³æ°¸é€¸ï¼Œä½†æ˜¯å­˜åœ¨ç¬¬ä¸€æ¬¡çš„å½•éŸ³çš„è¿‡ç¨‹ï¼‰\nè§£é‡Šæ‰§è¡Œçš„ä¼˜åŠ¿åœ¨äºæ— éœ€ç­‰å¾…ç¼–è¯‘ï¼Œè€Œå³æ—¶ç¼–è¯‘çš„ä¼˜åŠ¿åœ¨äºå®é™…è¿è¡Œé€Ÿåº¦æ›´å¿«ã€‚HotSpot é»˜è®¤é‡‡ç”¨æ··åˆæ¨¡å¼ï¼Œç»¼åˆäº†è§£é‡Šæ‰§è¡Œå’Œå³æ—¶ç¼–è¯‘ä¸¤è€…çš„ä¼˜ç‚¹ã€‚å®ƒä¼šå…ˆè§£é‡Šæ‰§è¡Œå­—èŠ‚ç ï¼Œè€Œåå°†å…¶ä¸­åå¤æ‰§è¡Œçš„çƒ­ç‚¹ä»£ç ï¼Œä»¥æ–¹æ³•ä¸ºå•ä½è¿›è¡Œå³æ—¶ç¼–è¯‘ã€‚\n3. ä½œä¸šè§£æ \u0026ndash;\u0026gt; å¾…åŠ\n4. æ€»ç»“ Java éœ€è¦è¿è¡Œæ—¶ç¯å¢ƒæ”¯æŒçš„åŸå› ä¸»è¦æœ‰ï¼š\nè¯­æ³•å¤æ‚ã€é«˜åº¦æŠ½è±¡ å®ç°è·¨å¹³å° æä¾›æ‰˜ç®¡ç¯å¢ƒ Java è™šæ‹Ÿæœºå°†è¿è¡Œæ—¶å†…å­˜åŒºåŸŸåˆ’åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºæ–¹æ³•åŒºã€å †ã€PC å¯„å­˜å™¨ã€Java æ–¹æ³•æ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆã€‚Java ç¨‹åºç¼–è¯‘è€Œæˆçš„ class æ–‡ä»¶ï¼Œéœ€è¦å…ˆåŠ è½½è‡³æ–¹æ³•åŒºä¸­ï¼Œæ–¹èƒ½åœ¨ Java è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚\n5. å‚è€ƒ Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®² æ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœº 6. è¯´æ˜ æˆ‘ä¸æ˜¯åœ¨å–è¯¾ æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥æºäºæå®¢æ—¶é—´ä»¥åŠç½‘ç»œåšæ–‡èŠ‚é€‰ï¼Œå¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘å…ˆå‘æ‚¨é“æ­‰ï¼Œå¦è¿˜è¯·å‘ŠçŸ¥æˆ‘è¿›è¡Œå¤„ç†ï¼Œè°¢è°¢ é‚®ç®±ï¼šthread_zhou@126.com ","permalink":"https://fuyi-atlas.github.io/posts/program/java/jvm/002/","summary":"1. ä¸ºä»€ä¹ˆ Java éœ€è¦è¿è¡Œæ—¶ç¯å¢ƒ 1.1. Java ç¨‹åºçš„å¯åŠ¨æ–¹å¼ IDEä¸­å¯åŠ¨ï¼Œæ¯”å¦‚ï¼šEclipseã€IntelliJ IDEA æ„å»ºä¸º jarï¼Œé€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼å¯åŠ¨ï¼Œæ¯”å¦‚ï¼šjava -jar application.jar ä½¿ç”¨æ„å»ºå·¥å…·ï¼ˆå¦‚ï¼šGradleã€Mavenï¼‰å¯åŠ¨ï¼Œæ¯”å¦‚ SpringBoot åº”ç”¨å¯åŠ¨ï¼šgradle bootRunã€mvn spring-boot:run 1.2. JRE æ˜¯ä»€ä¹ˆ åœ¨è¿™é‡Œå¼•ç”¨æå®¢æ—¶é—´è¯¾ç¨‹Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²ä¸­çš„ä¸€æ®µè¯\næˆ‘ä»¬æ—¥å¸¸ä¼šæ¥è§¦åˆ° JREï¼ˆJava Runtime Environmentï¼‰ æˆ–è€… JDKï¼ˆJava Development Kitï¼‰ã€‚JREï¼Œä¹Ÿå°±æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒï¼Œä»…åŒ…å«è¿è¡Œ Java ç¨‹åºçš„å¿…é¡»ç»„ä»¶ï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºä»¥åŠ Java æ ¸å¿ƒç±»åº“ç­‰ã€‚è€Œ JDK å¯ä»¥çœ‹ä½œæ˜¯ JRE çš„ä¸€ä¸ªè¶…é›†ï¼Œæä¾›äº†æ›´å¤šå·¥å…·ï¼Œæ¯”å¦‚ç¼–è¯‘å™¨ã€å„ç§è¯Šæ–­å·¥å…·ç­‰ã€‚\n1.3. ä¸ºä»€ä¹ˆéœ€è¦è¿è¡Œæ—¶ç¯å¢ƒ ä¸æ˜¯æœ‰è¿™ä¹ˆä¸€å¥è¯ä¹ˆï¼Œè®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªé—´æ¥çš„ä¸­é—´å±‚æ¥è§£å†³ã€‚è¯è¯´å›æ¥ï¼ŒJava ä»£ç è¿è¡Œä¹‹æ‰€ä»¥éœ€è¦è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¸»è¦æ˜¯ç”±äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„åŸå› ï¼š\nJava è¯­è¨€è¯­æ³•éå¸¸å¤æ‚ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œç›´æ¥åœ¨ç¡¬ä»¶ä¸Šè¿è¡Œè¿™ç§å¤æ‚çš„ç¨‹åºå¹¶ä¸ç°å®ï¼ˆå¹¶ä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯è¿™æ ·é€ æˆä¸ç›¸åº”ç¡¬ä»¶çš„å¼ºè€¦åˆï¼Œä¸”ä¸ä¾¿äºæŠ½è±¡å’Œå¤æ‚è¯­æ³•çš„å®ç°ã€‚ï¼‰ï¼Œæ‰€ä»¥éœ€è¦åœ¨è¿è¡Œä¹‹å‰è¿›è¡Œä¸€ç•ªè½¬æ¢ã€‚\nå®ç°å¹³å°æ— å…³æ€§ã€åšåˆ° â€œWrite once, run anywhereâ€ï¼Œè·å¾—è·¨å¹³å°çš„èƒ½åŠ›ã€‚è¿™æ ·ä¾¿éœ€è¦ä¸€ä¸ªä¸­é—´å±‚è¿›è¡Œè§£è€¦ï¼Œè¾¾åˆ°ä¸Šå±‚ç»Ÿä¸€ç¼–ç ã€ä¸‹å±‚è·¨è¶Šå¹³å°ã€ä¸­é—´å®ç°å…¼å®¹ï¼ˆæ‰€ä»¥ï¼ŒJava è¯­è¨€çš„è·¨å¹³å°ç‰¹æ€§æ˜¯ç”± Java è¿è¡Œæ—¶ç¯å¢ƒå®ç°çš„ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸åŒå¹³å°çš†æœ‰ä¸ä¹‹ç›¸å¯¹åº”çš„ Java è¿è¡Œæ—¶ç¯å¢ƒï¼Œå®ç°ç›¸åŒå®šä¹‰ã€ä¸åŒå®ç°ã€‚è¿™æ ·çš„æ€æƒ³æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå½“ç„¶ï¼Œè¿™ä»…æ˜¯æˆ‘çš„ç†è§£ï¼‰ã€‚\næä¾›æ‰˜ç®¡ç¯å¢ƒï¼ˆManaged Runtimeï¼‰ï¼Œè¯¥æ‰˜ç®¡ç¯å¢ƒå¯ä»¥ä»£æ›¿æˆ‘ä»¬å¤„ç†ä¸€äº›é€šç”¨çš„ã€å®¹æ˜“å‡ºé”™çš„ã€é«˜éš¾åº¦çš„è¡Œä¸ºï¼Œæ¯”å¦‚è‡ªåŠ¨å†…å­˜ç®¡ç†ã€åƒåœ¾å›æ”¶ã€å®‰å…¨æƒé™åŠ¨æ€æ£€æµ‹ç­‰ã€‚\n2. Java ä»£ç åœ¨è™šæ‹Ÿæœºä¸­æ˜¯æ€æ ·è¿è¡Œçš„ 2.1. è™šæ‹Ÿæœºè§†è§’ æ‰§è¡Œ Java ä»£ç é¦–å…ˆéœ€è¦å°†å®ƒç¼–è¯‘è€Œæˆçš„ class æ–‡ä»¶åŠ è½½åˆ° Java è™šæ‹Ÿæœºä¸­ï¼ŒåŠ è½½åçš„ Java ç±»ä¼šè¢«å­˜æ”¾åˆ°æ–¹æ³•åŒºä¸­ã€‚å®é™…è¿è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºä¼šæ‰§è¡Œæ–¹æ³•åŒºå†…çš„ä»£ç ï¼ˆéœ€è¦å°†å­—èŠ‚ç ç¿»è¯‘ä¸ºæœºå™¨ç ï¼Œåœ¨ HotSpot å®ç°ä¸­ï¼Œæœ‰è§£é‡Šæ‰§è¡Œå’Œå³æ—¶ç¼–è¯‘ä¸¤ç§ï¼‰ã€‚","title":"æ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœºï¼ˆä¸€ï¼‰"},{"content":"å‰è¨€ æ ‡å‡†å…ˆè¡Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ–°é²œç©æ„ï¼Œä¸è¿‡æ˜¯å…ˆåˆ¶å®šäº‹å®æ ‡å‡†ï¼Œè€Œåä½¿ç”¨è¿™äº›æ ‡å‡†çº¦æŸä¹‹åçš„è¡Œä¸ºã€‚ä¿—è¯è¯´å¾—å¥½ï¼šâ€œæ²¡æœ‰è§„çŸ©ï¼Œä¸æˆæ–¹åœ†â€ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘æƒ³è¯´ä¸€ä¸‹æˆ‘è®¤ä¸ºçš„æ ‡å‡†å…ˆè¡Œä»¥åŠä¸æŒç»­äº¤ä»˜çš„ç»“åˆï¼Œå¸Œæœ›ä¸ä¼šå¯¹ä½ äº§ç”Ÿè¯¯å¯¼ã€‚\nä¸ºä»€ä¹ˆéœ€è¦æ ‡å‡†å…ˆè¡Œ æˆ‘ä»¬å¯ä»¥å…ˆä¸å»é—®ä¸ºä»€ä¹ˆï¼Œè€Œæ˜¯åè¿‡æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚å‡è®¾åœ¨æˆ‘ä»¬çš„äº§ç‰©äº¤ä»˜è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•çš„æ ‡å‡†ï¼Œç»™ä½ è‡ªç”±ï¼Œä¼šå‘ç”Ÿäº›ä»€ä¹ˆé—®é¢˜ã€‚åœ¨ä¸€é˜µå¤´è„‘é£æš´ï¼ˆæŠ½æï¼‰ä¹‹åï¼Œæˆ‘åšå‡ºå¦‚ä¸‹å‡è®¾ï¼š\nä¹±è±¡ç™¾å‡ºï¼Œç¾¤é­”ä¹±èˆã€‚ä¸è®ºæ˜¯æ­£ç¡®çš„è¿˜æ˜¯é”™è¯¯çš„äº§å‡ºï¼Œè§£é‡Šå¦‚æ­¤ã€‚æ¯”å¦‚ï¼Œæ•´ä½“ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ç›´çº¿ä¸‹é™ï¼›åˆ†æ”¯æ¥å›ç©¿æ’ï¼ŒCommit ä¿¡æ¯å¥‡å¥‡æ€ªæ€ªï¼›å¼€å‘ã€æµ‹è¯•ç¯å¢ƒå­˜åœ¨æ··ç”¨ï¼Œæµ‹è¯•æ•°æ®è¿‡äºéšæ„ï¼›éƒ¨ç½²ç”±å¿ƒï¼ŒåŒä¸€ä¸ªåº”ç”¨åœ¨ä¸ç”¨çš„ä¸»æœºä¸Šå­˜æ”¾ä½ç½®å¯èƒ½è¿˜ä¸åŒç­‰ç­‰ã€‚\nè¿‡ç¨‹ã€é˜¶æ®µæ€§äº§ç‰©ä¸ç»Ÿä¸€ï¼Œä¸”è´¨é‡é«˜ä½ä¸é½ï¼Œä¸¥é‡å½±å“ç³»ç»Ÿé›†æˆä¸äº¤ä»˜ã€‚\né«˜æ•ˆå®Œæˆï¼Œä½†å‰ææ˜¯æœ‰ç€æ„è§ä¸€è‡´ã€ç†å¿µç›¸åŒã€æ°´å¹³ç›¸å½“çš„ä¸€ç¾¤äººã€‚\nåœ¨æˆ‘çš„å‡æƒ³ä¸­ï¼Œè‡ªç”±å¸¦æ¥çš„æœ‰å¥½ä¹Ÿæœ‰åã€‚ä½†æ˜¯æˆ‘ä»è®¤ä¸ºå¤§éƒ¨åˆ†çš„æ—¶å€™å‡ºç°çš„éƒ½æ˜¯åçš„å½±å“ï¼Œæ¯•ç«Ÿè¦å¯»æ‰¾åˆ°ä¸€ç¾¤å¿—åŒé“åˆçš„äººä¸€èµ·å…±äº‹ï¼Œå°±å·²ç»æ˜¯ä¸€ä»¶å¾ˆä¸å®¹æ˜“çš„äº‹äº†ï¼Œä¸”ä¸è¯´æ¯ä¸ªäººéƒ½æ˜¯å•ç‹¬çš„ä¸ªä½“ï¼Œå…¶æ€æƒ³ä¸çµé­‚äº¦æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚æ‰€ä»¥ï¼Œä¸ç®¡åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åˆ¶å®šæ ‡å‡†æ¥çº¦æŸæˆ‘ä»¬çš„è¡Œä¸ºã€‚ç»Ÿä¸€æ ‡å‡†ä¸‹çš„è¡Œä¸ºé€ æˆçš„å½±å“å‡ ä¹æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå³ä½¿æ˜¯æ’é”™ã€ä¿®æ”¹æ—¶ä¹Ÿæ˜¯æœ‰è¿¹å¯å¾ªã€‚ï¼ˆåœ¨è¿™é‡Œä¸ä¼šæŠ¬æ æ ‡å‡†ä¸è‡ªç”±çš„å–èˆï¼Œå­˜åœ¨å³æ˜¯åˆç†ã€‚ä½†æ˜¯ä»ä¸¤è€…åœ¨å¤§éƒ¨åˆ†æ—¶å€™æ‰€èƒ½äº§ç”Ÿçš„å½±å“æ¥çœ‹ï¼Œæˆ‘ä¼šé‡‡å–å¼ºæ ‡å‡†ï¼Œè‹¥è‡ªç”±çš„æ–¹å¼ï¼Œä½†è¿™ç»éå°†ä¸¤è€…ç½®ä¸ºå¯¹ç«‹å…³ç³»ã€‚ï¼‰\néƒ½æœ‰å“ªäº›æ ‡å‡†å…ˆè¡Œ æ²¡æœ‰ç»å¯¹é€šç”¨çš„æ ‡å‡†ï¼Œä»»ä½•çš„æ ‡å‡†éƒ½æ˜¯ä¸åŒåœºæ™¯ä¸‹æœ€ä½³å®è·µçš„æ€»ç»“ï¼Œä¸”éœ€è¦æŒç»­çš„è¿›è¡Œä¼˜åŒ–ï¼Œæ˜¯å¯ä»¥ä¼ æ‰¿çš„å®è´µçŸ¥è¯†é›†åˆã€‚ä¹‹æ‰€ä»¥æ‰¯è¿™ä¹ˆä¸€æ®µè¯ï¼Œæˆ‘åªæ˜¯æƒ³è¯´ç›®å‰è¿˜å¤„äºå®è·µé˜¶æ®µï¼Œä½†æ˜¯è¿™å¹¶ä¸å½±å“åˆ¶å®šç›¸å…³çš„æ ‡å‡†ã€‚ä½¿ç”¨è¿‡ SpringBoot å¼€å‘çš„å¤§ä½¬éƒ½çŸ¥é“ä»€ä¹ˆæ˜¯çº¦å®šä¼˜äºé…ç½®ï¼Œæˆ‘è®¤ä¸ºæ ‡å‡†äº¦æ˜¯å¦‚æ­¤ï¼Œå³æ ‡å‡†ä¹‹ä¸Šæ˜¯çº¦å®šã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†éœ€è¦å…ˆè¡Œçš„æ ‡å‡†åˆ†ä¸ºäº†å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\nå¼€å‘æ¨¡å¼ä¸åˆ†æ”¯ç­–ç•¥ï¼ˆå« Commit è§„èŒƒï¼‰ ç¼–ç è§„èŒƒï¼ˆJavaã€JavaScriptï¼‰ API è®¾è®¡è§„èŒƒ æ•°æ®åº“è®¾è®¡è§„èŒƒ ç¯å¢ƒéš”ç¦» éƒ¨ç½²è§„èŒƒ å‘å¸ƒæµæ°´çº¿æ ‡å‡† æ ‡å‡†å…ˆè¡Œä¸æŒç»­äº¤ä»˜ æ€»ç»“ å‚è€ƒæ–‡çŒ® æŒç»­äº¤ä»˜36è®² è¯´æ˜ æˆ‘ä¸æ˜¯åœ¨å–è¯¾ æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥æºäºæå®¢æ—¶é—´ä»¥åŠç½‘ç»œåšæ–‡èŠ‚é€‰ï¼Œå¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘å…ˆå‘æ‚¨é“æ­‰ï¼Œå¦è¿˜è¯·å‘ŠçŸ¥æˆ‘è¿›è¡Œå¤„ç†ï¼Œè°¢è°¢ é‚®ç®±ï¼šthread_zhou@126.com ","permalink":"https://fuyi-atlas.github.io/posts/program/continuous-delivery/002/","summary":"å‰è¨€ æ ‡å‡†å…ˆè¡Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ–°é²œç©æ„ï¼Œä¸è¿‡æ˜¯å…ˆåˆ¶å®šäº‹å®æ ‡å‡†ï¼Œè€Œåä½¿ç”¨è¿™äº›æ ‡å‡†çº¦æŸä¹‹åçš„è¡Œä¸ºã€‚ä¿—è¯è¯´å¾—å¥½ï¼šâ€œæ²¡æœ‰è§„çŸ©ï¼Œä¸æˆæ–¹åœ†â€ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘æƒ³è¯´ä¸€ä¸‹æˆ‘è®¤ä¸ºçš„æ ‡å‡†å…ˆè¡Œä»¥åŠä¸æŒç»­äº¤ä»˜çš„ç»“åˆï¼Œå¸Œæœ›ä¸ä¼šå¯¹ä½ äº§ç”Ÿè¯¯å¯¼ã€‚\nä¸ºä»€ä¹ˆéœ€è¦æ ‡å‡†å…ˆè¡Œ æˆ‘ä»¬å¯ä»¥å…ˆä¸å»é—®ä¸ºä»€ä¹ˆï¼Œè€Œæ˜¯åè¿‡æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚å‡è®¾åœ¨æˆ‘ä»¬çš„äº§ç‰©äº¤ä»˜è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•çš„æ ‡å‡†ï¼Œç»™ä½ è‡ªç”±ï¼Œä¼šå‘ç”Ÿäº›ä»€ä¹ˆé—®é¢˜ã€‚åœ¨ä¸€é˜µå¤´è„‘é£æš´ï¼ˆæŠ½æï¼‰ä¹‹åï¼Œæˆ‘åšå‡ºå¦‚ä¸‹å‡è®¾ï¼š\nä¹±è±¡ç™¾å‡ºï¼Œç¾¤é­”ä¹±èˆã€‚ä¸è®ºæ˜¯æ­£ç¡®çš„è¿˜æ˜¯é”™è¯¯çš„äº§å‡ºï¼Œè§£é‡Šå¦‚æ­¤ã€‚æ¯”å¦‚ï¼Œæ•´ä½“ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ç›´çº¿ä¸‹é™ï¼›åˆ†æ”¯æ¥å›ç©¿æ’ï¼ŒCommit ä¿¡æ¯å¥‡å¥‡æ€ªæ€ªï¼›å¼€å‘ã€æµ‹è¯•ç¯å¢ƒå­˜åœ¨æ··ç”¨ï¼Œæµ‹è¯•æ•°æ®è¿‡äºéšæ„ï¼›éƒ¨ç½²ç”±å¿ƒï¼ŒåŒä¸€ä¸ªåº”ç”¨åœ¨ä¸ç”¨çš„ä¸»æœºä¸Šå­˜æ”¾ä½ç½®å¯èƒ½è¿˜ä¸åŒç­‰ç­‰ã€‚\nè¿‡ç¨‹ã€é˜¶æ®µæ€§äº§ç‰©ä¸ç»Ÿä¸€ï¼Œä¸”è´¨é‡é«˜ä½ä¸é½ï¼Œä¸¥é‡å½±å“ç³»ç»Ÿé›†æˆä¸äº¤ä»˜ã€‚\né«˜æ•ˆå®Œæˆï¼Œä½†å‰ææ˜¯æœ‰ç€æ„è§ä¸€è‡´ã€ç†å¿µç›¸åŒã€æ°´å¹³ç›¸å½“çš„ä¸€ç¾¤äººã€‚\nåœ¨æˆ‘çš„å‡æƒ³ä¸­ï¼Œè‡ªç”±å¸¦æ¥çš„æœ‰å¥½ä¹Ÿæœ‰åã€‚ä½†æ˜¯æˆ‘ä»è®¤ä¸ºå¤§éƒ¨åˆ†çš„æ—¶å€™å‡ºç°çš„éƒ½æ˜¯åçš„å½±å“ï¼Œæ¯•ç«Ÿè¦å¯»æ‰¾åˆ°ä¸€ç¾¤å¿—åŒé“åˆçš„äººä¸€èµ·å…±äº‹ï¼Œå°±å·²ç»æ˜¯ä¸€ä»¶å¾ˆä¸å®¹æ˜“çš„äº‹äº†ï¼Œä¸”ä¸è¯´æ¯ä¸ªäººéƒ½æ˜¯å•ç‹¬çš„ä¸ªä½“ï¼Œå…¶æ€æƒ³ä¸çµé­‚äº¦æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚æ‰€ä»¥ï¼Œä¸ç®¡åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åˆ¶å®šæ ‡å‡†æ¥çº¦æŸæˆ‘ä»¬çš„è¡Œä¸ºã€‚ç»Ÿä¸€æ ‡å‡†ä¸‹çš„è¡Œä¸ºé€ æˆçš„å½±å“å‡ ä¹æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå³ä½¿æ˜¯æ’é”™ã€ä¿®æ”¹æ—¶ä¹Ÿæ˜¯æœ‰è¿¹å¯å¾ªã€‚ï¼ˆåœ¨è¿™é‡Œä¸ä¼šæŠ¬æ æ ‡å‡†ä¸è‡ªç”±çš„å–èˆï¼Œå­˜åœ¨å³æ˜¯åˆç†ã€‚ä½†æ˜¯ä»ä¸¤è€…åœ¨å¤§éƒ¨åˆ†æ—¶å€™æ‰€èƒ½äº§ç”Ÿçš„å½±å“æ¥çœ‹ï¼Œæˆ‘ä¼šé‡‡å–å¼ºæ ‡å‡†ï¼Œè‹¥è‡ªç”±çš„æ–¹å¼ï¼Œä½†è¿™ç»éå°†ä¸¤è€…ç½®ä¸ºå¯¹ç«‹å…³ç³»ã€‚ï¼‰\néƒ½æœ‰å“ªäº›æ ‡å‡†å…ˆè¡Œ æ²¡æœ‰ç»å¯¹é€šç”¨çš„æ ‡å‡†ï¼Œä»»ä½•çš„æ ‡å‡†éƒ½æ˜¯ä¸åŒåœºæ™¯ä¸‹æœ€ä½³å®è·µçš„æ€»ç»“ï¼Œä¸”éœ€è¦æŒç»­çš„è¿›è¡Œä¼˜åŒ–ï¼Œæ˜¯å¯ä»¥ä¼ æ‰¿çš„å®è´µçŸ¥è¯†é›†åˆã€‚ä¹‹æ‰€ä»¥æ‰¯è¿™ä¹ˆä¸€æ®µè¯ï¼Œæˆ‘åªæ˜¯æƒ³è¯´ç›®å‰è¿˜å¤„äºå®è·µé˜¶æ®µï¼Œä½†æ˜¯è¿™å¹¶ä¸å½±å“åˆ¶å®šç›¸å…³çš„æ ‡å‡†ã€‚ä½¿ç”¨è¿‡ SpringBoot å¼€å‘çš„å¤§ä½¬éƒ½çŸ¥é“ä»€ä¹ˆæ˜¯çº¦å®šä¼˜äºé…ç½®ï¼Œæˆ‘è®¤ä¸ºæ ‡å‡†äº¦æ˜¯å¦‚æ­¤ï¼Œå³æ ‡å‡†ä¹‹ä¸Šæ˜¯çº¦å®šã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†éœ€è¦å…ˆè¡Œçš„æ ‡å‡†åˆ†ä¸ºäº†å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\nå¼€å‘æ¨¡å¼ä¸åˆ†æ”¯ç­–ç•¥ï¼ˆå« Commit è§„èŒƒï¼‰ ç¼–ç è§„èŒƒï¼ˆJavaã€JavaScriptï¼‰ API è®¾è®¡è§„èŒƒ æ•°æ®åº“è®¾è®¡è§„èŒƒ ç¯å¢ƒéš”ç¦» éƒ¨ç½²è§„èŒƒ å‘å¸ƒæµæ°´çº¿æ ‡å‡† æ ‡å‡†å…ˆè¡Œä¸æŒç»­äº¤ä»˜ æ€»ç»“ å‚è€ƒæ–‡çŒ® æŒç»­äº¤ä»˜36è®² è¯´æ˜ æˆ‘ä¸æ˜¯åœ¨å–è¯¾ æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥æºäºæå®¢æ—¶é—´ä»¥åŠç½‘ç»œåšæ–‡èŠ‚é€‰ï¼Œå¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘å…ˆå‘æ‚¨é“æ­‰ï¼Œå¦è¿˜è¯·å‘ŠçŸ¥æˆ‘è¿›è¡Œå¤„ç†ï¼Œè°¢è°¢ é‚®ç®±ï¼šthread_zhou@126.com ","title":"æŒç»­äº¤ä»˜ä¹‹æ ‡å‡†ç°è¡Œ"},{"content":"å‰è¨€ è€ç”Ÿé•¿è°ˆï¼ŒJavaæ˜¯ä¸€ä¸ªä»€ä¹ˆäº‹ç‰©ï¼Œéƒ½æœ‰äº›ä»€ä¹ˆæ ·çš„ç‰¹æ€§å‘¢ï¼Ÿ\nJavaï¼šJava æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œæ‹¥æœ‰è·¨å¹³å°ã€é¢å‘å¯¹è±¡ã€æ³›å‹ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œå¹¿æ³›åº”ç”¨äºä¼ä¸šçº§Webåº”ç”¨å¼€å‘å’Œç§»åŠ¨åº”ç”¨å¼€å‘ã€‚\nJava ç¼–ç¨‹è¯­è¨€çš„é£æ ¼ååˆ†æ¥è¿‘C++è¯­è¨€ã€‚ç»§æ‰¿äº†C++è¯­è¨€é¢å‘å¯¹è±¡æŠ€æœ¯çš„æ ¸å¿ƒï¼Œèˆå¼ƒäº†å®¹æ˜“å¼•èµ·é”™è¯¯çš„æŒ‡é’ˆï¼Œä»¥å¼•ç”¨å–ä»£ï¼›ç§»é™¤äº†C++ä¸­çš„è¿ç®—ç¬¦é‡è½½å’Œå¤šé‡ç»§æ‰¿ç‰¹æ€§ï¼Œç”¨æ¥å£å–ä»£ï¼›å¢åŠ åƒåœ¾å›æ”¶å™¨åŠŸèƒ½ã€‚åœ¨Java SE 1.5ç‰ˆæœ¬ä¸­å¼•å…¥äº†æ³›å‹ç¼–ç¨‹ã€ç±»å‹å®‰å…¨çš„æšä¸¾ã€ä¸å®šé•¿å‚æ•°å’Œè‡ªåŠ¨è£…/æ‹†ç®±ç‰¹æ€§ã€‚Sunå¾®ç³»ç»Ÿå¯¹ Javaè¯­è¨€ çš„è§£é‡Šæ˜¯ï¼šâ€œJava ç¼–ç¨‹è¯­è¨€æ˜¯ä¸ªç®€å•ã€é¢å‘å¯¹è±¡ã€åˆ†å¸ƒå¼ã€è§£é‡Šæ€§ã€å¥å£®ã€å®‰å…¨ä¸ç³»ç»Ÿæ— å…³ã€å¯ç§»æ¤ã€é«˜æ€§èƒ½ã€å¤šçº¿ç¨‹å’ŒåŠ¨æ€çš„è¯­è¨€â€ã€‚\nJava ä¸åŒäºä¸€èˆ¬çš„ç¼–è¯‘è¯­è¨€æˆ–è§£é‡Šå‹è¯­è¨€ã€‚å®ƒé¦–å…ˆå°†æºä»£ç ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œå†ä¾èµ–å„ç§ä¸åŒå¹³å°ä¸Šçš„è™šæ‹Ÿæœºæ¥è§£é‡Šæ‰§è¡Œå­—èŠ‚ç ï¼Œä»è€Œå…·æœ‰â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€çš„è·¨å¹³å°ç‰¹æ€§ã€‚åœ¨æ—©æœŸ JVM ä¸­ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº† Java ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ä½†åœ¨J2SE1.4.2å‘å¸ƒåï¼ŒJava çš„è¿è¡Œé€Ÿåº¦æœ‰äº†å¤§å¹…æå‡ã€‚\nä»¥ä¸Šå†…å®¹æ¥è‡ªäºç»´åŸºç™¾ç§‘ï¼Œç»™å®šäº† Java ä¸€ä¸ªæ˜ç¡®çš„å®šä¹‰ï¼Œä½†æ˜¯å¯¹äºJavaå¹³å°ä»¥åŠç‰¹æ€§å¹¶æ²¡æœ‰å¾ˆå¥½çš„å½’ç»“ï¼Œä¸‹é¢æ˜¯æˆ‘æˆªå–è‡ªæå®¢æ—¶é—´Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²çš„éƒ¨åˆ†å†…å®¹ï¼š\nJava æœ¬èº«æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæœ€æ˜¾è‘—çš„ç‰¹æ€§æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€æ˜¯æ‰€è°“çš„â€œä¹¦å†™ä¸€æ¬¡ï¼Œåˆ°å¤„è¿è¡Œâ€ï¼ˆWrite once, run anywhereï¼‰ï¼Œèƒ½å¤Ÿéå¸¸å®¹æ˜“åœ°è·å¾—è·¨å¹³å°èƒ½åŠ›ï¼›å¦å¤–å°±æ˜¯åƒåœ¾æ”¶é›†ï¼ˆGC, Garbage Collectionï¼‰ï¼ŒJava é€šè¿‡åƒåœ¾æ”¶é›†å™¨ï¼ˆGarbage Collectorï¼‰å›æ”¶åˆ†é…å†…å­˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç¨‹åºå‘˜ä¸éœ€è¦è‡ªå·±æ“å¿ƒå†…å­˜çš„åˆ†é…å’Œå›æ”¶ã€‚\næˆ‘ä»¬æ—¥å¸¸ä¼šæ¥è§¦åˆ° JREï¼ˆJava Runtime Environmentï¼‰æˆ–è€… JDKï¼ˆJava Development Kitï¼‰ã€‚ JREï¼Œä¹Ÿå°±æ˜¯ Java è¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº† JVM å’Œ Java ç±»åº“ï¼Œä»¥åŠä¸€äº›æ¨¡å—ç­‰ã€‚è€Œ JDK å¯ä»¥çœ‹ä½œæ˜¯ JRE çš„ä¸€ä¸ªè¶…é›†ï¼Œæä¾›äº†æ›´å¤šå·¥å…·ï¼Œæ¯”å¦‚ç¼–è¯‘å™¨ã€å„ç§è¯Šæ–­å·¥å…·ç­‰ã€‚\nå¯¹äºâ€œJava æ˜¯è§£é‡Šæ‰§è¡Œâ€è¿™å¥è¯ï¼Œè¿™ä¸ªè¯´æ³•ä¸å¤ªå‡†ç¡®ã€‚æˆ‘ä»¬å¼€å‘çš„ Java çš„æºä»£ç ï¼Œé¦–å…ˆé€šè¿‡ Javac ç¼–è¯‘æˆä¸ºå­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œç„¶åï¼Œåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰å†…åµŒçš„è§£é‡Šå™¨å°†å­—èŠ‚ç è½¬æ¢æˆä¸ºæœ€ç»ˆçš„æœºå™¨ç ã€‚ä½†æ˜¯å¸¸è§çš„ JVMï¼Œæ¯”å¦‚æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä½¿ç”¨çš„ Oracle JDK æä¾›çš„ Hotspot JVMï¼Œéƒ½æä¾›äº† JITï¼ˆJust-In-Timeï¼‰ç¼–è¯‘å™¨ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„åŠ¨æ€ç¼–è¯‘å™¨ï¼ŒJIT èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶å°†çƒ­ç‚¹ä»£ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™ç§æƒ…å†µä¸‹éƒ¨åˆ†çƒ­ç‚¹ä»£ç å°±å±äºç¼–è¯‘æ‰§è¡Œï¼Œè€Œä¸æ˜¯è§£é‡Šæ‰§è¡Œäº†ã€‚\nåœ¨ç»´åŸºç™¾ç§‘ç»™å‡ºçš„å®šä¹‰ä¸­ï¼Œæåˆ° Java ç¼–ç¨‹è¯­è¨€æ˜¯è§£é‡Šæ€§çš„è¯­è¨€ï¼Œè€Œåœ¨Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²ä¸­æå‡ºè¯¥è¯´æ³•ä¸å¤ªå‡†ç¡®ï¼Œæˆ‘æ¯”è¾ƒè®¤å¯åè€…çš„çœ‹æ³•ã€‚ç±»ä¼¼ JITã€AOTï¼ˆAhead-of-Time Compilationï¼Œåœ¨æ‰§è¡Œå‰ç›´æ¥å°†å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ä»£ç ï¼Œé™æ€ç¼–è¯‘ï¼‰ æŠ€æœ¯çš„å‡ºç°ä»¥åŠå®è·µï¼Œä½¿å¾— Java çš„è§£é‡Šæ€§å˜å¾—ä¸é‚£ä¹ˆçº¯ç²¹ï¼Œæ­¤æ—¶ä»ä¸åŒçš„è§’åº¦å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œæ¯”å¦‚ä»å æ¯”ä¸Šè€ƒè™‘ï¼Œé‚£ä¹ˆ Java è¿˜æ˜¯è§£é‡Šæ€§çš„ï¼›å¦‚æœä» JIT çš„è§’åº¦çœ‹ï¼Œæ­¤åˆ»çš„ Java æ˜¯ç¼–è¯‘æ€§çš„ï¼›è€Œä»æ€»ä½“çš„è§’åº¦æ¥çœ‹ï¼Œåˆ™æ˜¯æ··åˆæ€§çš„ï¼ˆè§£é‡Šå’Œç¼–è¯‘çš„æ··åˆï¼‰ã€‚\nä¸ºä»€ä¹ˆè¦å­¦ä¹ JVM ä¸ä»…è¦çŸ¥å…¶ç„¶ï¼Œè¿˜è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚Java è¯­è¨€å¯¹åº•å±‚å¹³å°è‰¯å¥½çš„å°è£…æ€§ï¼Œè®©æˆ‘ä»¬ç¼–ç æ›´åŠ çš„ç®€å•ï¼Œå¦‚ä¸å†éœ€è¦è‡ªå·±ç®¡ç†å†…å­˜ã€‚ä½†æ˜¯å¼ºå¤§çš„å°è£…åŒæ ·ä¼šå°†å…¶é€æ˜åŒ–ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ä¸éœ€è¦çŸ¥é“è¿™é€æ˜å¢™çš„èƒŒåæ˜¯ä»€ä¹ˆï¼Œè€Œå½“æ¶‰åŠé€æ˜å¢™åé¢çš„çŸ¥è¯†æ—¶ï¼Œä¾¿ä¼šä¸çŸ¥æ‰€æªã€‚å½“ç„¶ï¼Œå­¦ä¹  JVM ä¸ä»…ä»…æ˜¯è·å¾—é‡åˆ°é—®é¢˜æ—¶è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œè¿˜æ˜¯æ›´å¥½çš„ç†è§£ Java ç¨‹åºè®¾è®¡ä»¥åŠæå‡ç¼–ç èƒ½åŠ›çš„ä¸äºŒæ³•é—¨ï¼ˆæœ‰çš„è®¾è®¡çœŸçš„å¯ä»¥è¯´æ˜¯ä¼˜ç¾ï¼Œä¸”å¯Œæœ‰å“²ç†ï¼‰ã€‚\nJavaå­—èŠ‚ç æŠ€æœ¯ ä»€ä¹ˆæ˜¯å­—èŠ‚ç  å­—èŠ‚ç ï¼ˆJava bytecodeï¼‰ï¼šç”±å•å­—èŠ‚ï¼ˆbyteï¼‰çš„æŒ‡ä»¤ç»„æˆï¼Œç†è®ºä¸Šæœ€å¤šæ”¯æŒ256ä¸ªæ“ä½œç ï¼ˆopcodeï¼‰ã€‚å®é™…ä¸Š Java åªä½¿ç”¨äº†200å·¦å³çš„æ“ä½œç ï¼Œè¿˜æœ‰ä¸€äº›æ“ä½œç åˆ™ä¿ç•™ç»™è°ƒè¯•æ“ä½œã€‚\næŒ‰ç…§æŒ‡ä»¤çš„æ€§è´¨ï¼Œä¸»è¦åˆ†ä¸º4ä¸ªå¤§ç±»ï¼ˆå…¶ä¸­2ã€3ã€4çš†å’Œ Java è¯­è¨€ç›¸å…³ï¼‰ï¼š\næ ˆæ“ä½œæŒ‡ä»¤ï¼ŒåŒ…æ‹¬ä¸å±€éƒ¨å˜é‡äº¤äº’çš„æŒ‡ä»¤ ç¨‹åºæµç¨‹æ§åˆ¶æŒ‡ä»¤ å¯¹è±¡æ“ä½œæŒ‡ä»¤ï¼ŒåŒ…æ‹¬æ–¹æ³•è°ƒç”¨æŒ‡ä»¤ ç®—æœ¯è¿ç®—ä»¥åŠç±»å‹è½¬æ¢æŒ‡ä»¤ å…³äºåŠ©è®°ç¬¦ï¼Œå…¶å®å°±æ˜¯å­—èŠ‚ç æ“ä½œç ï¼ˆäºŒè¿›åˆ¶å­˜å‚¨ï¼Œç›®è§†è§£è¯‘éš¾åº¦ä¹Ÿå¤ªé«˜äº†ï¼‰çš„å¯è¯»æ€§ç¼–ç ï¼Œä¸»è¦å°±æ˜¯æä¾›å¼€å‘äººå‘˜å¯¹äºå­—èŠ‚ç æ“ä½œç çš„å¯è¯»æ€§ï¼Œæ¯ä¸ªåŠ©è®°ç¬¦éƒ½å¯¹åº”ä¸€ä¸ªå­—èŠ‚ç æ“ä½œç ã€‚\nå¦‚ä½•ç”Ÿæˆå­—èŠ‚ç  æˆ‘ä»¬å¹³æ—¶ç¼–å†™çš„åŸºæœ¬ä¸Šéƒ½æ˜¯ Java æºç ï¼Œä¹Ÿå°±æ˜¯åç¼€ä¸º .java ç±»å‹çš„æ–‡ä»¶ï¼Œé€šè¿‡ JDK ä¸­çš„ç¼–è¯‘å·¥å…· javac å°±å¯ä»¥å°†æºç ç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼ˆåç¼€ä¸º .classï¼‰ã€‚å¦‚æœåœ¨ç”Ÿæˆå­—èŠ‚ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä»½ç¬¦åˆ Java è¯­æ³•è§„èŒƒçš„æºç æ–‡ä»¶ã€‚\næºç å‡†å¤‡ è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ç±»ï¼Œæºç å¦‚ä¸‹ï¼š\npackage demo.jvm0104; public class HelloByteCode { public static void main(String[] args) { HelloByteCode helloByteCode = new HelloByteCode(); } } ç”Ÿæˆå­—èŠ‚ç  ä½¿ç”¨ javacå‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä½¿ç”¨ javap å‘½ä»¤å¯æŸ¥çœ‹å­—èŠ‚ç  javac HelloByteCode.java # åœ¨HelloByte.javaçš„åŒçº§ç›®å½•ä¸‹æ‰§è¡Œ javap -c HelloByteCode.class # åœ¨HelloByte.classçš„åŒçº§ç›®å½•ä¸‹æ‰§è¡Œ Compiled from \u0026#34;HelloByteCode.java\u0026#34; public class demo.jvm0104.HelloByteCode { public demo.jvm0104.HelloByteCode(); Code: 0: aload_0 1: invokespecial #1 // Method java/lang/Object.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V 4: return public static void main(java.lang.String[]); Code: 0: new #2 // class demo/jvm0104/HelloByteCode 3: dup 4: invokespecial #3 // Method \u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V 7: astore_1 8: return } å¦‚ä¸Šæ‰€è§†ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ç±»ç¼–è¯‘åç”Ÿæˆçš„å­—èŠ‚ç ï¼Œè¿™é‡Œçœ‹åˆ°çš„å­—èŠ‚ç æœ¬ä¸å®Œæ•´ï¼Œå¯ä»¥ä½¿ç”¨ javap -c -verbose HelloByteCode.class æŸ¥çœ‹æ›´åŠ è¯¦ç»†çš„å­—èŠ‚ç å†…å®¹ã€‚è¿™é‡Œå¯ä»¥å…ˆç®€å•çš„çœ‹ä¸€ä¸‹å­—èŠ‚ç ï¼Œæ­¤å¤„æ˜¾ç¤ºçš„ä¸ºå­—èŠ‚ç å¯¹åº”çš„åŠ©è®°ç¬¦\ndup: ç”¨äºå¤åˆ¶æ ˆé¡¶çš„å€¼ã€‚ç”±äºæ„é€ å‡½æ•°è°ƒç”¨ä¸ä¼šè¿”å›å€¼ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰ dup æŒ‡ä»¤ï¼Œåœ¨å¯¹è±¡ä¸Šè°ƒç”¨æ–¹æ³•å¹¶åˆå§‹åŒ–ä¹‹åï¼Œæ“ä½œæ•°æ ˆå°±ä¼šæ˜¯ç©ºçš„ï¼Œåœ¨åˆå§‹åŒ–ä¹‹åå°±ä¼šå‡ºé—®é¢˜ï¼Œæ¥ä¸‹æ¥çš„ä»£ç å°±æ— æ³•å¯¹å…¶è¿›è¡Œå¤„ç†\naload_0ï¼šaè¡¨ç¤ºå¼•ç”¨ï¼ˆå¯¹è±¡å¼•ç”¨ï¼‰ï¼Œç±»ä¼¼äº aload_0 å’Œ astore_0 ä¸ºä¸€å¯¹æ“ä½œï¼Œæ ˆæ“ä½œï¼Œç”¨äºå…¥æ ˆä¸å‡ºæ ˆï¼Œæ ˆæ“ä½œå¯ç”¨å¦‚ä¸‹ç¤ºæ„å›¾è¡¨ç¤ºï¼š åœ¨Javaç¨‹åºä¸­ï¼Œè®¡ç®—çš„è¡Œä¸ºéƒ½æ˜¯å‘ç”Ÿåœ¨æ ˆä¸Šé¢çš„ï¼ŒLoad å’Œ Store åˆ†åˆ«æ˜¯åœ¨è®¡ç®—å‰ä»æœ¬åœ°å˜é‡è¡¨ä¸­å°†å˜é‡åŠ è½½è‡³æ ˆä¸­ï¼Œè®¡ç®—å®Œæˆåå°†æ‰€å¾—çš„å˜é‡å€¼å†™å›æœ¬åœ°å˜é‡è¡¨ã€‚\nå­—èŠ‚ç çš„è¿è¡Œæ—¶ç»“æ„ï¼ˆæ ˆå¸§ç»“æ„ï¼‰ æ ˆå¸§ç»“æ„ç¤ºæ„å›¾\nJVM æ˜¯ä¸€å°åŸºäºæ ˆçš„è®¡ç®—æœºå…¶ï¼Œèƒ½å¤Ÿåƒè®¡ç®—æœºä¸€æ ·è§£è¯»æœºå™¨ç ï¼ˆæ­¤å¤„æœºå™¨ç ç±»æ¯”ä¸ºå­—èŠ‚ç ï¼‰ï¼Œæ‰€ä»¥åˆå°†å…¶ç§°ä¹‹ä¸ºè™šæ‹Ÿæœºã€‚\nåœ¨ Java ç¨‹åºä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬å±äºè‡ªå·±çš„çº¿ç¨‹æ ˆï¼ˆJVM Stackï¼‰ï¼Œç”¨äºå­˜å‚¨æ ˆå¸§ï¼ˆFrameï¼‰ã€‚æ¯ä¸€æ¬¡çš„æ–¹æ³•è°ƒç”¨ï¼ŒJVM éƒ½ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ ˆå¸§å¹¶å°†å…¶å…¥æ ˆã€‚æ ˆå¸§ç”±æ“ä½œæ•°æ ˆï¼ˆOperand Stackï¼‰ã€æœ¬åœ°å˜é‡è¡¨ï¼ˆLocal Variableï¼‰ä»¥åŠä¸€ä¸ª Class å¼•ç”¨ç»„æˆã€‚æ­¤å¤„çš„ Class å¼•ç”¨æŒ‡å‘å½“å‰æ–¹æ³•åœ¨è¿è¡Œæ—¶å¸¸é‡æ± ä¸­å¯¹åº”çš„ Classã€‚\nå­—èŠ‚ç ç¤ºä¾‹è§£è¯» åœ¨è¿™é‡Œå‡†å¤‡äº†ä¸€ä¸ªæ¶‰åŠç®€å•å››åˆ™è¿ç®—çš„ç¨‹åº\npackage demo.jvm0104; public class MovingAverage { private int count = 0; private double sum = 0.0D; public void submit(double value) { this.count ++; this.sum += value; } public double getAvg() { if (0 == this.count) { return sum; } return this.sum / this.count; } } package demo.jvm0104; public class LocalVariableTest { public static void main(String[] args) { MovingAverage movingAverage = new MovingAverage(); int num1 = 1; int num2 = 2; movingAverage.submit(num1); movingAverage.submit(num2); double avg = movingAverage.getAvg(); } } ç¼–è¯‘æˆå­—èŠ‚ç \nä½¿ç”¨ javacå‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä½¿ç”¨ javap å‘½ä»¤å¯æŸ¥çœ‹å­—èŠ‚ç  javac demo/jvm0104/LocalVariableTest.java # åœ¨åŒ…ç»“æ„æœ€å¤–å±‚çš„åŒçº§ç›®å½•ï¼ˆdemoï¼‰ä¸‹æ‰§è¡Œ javap -c -verbose demo/jvm0104/LocalVariableTest.class # åœ¨åŒ…ç»“æ„æœ€å¤–å±‚çš„åŒçº§ç›®å½•ï¼ˆdemoï¼‰ä¸‹æ‰§è¡Œ Classfile /home/zhoujian/Downloads/Git/java-000-repository/src/demo/jvm0104/LocalVariableTest.class Last modified Nov 10, 2020; size 434 bytes MD5 checksum ad14266d95e706aca83dea47e32fe139 Compiled from \u0026#34;LocalVariableTest.java\u0026#34; public class demo.jvm0104.LocalVariableTest minor version: 0 major version: 55 flags: (0x0021) ACC_PUBLIC, ACC_SUPER this_class: #6 // demo/jvm0104/LocalVariableTest super_class: #7 // java/lang/Object interfaces: 0, fields: 0, methods: 2, attributes: 1 Constant pool: #1 = Methodref #7.#16 // java/lang/Object.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V #2 = Class #17 // demo/jvm0104/MovingAverage #3 = Methodref #2.#16 // demo/jvm0104/MovingAverage.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V #4 = Methodref #2.#18 // demo/jvm0104/MovingAverage.submit:(D)V #5 = Methodref #2.#19 // demo/jvm0104/MovingAverage.getAvg:()D #6 = Class #20 // demo/jvm0104/LocalVariableTest #7 = Class #21 // java/lang/Object #8 = Utf8 \u0026lt;init\u0026gt; #9 = Utf8 ()V #10 = Utf8 Code #11 = Utf8 LineNumberTable #12 = Utf8 main #13 = Utf8 ([Ljava/lang/String;)V #14 = Utf8 SourceFile #15 = Utf8 LocalVariableTest.java #16 = NameAndType #8:#9 // \u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V #17 = Utf8 demo/jvm0104/MovingAverage #18 = NameAndType #22:#23 // submit:(D)V #19 = NameAndType #24:#25 // getAvg:()D #20 = Utf8 demo/jvm0104/LocalVariableTest #21 = Utf8 java/lang/Object #22 = Utf8 submit #23 = Utf8 (D)V #24 = Utf8 getAvg #25 = Utf8 ()D { public demo.jvm0104.LocalVariableTest(); descriptor: ()V flags: (0x0001) ACC_PUBLIC Code: stack=1, locals=1, args_size=1 0: aload_0 1: invokespecial #1 // Method java/lang/Object.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V 4: return LineNumberTable: line 3: 0 public static void main(java.lang.String[]); descriptor: ([Ljava/lang/String;)V flags: (0x0009) ACC_PUBLIC, ACC_STATIC Code: stack=3, locals=6, args_size=1 0: new #2 // class demo/jvm0104/MovingAverage 3: dup 4: invokespecial #3 // Method demo/jvm0104/MovingAverage.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V 7: astore_1 8: iconst_1 9: istore_2 10: iconst_2 11: istore_3 12: aload_1 13: iload_2 14: i2d 15: invokevirtual #4 // Method demo/jvm0104/MovingAverage.submit:(D)V 18: aload_1 19: iload_3 20: i2d 21: invokevirtual #4 // Method demo/jvm0104/MovingAverage.submit:(D)V 24: aload_1 25: invokevirtual #5 // Method demo/jvm0104/MovingAverage.getAvg:()D 28: dstore 4 30: return LineNumberTable: line 6: 0 line 7: 8 line 8: 10 line 9: 12 line 10: 18 line 11: 24 line 12: 30 } SourceFile: \u0026#34;LocalVariableTest.java\u0026#34; å­—èŠ‚ç å«ä¹‰è¯´æ˜ï¼š\niconst_1: ï¼ˆå¦‚ï¼šint num = 1;ï¼‰\niï¼šintç±»å‹å€¼ constï¼šå¸¸é‡å€¼ 1ï¼šè¡¨ç¤ºè¯¥å¸¸é‡çš„å®é™…æ•°å€¼ iload_2ï¼š\niï¼šintç±»å‹å€¼ loadï¼šæ ˆæ“ä½œï¼Œå°†æ•°æ®ä»æœ¬åœ°å˜é‡è¡¨ä¸­åŠ è½½è‡³æ“ä½œæ•°æ ˆ 2ï¼šå¯¹åº”æœ¬åœ°å˜é‡è¡¨ä¸­çš„ slot å€¼ï¼Œå³æ§½ä½ dstore 4ï¼š\ndï¼šdoubleç±»å‹å€¼ storeï¼šæ ˆæ“ä½œï¼Œå°†æ•°æ®ä»æ“ä½œæ•°æ ˆå†™å›æœ¬åœ°å˜é‡è¡¨ 4ï¼šå¯¹åº”æœ¬åœ°å˜é‡è¡¨ä¸­çš„ slot å€¼ iload_2 å’Œ dstore 4 éƒ½æ˜¯æ ˆæ“ä½œå­—èŠ‚ç ï¼Œåªä¸è¿‡åè€…æ˜¯åœ¨æ§½ä½å¤§äº3ä¹‹åï¼Œä»¥å‚æ•°çš„æ–¹å¼è·Ÿåœ¨å­—èŠ‚ç æŒ‡ä»¤åé¢ï¼Œæ‰€ä»¥ iload_2 æ˜¯è¿åœ¨ä¸€èµ·å†™çš„ï¼Œdstore 4 æ˜¯åˆ†å¼€å†™çš„ã€‚\ni2dï¼š iï¼šintç±»å‹å€¼ 2ï¼šè¡¨ç¤ºç±»å‹è½¬æ¢ï¼ˆtoï¼‰ï¼Œi2d è¡¨ç¤º int ç±»å‹å€¼è½¬æ¢ä¸º double ç±»å‹å€¼ dï¼šdoubleç±»å‹å€¼ å­—èŠ‚ç æ‰§è¡Œæµç¨‹ \u0026ndash;\u0026gt; å¾…è¡¥å……\nåœ¨ç®—æœ¯æ“ä½œä¸ç±»å‹è½¬æ¢ä¸­ï¼Œåªå­˜åœ¨4ä¸­æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹ï¼š\nint long float double è€Œåœ¨ Java è¯­è¨€ä¸­ï¼Œå­˜åœ¨8å¤§åŸºæœ¬æ•°æ®ç±»å‹ï¼šbyteï¼ˆ8bitï¼‰ã€shortï¼ˆ16bitï¼‰ã€charï¼ˆ16bitï¼‰ã€booleanï¼ˆ8bitï¼‰ã€intï¼ˆ32bitï¼‰ã€longï¼ˆ64bitï¼‰ã€floatï¼ˆ32bitï¼‰ã€doubleï¼ˆ64bitï¼‰ã€‚ä½†æ˜¯åœ¨å­—èŠ‚ç å¤„ç†ä¸­ï¼Œåƒ booleanã€byte éƒ½æ˜¯ä½¿ç”¨ int è¿›è¡Œè¡¨ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å­—èŠ‚ç å¤„ç†ä¸­ï¼Œint æ˜¯æœ€å°å•ä½ï¼Œå°äº 32bit çš„æ•°å€¼çš†ä½¿ç”¨ int è¡¨ç¤ºã€‚ï¼ˆæ‰€ä»¥è¿™é‡Œä¹Ÿå­˜åœ¨å­˜å‚¨å ç”¨çš„æƒ…å†µï¼Œæ¯”å¦‚ byte åªéœ€è¦1å­—èŠ‚ï¼Œå´ä½¿ç”¨äº†4å­—èŠ‚è¿›è¡Œå­˜å‚¨ï¼‰\nå…³äºç®—æœ¯è¿ç®—å’Œç±»å‹è½¬æ¢æ“ä½œï¼Œåœ¨å°†æºç ç¼–è¯‘æˆå­—èŠ‚ç çš„è¿‡ç¨‹ä¸­å°±å·²ç»å®Œæˆäº†å°†ç›¸åº”çš„æ“ä½œè½¬æ¢ä¸ºå¯¹åº”çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œè¿™æ ·åœ¨å…·ä½“æ‰§è¡Œçš„æ—¶å€™å·²ç»æ— å…³æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆäº†ã€‚ï¼ˆå°±ä¸å†éœ€è¦æ¯ä¸€æ¬¡æ‰§è¡Œéƒ½è®¡ç®—å‰åç±»å‹æ˜¯ä»€ä¹ˆäº†ï¼Œæ‰§è¡Œæ•ˆç‡æ›´é«˜ï¼‰\nå…³äº intï¼ˆ32bitï¼‰å’Œ longï¼ˆ64bitï¼‰ç±»å‹çš„æ“ä½œæ˜¯å¦ä¸ºåŸå­æ“ä½œé—®é¢˜ï¼Œä»ç†è®ºä¸Šæ¥çœ‹ï¼Œè¿™å’Œ CPU çš„æ€»çº¿å¸¦å®½æ˜¯å­˜åœ¨ç›´æ¥å…³ç³»çš„ã€‚32ä½çš„ CPU å…¶æ€»çº¿å¸¦å®½å°±æ˜¯ 32bitï¼Œå¯¹äº long ç±»å‹çš„æ•°æ®éœ€è¦åˆ†ä¸ºä¸¤æ¬¡è¯»å–ï¼Œç†è®ºä¸Šæ˜¯å­˜åœ¨åŸå­é—®é¢˜çš„ã€‚è€Œåœ¨64ä½çš„ CPU ä¸Šåˆ™ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜ã€‚ï¼ˆå³ä¸ºåŸå­æ“ä½œï¼‰\nåœ¨ JVM ä¸­ï¼Œä¸€å…±å­˜åœ¨5ç§æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ intã€longã€floatã€ï¼›double ä»¥åŠå¯¹è±¡å¼•ç”¨ï¼ˆ4ç§æ•°æ®ç±»å‹+å¯¹è±¡å¼•ç”¨ï¼‰ï¼Œå…¶ä¸­å¯¹è±¡å¼•ç”¨æ˜¯æ— æ³•å‚ä¸ç®—æœ¯è®¡ç®—ï¼Œä¹Ÿä¸èƒ½åŒå¦å¤–çš„4ç§æ•°æ®ç±»å‹è¿›è¡Œç›¸äº’è½¬æ¢ã€‚\nè¿™é‡Œå‡†å¤‡äº†ä¸€ä¸ªå®Œæ•´çš„å¾ªç¯æ§åˆ¶çš„ç¨‹åº\npackage demo.jvm0104; public class ForLoopTest { private static int[] NUMBERS = {1, 6, 8}; public static void main(String[] args) { MovingAverage movingAverage = new MovingAverage(); for (int number : NUMBERS) { movingAverage.submit(number); } double avg = movingAverage.getAvg(); } } ç”Ÿæˆå­—èŠ‚ç \nä½¿ç”¨ javacå‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä½¿ç”¨ javap å‘½ä»¤å¯æŸ¥çœ‹å­—èŠ‚ç  javac demo/jvm0104/ForLoopTest.java # åœ¨åŒ…ç»“æ„æœ€å¤–å±‚çš„åŒçº§ç›®å½•ï¼ˆdemoï¼‰ä¸‹æ‰§è¡Œ javap -c -verbose demo/jvm0104/ForLoopTest.class # åœ¨åŒ…ç»“æ„æœ€å¤–å±‚çš„åŒçº§ç›®å½•ï¼ˆdemoï¼‰ä¸‹æ‰§è¡Œ Classfile /home/zhoujian/Downloads/Git/java-000-repository/src/demo/jvm0104/ForLoopTest.class Last modified Nov 10, 2020; size 612 bytes MD5 checksum 2613b808dee182beb04e7130316d06c4 Compiled from \u0026#34;ForLoopTest.java\u0026#34; public class demo.jvm0104.ForLoopTest minor version: 0 major version: 55 flags: (0x0021) ACC_PUBLIC, ACC_SUPER this_class: #7 // demo/jvm0104/ForLoopTest super_class: #8 // java/lang/Object interfaces: 0, fields: 1, methods: 3, attributes: 1 Constant pool: #1 = Methodref #8.#23 // java/lang/Object.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V #2 = Class #24 // demo/jvm0104/MovingAverage #3 = Methodref #2.#23 // demo/jvm0104/MovingAverage.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V #4 = Fieldref #7.#25 // demo/jvm0104/ForLoopTest.NUMBERS:[I #5 = Methodref #2.#26 // demo/jvm0104/MovingAverage.submit:(D)V #6 = Methodref #2.#27 // demo/jvm0104/MovingAverage.getAvg:()D #7 = Class #28 // demo/jvm0104/ForLoopTest #8 = Class #29 // java/lang/Object #9 = Utf8 NUMBERS #10 = Utf8 [I #11 = Utf8 \u0026lt;init\u0026gt; #12 = Utf8 ()V #13 = Utf8 Code #14 = Utf8 LineNumberTable #15 = Utf8 main #16 = Utf8 ([Ljava/lang/String;)V #17 = Utf8 StackMapTable #18 = Class #30 // \u0026#34;[Ljava/lang/String;\u0026#34; #19 = Class #10 // \u0026#34;[I\u0026#34; #20 = Utf8 \u0026lt;clinit\u0026gt; #21 = Utf8 SourceFile #22 = Utf8 ForLoopTest.java #23 = NameAndType #11:#12 // \u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V #24 = Utf8 demo/jvm0104/MovingAverage #25 = NameAndType #9:#10 // NUMBERS:[I #26 = NameAndType #31:#32 // submit:(D)V #27 = NameAndType #33:#34 // getAvg:()D #28 = Utf8 demo/jvm0104/ForLoopTest #29 = Utf8 java/lang/Object #30 = Utf8 [Ljava/lang/String; #31 = Utf8 submit #32 = Utf8 (D)V #33 = Utf8 getAvg #34 = Utf8 ()D { public demo.jvm0104.ForLoopTest(); descriptor: ()V flags: (0x0001) ACC_PUBLIC Code: stack=1, locals=1, args_size=1 0: aload_0 1: invokespecial #1 // Method java/lang/Object.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V 4: return LineNumberTable: line 3: 0 public static void main(java.lang.String[]); descriptor: ([Ljava/lang/String;)V flags: (0x0009) ACC_PUBLIC, ACC_STATIC Code: stack=3, locals=6, args_size=1 0: new #2 // class demo/jvm0104/MovingAverage 3: dup 4: invokespecial #3 // Method demo/jvm0104/MovingAverage.\u0026#34;\u0026lt;init\u0026gt;\u0026#34;:()V 7: astore_1 8: getstatic #4 // Field NUMBERS:[I 11: astore_2 12: aload_2 13: arraylength 14: istore_3 15: iconst_0 16: istore 4 18: iload 4 20: iload_3 21: if_icmpge 43 24: aload_2 25: iload 4 27: iaload 28: istore 5 30: aload_1 31: iload 5 33: i2d 34: invokevirtual #5 // Method demo/jvm0104/MovingAverage.submit:(D)V 37: iinc 4, 1 40: goto 18 43: aload_1 44: invokevirtual #6 // Method demo/jvm0104/MovingAverage.getAvg:()D 47: dstore_2 48: return LineNumberTable: line 8: 0 line 9: 8 line 10: 30 line 9: 37 line 12: 43 line 13: 48 StackMapTable: number_of_entries = 2 frame_type = 255 /* full_frame */ offset_delta = 18 locals = [ class \u0026#34;[Ljava/lang/String;\u0026#34;, class demo/jvm0104/MovingAverage, class \u0026#34;[I\u0026#34;, int, int ] stack = [] frame_type = 248 /* chop */ offset_delta = 24 static {}; descriptor: ()V flags: (0x0008) ACC_STATIC Code: stack=4, locals=0, args_size=0 0: iconst_3 1: newarray int 3: dup 4: iconst_0 5: iconst_1 6: iastore 7: dup 8: iconst_1 9: bipush 6 11: iastore 12: dup 13: iconst_2 14: bipush 8 16: iastore 17: putstatic #4 // Field NUMBERS:[I 20: return LineNumberTable: line 5: 0 } SourceFile: \u0026#34;ForLoopTest.java\u0026#34; å­—èŠ‚ç å«ä¹‰è¯´æ˜ï¼ˆç¨‹åºæµç¨‹æ§åˆ¶æŒ‡ä»¤ï¼‰ï¼š\n21: if_icmpge 43ï¼š\n21ï¼šæŒ‡ä»¤ç´¢å¼•ï¼Œè¡¨ç¤ºå½“å‰æŒ‡ä»¤çš„ç´¢å¼•ä»21å¼€å§‹ ifï¼šifï¼Œåˆ¤æ–­è¯­å¥ cmpï¼šæ¯”è¾ƒ geï¼šgreatï¼Œæ¯”è¾ƒå¤§å°ï¼Œä¸€ä¸ªå€¼æ˜¯å¦å¤§äºæˆ–ç­‰äºå¦å¤–ä¸€ä¸ªå€¼ 43ï¼šæŒ‡ä»¤ç´¢å¼•ï¼Œè¡¨ç¤ºå¦‚æœæ»¡è¶³ if æ¡ä»¶ï¼Œåˆ™è·³è½¬åˆ°ç´¢å¼•ä¸º43çš„æŒ‡ä»¤ç»§ç»­æ‰§è¡Œ 37: iinc 4, 1ï¼š\n37ï¼šæŒ‡ä»¤ç´¢å¼•ï¼Œè¡¨ç¤ºå½“å‰æŒ‡ä»¤çš„ç´¢å¼•ä»37å¼€å§‹ incï¼šè‡ªå¢ï¼Œå‚æ•° 4, 1ä¸­çš„1è¡¨ç¤ºè‡ªå¢æ­¥é•¿ä¸º1ï¼Œå³æ¯æ¬¡è‡ªå¢1 iï¼šintç±»å‹å€¼ 40: goto 18\n40ï¼šæŒ‡ä»¤ç´¢å¼•ï¼Œè¡¨ç¤ºå½“å‰æŒ‡ä»¤çš„ç´¢å¼•ä»40å¼€å§‹ gotoï¼šè·³è½¬æŒ‡ä»¤ 18ï¼šæŒ‡ä»¤ç´¢å¼•ï¼Œgoto 18 è¡¨ç¤ºè·³è½¬åˆ°ç´¢å¼•ä¸º18çš„æŒ‡ä»¤ç»§ç»­æ‰§è¡Œ å­—èŠ‚ç æ‰§è¡Œæµç¨‹ \u0026ndash;\u0026gt; å¾…è¡¥å……\nè¡¥å……ï¼šæ–¹æ³•è°ƒç”¨æŒ‡ä»¤\ninvokestaticï¼šç”¨äºè°ƒç”¨æŸä¸ªç±»çš„é™æ€æ–¹æ³•ï¼Œè¿™æ˜¯æ–¹æ³•è°ƒç”¨æŒ‡ä»¤ä¸­æœ€å¿«çš„ä¸€ä¸ª invokespecialï¼šç”¨äºè°ƒç”¨æ„é€ å‡½æ•°ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨äºè°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„ private æ–¹æ³•ï¼Œä»¥åŠå¯è§çš„è¶…ç±»æ–¹æ³•ã€‚ï¼ˆå¸¸ç”¨ï¼‰ invokevirtualï¼šå¦‚æœæ˜¯å…·ä½“ç±»å‹çš„ç›®æ ‡å¯¹è±¡ï¼Œinvokevirtual ç”¨äºè°ƒç”¨å…¬å…±ã€å—ä¿æŠ¤å’Œ package çº§åˆ«çš„ç§æœ‰æ–¹æ³•ã€‚ï¼ˆå¸¸ç”¨ï¼Œè°ƒç”¨å®ä¾‹æ–¹æ³•ï¼ŒåŸºäºç±»è¿›è¡Œåˆ†æ´¾ï¼‰ invokeinterfaceï¼šå½“é€šè¿‡æ¥å£å¼•ç”¨æ¥è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå°†ä¼šç¼–è¯‘ä¸º invokeinterfaceæŒ‡ä»¤ã€‚ invokedynamicï¼šjdk7 æ–°å¢åŠ çš„æŒ‡ä»¤ï¼Œæ˜¯å®ç°â€œåŠ¨æ€ç±»å‹è¯­è¨€â€ï¼ˆDynamically Typed Languageï¼‰æ”¯æŒè€Œè¿›è¡Œçš„å‡çº§æ”¹é€ ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ jdk8ä»¥åæ”¯æŒ Lambda è¡¨è¾¾å¼çš„å®ç°åŸºç¡€ã€‚ å…³äº Java æºç ã€å­—èŠ‚ç ã€JVM ä¹‹é—´çš„å…³ç³»çš„çœ‹æ³•ï¼ˆä»…åšå‚è€ƒï¼‰ï¼š\næºç ï¼šæ˜¯å…·ä½“ä¸šåŠ¡å’Œé€»è¾‘çš„ä½“ç°ï¼Œæ˜¯æŠ½è±¡çš„\nå­—èŠ‚ç ï¼šæ˜¯ç»ç”±æºç ç¼–è¯‘åçš„ï¼Œç¡®å®šçš„æ‰§è¡ŒæŒ‡ä»¤é›†åˆ\nJVMï¼šæ‰§è¡Œå¹³å°ï¼Œå­—èŠ‚ç çš„æ‰§è¡Œå™¨ï¼Œå­—èŠ‚ç çš„å‡ºç°ä½¿å¾— JVM è¾ƒä¸ºæ— è„‘ï¼ˆå°‘è®¡ç®—ã€ç›´æ¥ååº”ã€ç›´æ¥æ‰§è¡Œï¼Œæ¯”å¦‚ç±»å‹è½¬æ¢ï¼‰ï¼Œå½“ç„¶åœ¨ JVM ä¸­ä¹Ÿæ˜¯å­˜åœ¨è®¡ç®—çš„ï¼Œæ¯”å¦‚çƒ­ç‚¹æ¢æµ‹ã€å®æ—¶ç¼–è¯‘ç­‰\nJVMç±»åŠ è½½å™¨ ç±»çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå€Ÿé‰´è‡ªæå®¢æ—¶é—´Javaè¿›é˜¶è®­ç»ƒè¥ï¼‰ ä¸€ä¸ªç±»åœ¨ JVM é‡Œçš„ç”Ÿå‘½å‘¨æœŸæœ‰7ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯åŠ è½½ï¼ˆLoadingï¼‰ã€éªŒè¯ï¼ˆVerificationï¼‰ã€å‡†å¤‡ï¼ˆPreparationï¼‰ã€è§£æï¼ˆResolutionï¼‰ã€åˆå§‹åŒ–ï¼ˆInitializationï¼‰ã€ä½¿ç”¨ï¼ˆUsingï¼‰ã€å¸è½½ï¼ˆUnloadingï¼‰ã€‚å…¶ä¸­çš„å‰äº”ä¸ªéƒ¨åˆ†ï¼ˆåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æã€åˆå§‹åŒ–ï¼‰ç»Ÿç§°ä¸ºç±»åŠ è½½ï¼Œè€ŒéªŒè¯ã€å‡†å¤‡ã€è§£æä¸‰ä¸ªéƒ¨åˆ†ç»Ÿç§°ä¸ºé“¾æ¥ï¼ˆLinkingï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ç±»åŠ è½½å®Œæ•´çš„åŒ…å«äº†é“¾æ¥è¿‡ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬å°±åˆ†åˆ«æ¥è¯´ä¸€ä¸‹ç±»åŠ è½½çš„äº”ä¸ªè¿‡ç¨‹ã€‚\nåŠ è½½ åŠ è½½é˜¶æ®µä¹Ÿå¯ä»¥ç§°ä¸ºè£…è½½é˜¶æ®µã€‚è¿™ä¸ªé˜¶æ®µä¸»è¦çš„æ“ä½œå°±æ˜¯ \u0026ndash;\u0026gt; æ ¹æ®æ˜ç¡®çŸ¥é“çš„ class å®Œå…¨é™å®šåï¼Œæ¥è·å–äºŒè¿›åˆ¶ classfile æ ¼å¼çš„å­—èŠ‚æµï¼ˆå³æ ¹æ®åœ°å€æ‰¾åˆ° class æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œæ–‡ä»¶ï¼‰ã€‚å¦‚æœæ‰¾ä¸åˆ°äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼Œåˆ™ä¼šæŠ›å‡º NoClassDefFound é”™è¯¯ã€‚\nåœ¨è£…è½½é˜¶æ®µå¹¶ä¸ä¼šæ£€æŸ¥ classfile çš„è¯­æ³•å’Œæ ¼å¼ã€‚ç±»åŠ è½½çš„æ•´ä¸ªè¿‡ç¨‹ä¸»è¦ç”± JVM å’Œ Java çš„ç±»åŠ è½½ç³»ç»Ÿå…±åŒå®Œæˆï¼Œå½“ç„¶å…·ä½“åˆ° loading é˜¶æ®µåˆ™æ˜¯ç”± JVM ä¸æŸä¸€ä¸ªç±»åŠ è½½å™¨ï¼ˆjava.lang.classLoaderï¼‰åä½œå®Œæˆã€‚\næ ¡éªŒï¼ˆéªŒè¯ï¼‰ é“¾æ¥è¿‡ç¨‹çš„ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯æ ¡éªŒï¼Œç¡®ä¿ class æ–‡ä»¶é‡Œçš„å­—èŠ‚æµä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œä¸ä¼šå±å®³è™šæ‹Ÿæœºçš„å®‰å…¨ã€‚ æ ¡éªŒè¿‡ç¨‹æ£€æŸ¥ classfile çš„è¯­ä¹‰ï¼Œåˆ¤æ–­å¸¸é‡æ± ä¸­çš„ç¬¦å·ï¼Œå¹¶æ‰§è¡Œç±»å‹æ£€æŸ¥ï¼Œä¸»è¦ç›®çš„æ˜¯åˆ¤æ–­å­—èŠ‚ç çš„åˆæ³•æ€§ï¼Œæ¯”å¦‚ magic numberï¼Œå¯¹ç‰ˆæœ¬å·è¿›è¡ŒéªŒè¯ã€‚è¿™äº›æ£€æŸ¥è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæŠ›å‡º VerifyErrorï¼ŒClassFormatError æˆ– UnsupportedClassVersionErrorã€‚\nå› ä¸º classfile çš„éªŒè¯æ˜¯é“¾æ¥é˜¶æ®µçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦åŠ è½½å…¶ä»–ç±»ï¼Œåœ¨æŸä¸ªç±»çš„åŠ è½½è¿‡ç¨‹ä¸­ï¼ŒJVM å¿…é¡»åŠ è½½å…¶æ‰€æœ‰çš„è¶…ç±»å’Œæ¥å£ã€‚å¦‚æœç±»å±‚æ¬¡ç»“æ„æœ‰é—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œè¯¥ç±»æ˜¯è‡ªå·±çš„è¶…ç±»æˆ–æ¥å£ï¼Œæ­»å¾ªç¯äº†ï¼‰ï¼Œåˆ™ JVM å°†æŠ›å‡º ClassCircularityErrorã€‚è€Œå¦‚æœå®ç°çš„æ¥å£å¹¶ä¸æ˜¯ä¸€ä¸ª interfaceï¼Œæˆ–è€…å£°æ˜çš„è¶…ç±»æ˜¯ä¸€ä¸ª interfaceï¼Œä¹Ÿä¼šæŠ›å‡º IncompatibleClassChangeErrorã€‚\nå‡†å¤‡ ç”±ä¸Šè€Œä¸‹ï¼Œç°åœ¨è¿›å…¥å‡†å¤‡é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µå°†ä¼šåˆ›å»ºé™æ€å­—æ®µï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºæ ‡å‡†é»˜è®¤å€¼ï¼ˆæ¯”å¦‚ null æˆ–è€… 0ï¼‰ï¼Œå¹¶åˆ†é…æ–¹æ³•è¡¨ï¼Œå³åœ¨æ–¹æ³•åŒºä¸­åˆ†é…è¿™äº›å˜é‡æ‰€ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚è¯·æ³¨æ„ï¼Œå‡†å¤‡é˜¶æ®µå¹¶æœªæ‰§è¡Œä»»ä½• Java ä»£ç ã€‚\nä¾‹å¦‚ï¼š public static int i = 1;\nåœ¨å‡†å¤‡é˜¶æ®µ i çš„å€¼ä¼šè¢«åˆå§‹åŒ–ä¸º 0ï¼Œåœ¨åé¢çš„ç±»åˆå§‹åŒ–é˜¶æ®µæ‰ä¼šæ‰§è¡Œèµ‹å€¼ä¸º 1ã€‚\nä½†æ˜¯å¦‚æœåƒä¸‹é¢è¿™æ ·ä½¿ç”¨ final ä¿®é¥°é™æ€å¸¸é‡ï¼ŒæŸäº› JVM çš„è¡Œä¸ºå°±ä¸ä¸€æ ·äº†ï¼š\npublic static final int i = 1;\nå¯¹äºå¸¸é‡ iï¼Œåœ¨å‡†å¤‡é˜¶æ®µå°±ä¼šè¢«èµ‹å€¼ä¸º 1ï¼Œå…¶å®è¿™æ ·è¿˜æ˜¯æ¯”è¾ƒ pizzleï¼Œä¾‹å¦‚å…¶ä»–è¯­è¨€ï¼ˆC#ï¼‰æœ‰ç›´æ¥çš„å…³é”®å­— constï¼Œè®©å‘Šè¯‰ç¼– è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µå°±æ›¿æ¢æˆå¸¸é‡ï¼Œç±»ä¼¼å®æŒ‡ä»¤ï¼Œæ›´ç®€å•ã€‚\nè§£æ ç„¶åè¿›å…¥å¯é€‰çš„è§£æç¬¦å·å¼•ç”¨é˜¶æ®µã€‚ä¹Ÿå°±æ˜¯è§£æå¸¸é‡æ± ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å››ç§ï¼š\nç±»æˆ–æ¥å£çš„è§£æ å­—æ®µè§£æ ç±»æ–¹æ³•è§£æ æ¥å£æ–¹æ³•è§£æ ç®€å•æ¥è¯´å°±æ˜¯æˆ‘ä»¬ç¼–å†™çš„ä»£ç ä¸­ï¼Œå½“ä¸€ä¸ªå˜é‡å¼•ç”¨æŸä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè¿™ä¸ªå¼•ç”¨åœ¨ .class æ–‡ä»¶ä¸­æ˜¯ä»¥ç¬¦å·å¼•ç”¨çš„æ–¹å¼æ¥å­˜å‚¨çš„ï¼ˆç›¸å½“äºåšäº†ä¸€ä¸ªç´¢å¼•è®°å½•ï¼‰ã€‚åœ¨è§£æé˜¶æ®µå°±éœ€è¦å°†å…¶è§£æå¹¶é“¾æ¥ä¸ºç›´æ¥å¼•ç”¨ï¼ˆç›¸å½“äºæŒ‡å‘å®é™…å¯¹è±¡ï¼‰ã€‚å¦‚æœæœ‰äº†ç›´æ¥å¼•ç”¨ï¼Œé‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šåœ¨å †ä¸­å­˜åœ¨ã€‚\nåŠ è½½ä¸€ä¸ª class æ—¶ï¼Œéœ€è¦åŠ è½½å…¶æ‰€æœ‰çš„ super ç±»å’Œ super æ¥å£\nåˆå§‹åŒ– JVM è§„èŒƒæ˜ç¡®è§„å®šï¼Œå¿…é¡»åœ¨ç±»çš„é¦–æ¬¡â€œä¸»åŠ¨ä½¿ç”¨â€æ—¶æ‰èƒ½æ‰§è¡Œç±»çš„åˆå§‹åŒ–ã€‚è¢«åˆå§‹åŒ–çš„è¿‡ç¨‹åŒ…æ‹¬æ‰§è¡Œï¼š\nç±»æ„é€ å™¨æ–¹æ³• static é™æ€å˜é‡èµ‹å€¼è¯­å¥ static é™æ€ä»£ç å— å¦‚æœä¸€ä¸ªå­ç±»è¿›è¡Œåˆå§‹åŒ–ä¼šå…ˆå¯¹å…¶çˆ¶ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œä»¥ä¿è¯çˆ¶ç±»åœ¨å­ç±»ä¹‹å‰è¿›è¡Œåˆå§‹åŒ–ã€‚æ‰€ä»¥å¿…ç„¶å…ˆåˆå§‹åŒ–è¿‡ java.lang.Object ç±»ï¼Œå› ä¸ºæ‰€æœ‰çš„ Java ç±»éƒ½ç»§æ‰¿è‡ª java.lang.Objectã€‚\nåªè¦æˆ‘ä»¬å°Šé‡è¯­è¨€çš„è¯­ä¹‰ï¼Œåœ¨æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œä¹‹å‰å®Œæˆè£…è½½ï¼Œé‚£ä¹ˆé“¾æ¥å’Œåˆå§‹åŒ–è¿™äº›æ­¥éª¤ï¼Œå¦‚æœå‡ºé”™å°±æŒ‰ç…§è§„å®šæŠ›å‡ºç›¸åº”çš„é”™è¯¯ï¼Œç±»åŠ è½½ç³»ç»Ÿå®Œæˆå¯ä»¥æ ¹æ®è‡ªå·±çš„ç­–ç•¥ï¼Œçµæ´»åœ°è¿›è¡Œç¬¦å·è§£æç­‰é“¾æ¥è¿‡ç¨‹ã€‚\nä¸ºäº†æé«˜æ€§èƒ½ï¼ŒHotSpot JVM é€šå¸¸è¦ç­‰åˆ°ç±»åˆå§‹åŒ–æ—¶æ‰ä¼šå»è£…è½½å’Œé“¾æ¥ç±»ã€‚å› æ­¤å¦‚æœ A ç±»å¼•ç”¨äº† B ç±»ï¼Œé‚£ä¹ˆåŠ è½½ A ç±»å¹¶ä¸ä¸€å®šä¼šå»åŠ è½½ B ç±»ï¼ˆé™¤ééœ€è¦è¿›è¡ŒéªŒè¯ï¼‰ã€‚ä¸»åŠ¨å¯¹ B ç±»æ‰§è¡Œç¬¬ä¸€æ¡æŒ‡ä»¤æ—¶æ‰ä¼šå¯¼è‡´ B ç±»çš„åˆå§‹åŒ–ï¼Œè¿™å°±éœ€è¦å…ˆå®Œæˆå¯¹ B ç±»çš„è£…è½½å’Œé“¾æ¥ã€‚\nç¤ºä¾‹è¯´æ˜ï¼ˆç±»åŠ è½½é¡ºåºï¼‰ ç±»çš„åŠ è½½æ—¶æœº ç±»åŠ è½½å™¨å®ç° ä¸‰ç±»åŠ è½½å™¨ ç»§æ‰¿å…³ç³» è‡ªå®šä¹‰ç±»åŠ è½½å™¨ JVMå†…å­˜æ¨¡å‹ JVMå†…å­˜æ¨¡å‹å›¾ ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰ è™šæ‹Ÿæœºæ ˆï¼ˆVM Stackï¼‰ æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Stackï¼‰ å †ï¼ˆHeapï¼‰ éå †ï¼ˆNon-Heapï¼‰ ç›´æ¥å†…å­˜ JVMå¯åŠ¨å‚æ•° åŸºæœ¬ä»‹ç»ä¸åˆ†ç±» ç³»ç»Ÿå±æ€§å‚æ•° è¿è¡Œæ¨¡å¼å‚æ•° å †å†…å­˜è®¾ç½®å‚æ•° GCè®¾ç½®å‚æ•° åˆ†æè¯Šæ–­å‚æ•° JavaAgentå‚æ•° å‚è€ƒ æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬äºŒç‰ˆï¼‰\nJavaè¿›é˜¶è®­ç»ƒè¥ï¼ˆæå®¢æ—¶é—´ï¼‰\næ·±å…¥æ‹†è§£Javaè™šæ‹Ÿæœº\nJavaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²\nè¯´æ˜ æˆ‘ä¸æ˜¯åœ¨å–è¯¾ æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥æºäºæå®¢æ—¶é—´ä»¥åŠç½‘ç»œåšæ–‡èŠ‚é€‰ï¼Œå¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘å…ˆå‘æ‚¨é“æ­‰ï¼Œå¦è¿˜è¯·å‘ŠçŸ¥æˆ‘è¿›è¡Œå¤„ç†ï¼Œè°¢è°¢ é‚®ç®±ï¼šthread_zhou@126.com ","permalink":"https://fuyi-atlas.github.io/posts/program/java/jvm/001/","summary":"å‰è¨€ è€ç”Ÿé•¿è°ˆï¼ŒJavaæ˜¯ä¸€ä¸ªä»€ä¹ˆäº‹ç‰©ï¼Œéƒ½æœ‰äº›ä»€ä¹ˆæ ·çš„ç‰¹æ€§å‘¢ï¼Ÿ\nJavaï¼šJava æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œæ‹¥æœ‰è·¨å¹³å°ã€é¢å‘å¯¹è±¡ã€æ³›å‹ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œå¹¿æ³›åº”ç”¨äºä¼ä¸šçº§Webåº”ç”¨å¼€å‘å’Œç§»åŠ¨åº”ç”¨å¼€å‘ã€‚\nJava ç¼–ç¨‹è¯­è¨€çš„é£æ ¼ååˆ†æ¥è¿‘C++è¯­è¨€ã€‚ç»§æ‰¿äº†C++è¯­è¨€é¢å‘å¯¹è±¡æŠ€æœ¯çš„æ ¸å¿ƒï¼Œèˆå¼ƒäº†å®¹æ˜“å¼•èµ·é”™è¯¯çš„æŒ‡é’ˆï¼Œä»¥å¼•ç”¨å–ä»£ï¼›ç§»é™¤äº†C++ä¸­çš„è¿ç®—ç¬¦é‡è½½å’Œå¤šé‡ç»§æ‰¿ç‰¹æ€§ï¼Œç”¨æ¥å£å–ä»£ï¼›å¢åŠ åƒåœ¾å›æ”¶å™¨åŠŸèƒ½ã€‚åœ¨Java SE 1.5ç‰ˆæœ¬ä¸­å¼•å…¥äº†æ³›å‹ç¼–ç¨‹ã€ç±»å‹å®‰å…¨çš„æšä¸¾ã€ä¸å®šé•¿å‚æ•°å’Œè‡ªåŠ¨è£…/æ‹†ç®±ç‰¹æ€§ã€‚Sunå¾®ç³»ç»Ÿå¯¹ Javaè¯­è¨€ çš„è§£é‡Šæ˜¯ï¼šâ€œJava ç¼–ç¨‹è¯­è¨€æ˜¯ä¸ªç®€å•ã€é¢å‘å¯¹è±¡ã€åˆ†å¸ƒå¼ã€è§£é‡Šæ€§ã€å¥å£®ã€å®‰å…¨ä¸ç³»ç»Ÿæ— å…³ã€å¯ç§»æ¤ã€é«˜æ€§èƒ½ã€å¤šçº¿ç¨‹å’ŒåŠ¨æ€çš„è¯­è¨€â€ã€‚\nJava ä¸åŒäºä¸€èˆ¬çš„ç¼–è¯‘è¯­è¨€æˆ–è§£é‡Šå‹è¯­è¨€ã€‚å®ƒé¦–å…ˆå°†æºä»£ç ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œå†ä¾èµ–å„ç§ä¸åŒå¹³å°ä¸Šçš„è™šæ‹Ÿæœºæ¥è§£é‡Šæ‰§è¡Œå­—èŠ‚ç ï¼Œä»è€Œå…·æœ‰â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€çš„è·¨å¹³å°ç‰¹æ€§ã€‚åœ¨æ—©æœŸ JVM ä¸­ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº† Java ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ä½†åœ¨J2SE1.4.2å‘å¸ƒåï¼ŒJava çš„è¿è¡Œé€Ÿåº¦æœ‰äº†å¤§å¹…æå‡ã€‚\nä»¥ä¸Šå†…å®¹æ¥è‡ªäºç»´åŸºç™¾ç§‘ï¼Œç»™å®šäº† Java ä¸€ä¸ªæ˜ç¡®çš„å®šä¹‰ï¼Œä½†æ˜¯å¯¹äºJavaå¹³å°ä»¥åŠç‰¹æ€§å¹¶æ²¡æœ‰å¾ˆå¥½çš„å½’ç»“ï¼Œä¸‹é¢æ˜¯æˆ‘æˆªå–è‡ªæå®¢æ—¶é—´Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²çš„éƒ¨åˆ†å†…å®¹ï¼š\nJava æœ¬èº«æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæœ€æ˜¾è‘—çš„ç‰¹æ€§æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€æ˜¯æ‰€è°“çš„â€œä¹¦å†™ä¸€æ¬¡ï¼Œåˆ°å¤„è¿è¡Œâ€ï¼ˆWrite once, run anywhereï¼‰ï¼Œèƒ½å¤Ÿéå¸¸å®¹æ˜“åœ°è·å¾—è·¨å¹³å°èƒ½åŠ›ï¼›å¦å¤–å°±æ˜¯åƒåœ¾æ”¶é›†ï¼ˆGC, Garbage Collectionï¼‰ï¼ŒJava é€šè¿‡åƒåœ¾æ”¶é›†å™¨ï¼ˆGarbage Collectorï¼‰å›æ”¶åˆ†é…å†…å­˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç¨‹åºå‘˜ä¸éœ€è¦è‡ªå·±æ“å¿ƒå†…å­˜çš„åˆ†é…å’Œå›æ”¶ã€‚\næˆ‘ä»¬æ—¥å¸¸ä¼šæ¥è§¦åˆ° JREï¼ˆJava Runtime Environmentï¼‰æˆ–è€… JDKï¼ˆJava Development Kitï¼‰ã€‚ JREï¼Œä¹Ÿå°±æ˜¯ Java è¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº† JVM å’Œ Java ç±»åº“ï¼Œä»¥åŠä¸€äº›æ¨¡å—ç­‰ã€‚è€Œ JDK å¯ä»¥çœ‹ä½œæ˜¯ JRE çš„ä¸€ä¸ªè¶…é›†ï¼Œæä¾›äº†æ›´å¤šå·¥å…·ï¼Œæ¯”å¦‚ç¼–è¯‘å™¨ã€å„ç§è¯Šæ–­å·¥å…·ç­‰ã€‚\nå¯¹äºâ€œJava æ˜¯è§£é‡Šæ‰§è¡Œâ€è¿™å¥è¯ï¼Œè¿™ä¸ªè¯´æ³•ä¸å¤ªå‡†ç¡®ã€‚æˆ‘ä»¬å¼€å‘çš„ Java çš„æºä»£ç ï¼Œé¦–å…ˆé€šè¿‡ Javac ç¼–è¯‘æˆä¸ºå­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œç„¶åï¼Œåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰å†…åµŒçš„è§£é‡Šå™¨å°†å­—èŠ‚ç è½¬æ¢æˆä¸ºæœ€ç»ˆçš„æœºå™¨ç ã€‚ä½†æ˜¯å¸¸è§çš„ JVMï¼Œæ¯”å¦‚æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä½¿ç”¨çš„ Oracle JDK æä¾›çš„ Hotspot JVMï¼Œéƒ½æä¾›äº† JITï¼ˆJust-In-Timeï¼‰ç¼–è¯‘å™¨ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„åŠ¨æ€ç¼–è¯‘å™¨ï¼ŒJIT èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶å°†çƒ­ç‚¹ä»£ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™ç§æƒ…å†µä¸‹éƒ¨åˆ†çƒ­ç‚¹ä»£ç å°±å±äºç¼–è¯‘æ‰§è¡Œï¼Œè€Œä¸æ˜¯è§£é‡Šæ‰§è¡Œäº†ã€‚\nåœ¨ç»´åŸºç™¾ç§‘ç»™å‡ºçš„å®šä¹‰ä¸­ï¼Œæåˆ° Java ç¼–ç¨‹è¯­è¨€æ˜¯è§£é‡Šæ€§çš„è¯­è¨€ï¼Œè€Œåœ¨Javaæ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®²ä¸­æå‡ºè¯¥è¯´æ³•ä¸å¤ªå‡†ç¡®ï¼Œæˆ‘æ¯”è¾ƒè®¤å¯åè€…çš„çœ‹æ³•ã€‚ç±»ä¼¼ JITã€AOTï¼ˆAhead-of-Time Compilationï¼Œåœ¨æ‰§è¡Œå‰ç›´æ¥å°†å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ä»£ç ï¼Œé™æ€ç¼–è¯‘ï¼‰ æŠ€æœ¯çš„å‡ºç°ä»¥åŠå®è·µï¼Œä½¿å¾— Java çš„è§£é‡Šæ€§å˜å¾—ä¸é‚£ä¹ˆçº¯ç²¹ï¼Œæ­¤æ—¶ä»ä¸åŒçš„è§’åº¦å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œæ¯”å¦‚ä»å æ¯”ä¸Šè€ƒè™‘ï¼Œé‚£ä¹ˆ Java è¿˜æ˜¯è§£é‡Šæ€§çš„ï¼›å¦‚æœä» JIT çš„è§’åº¦çœ‹ï¼Œæ­¤åˆ»çš„ Java æ˜¯ç¼–è¯‘æ€§çš„ï¼›è€Œä»æ€»ä½“çš„è§’åº¦æ¥çœ‹ï¼Œåˆ™æ˜¯æ··åˆæ€§çš„ï¼ˆè§£é‡Šå’Œç¼–è¯‘çš„æ··åˆï¼‰ã€‚","title":"jvm åŸºç¡€å…¥é—¨"},{"content":"å‰è¨€ åœ¨æˆ‘ä»¬æ—¥å¸¸çš„åˆ’æ°´ä¸­ï¼Œå¸¸å¸¸å¬åˆ°æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€æŒç»­äº¤ä»˜ã€DevOpsï¼Œé‚£ä¹ˆè¿™äº›åè¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¯¹æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿèƒ½å¤Ÿæé«˜åˆ’æ°´çš„æ•ˆç‡å‘¢ï¼Ÿå…¶å®å¯¹äºåè¯çš„è§£é‡Šå§‹ç»ˆè¿˜æ˜¯åƒäººåƒé¢ï¼Œä¸åŒç¯å¢ƒä¸‹å¿…ç„¶å­˜åœ¨ä¸åŒçš„äº§ç‰©ï¼Œæˆ‘ä»Šå¤©æƒ³è¯´ä¸€è¯´æˆ‘è‡ªå·±çš„ç†è§£ï¼Œå¸Œæœ›ä¸ä¼šå¯¹ä½ æœ‰è¯¯å¯¼ã€‚\nä»€ä¹ˆæ˜¯æŒç»­äº¤ä»˜ æŒç»­äº¤ä»˜ï¼šï¼ˆè‹±è¯­ï¼šContinuous deliveryï¼Œç¼©å†™ä¸º CDï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æ‰‹æ³•ï¼Œè®©è½¯ä»¶äº§å“çš„äº§å‡ºè¿‡ç¨‹åœ¨ä¸€ä¸ªçŸ­å‘¨æœŸå†…å®Œæˆï¼Œä»¥ä¿è¯è½¯ä»¶å¯ä»¥ç¨³å®šã€æŒç»­çš„ä¿æŒåœ¨éšæ—¶å¯ä»¥é‡Šå‡ºçš„çŠ¶å†µã€‚å®ƒçš„ç›®æ ‡åœ¨äºè®©è½¯ä»¶çš„å»ºç½®ã€æµ‹è¯•ä¸é‡Šå‡ºå˜å¾—æ›´å¿«ä»¥åŠæ›´é¢‘ç¹ã€‚è¿™ç§æ–¹å¼å¯ä»¥å‡å°‘è½¯ä»¶å¼€å‘çš„æˆæœ¬ä¸æ—¶é—´ï¼Œå‡å°‘é£é™©ã€‚\nç”±ä¸Šå¯çŸ¥ï¼ŒæŒç»­äº¤ä»˜çš„å…³æ³¨ç‚¹åœ¨äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\nçŸ­å‘¨æœŸ éšæ—¶å¯é‡Šå‡º é¢‘ç¹æ„å»º æŒç»­äº¤ä»˜ä¹Ÿå¯ä»¥æ‹†å¼€åˆ†æï¼Œæ‰€è°“æŒç»­ä¾¿æ˜¯ä¸€ç›´çš„é¢‘ç¹çš„åšæŸä»¶äº‹ï¼Œæœ‰ä¸€ç§å¼€å§‹ä¹Ÿæ˜¯ç»“æŸï¼Œç»“æŸä¹Ÿæ˜¯æ–°çš„å¼€å§‹çš„æ„Ÿè§‰ï¼Œéœ€è¦é—­ç¯åé¦ˆæ¥æ”¯æŒä¸‹ä¸€ä¸ªé˜¶æ®µçš„æŒç»­è¡Œä¸ºï¼›è€Œäº¤ä»˜åˆ™è¡¨ç¤ºé’ˆå¯¹å½“å‰äº¤ä»˜ç›®æ ‡é‡Šå‡ºå¯è¡Œçš„äº§ç‰©ã€‚ä¸Šé¢æåˆ°çš„éšæ—¶å¯é‡Šå‡ºå’Œé¢‘ç¹æ„å»ºå¾ˆå¥½çš„ä½“ç°äº†æŒç»­äº¤ä»˜çš„è¡Œä¸ºç‰¹æ€§ï¼Œè€ŒçŸ­å‘¨æœŸåˆ™æ˜¯è¡¨ç¤ºæ¯ä¸€ä¸ªé˜¶æ®µçš„äº¤ä»˜è¿‡ç¨‹åº”è¯¥åœ¨ä¸€ä¸ªçŸ­çš„å‘¨æœŸä¹‹å†…å®Œæˆï¼Œå› ä¸ºçŸ­å‘¨æœŸæ„å‘³ç€å¿«é€Ÿäº¤ä»˜ã€å¿«é€Ÿåé¦ˆã€å¿«é€Ÿååº”å¹¶å¿«é€Ÿçš„å¾ªç¯åå¤ï¼Œè€Œé•¿å‘¨æœŸå¿…ç„¶ä¼šåŠ å¤§ä¸€æ¬¡äº¤ä»˜æµç¨‹çš„è€—æ—¶ï¼ˆåŠ å¤§è¯•é”™æˆæœ¬ï¼Œæ— æ³•å¿«é€Ÿååº”ï¼‰ï¼Œæ‰€ä»¥è¿™æ ·æ‰èƒ½å¤Ÿè¾¾åˆ°æŒç»­äº¤ä»˜çš„ç›®çš„ï¼ˆéšæ—¶å¯äº¤ä»˜ï¼‰ã€‚è‡³äºä»€ä¹ˆæ‰æ˜¯åˆé€‚çš„çŸ­å‘¨æœŸï¼Œè¿™ä¸ªéœ€è¦ç»“åˆä¼ä¸šæˆ–å›¢é˜Ÿçš„å…·ä½“æƒ…å†µï¼ˆæ¯”å¦‚é¡¹ç›®å½“å‰æ‰€å¤„é˜¶æ®µã€ç ”å‘äººå‘˜ç´ è´¨ã€ç ”å‘ä¸Šçº¿æµç¨‹ç­‰ï¼‰è¿›è¡Œè€ƒè™‘ã€‚\nè¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆæŒç»­äº¤ä»˜æ˜¯ä»¥ä»€ä¹ˆæ ·çš„å½¢å¼ã€‚å¦‚ä½•è½åœ°åˆ°æˆ‘ä»¬æ—¥å¸¸çš„å·¥ä½œä¸­çš„å‘¢ï¼Ÿç»“åˆç¾å›¢å¤–å–æŒç»­äº¤ä»˜åˆ†äº«ï¼ˆç¾å›¢å¤–å–æŒç»­äº¤ä»˜çš„å‰ä¸–ä»Šç”Ÿï¼‰å’Œæå®¢æ—¶é—´è¯¾ç¨‹æŒç»­äº¤ä»˜36è®²ï¼Œæˆ‘æ€»ç»“äº†å¦‚ä¸‹çš„ä¸€ç§æè¿°ã€‚ï¼ˆå¸Œæœ›ä¸ä¼šå°†ä½ å¸¦åï¼‰\nå…³äºæŒç»­äº¤ä»˜ï¼Œä¸åŒçš„ä¼ä¸šã€ä¸åŒçš„å›¢é˜Ÿç«™åœ¨ä¸åŒçš„è§’åº¦ä¼šå­˜åœ¨ä¸åŒçš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæŒç»­äº¤ä»˜å®šä¹‰ä¸ºä¸€ä¸ªäº§å“ä»·å€¼çš„å¼€å‘æ¡†æ¶ï¼ˆç«™åœ¨ä¼ä¸šçš„è§’åº¦ï¼‰ã€ä¸€å¥—è½¯ä»¶å·¥ç¨‹æ–¹æ³•è®ºä»¥åŠè®¸è®¸å¤šå¤šæœ€ä½³å®è·µçš„é›†åˆã€‚æŒç»­äº¤ä»˜çš„è½åœ°ä¾¿æ˜¯å¼€å‘æ¡†æ¶æˆ–è½¯ä»¶å·¥ç¨‹æ–¹æ³•è®ºä¸å®é™…æƒ…å†µçš„ç»“åˆçš„å®è·µï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯æœ€ä½³å®è·µçš„æ’åˆ—ç»„åˆï¼‰ï¼Œæ›´è¯¦ç»†çš„å®è·µæƒ…å†µè¿˜è¯·æ¥ç€å¾€åçœ‹ã€‚\næŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€DevOpså’ŒæŒç»­äº¤ä»˜çš„å…³ç³» æŒç»­é›†æˆ æŒç»­é›†æˆï¼šï¼ˆè‹±è¯­ï¼šContinuous integrationï¼Œç¼©å†™CIï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æµç¨‹ï¼Œæ˜¯å°†æ‰€æœ‰è½¯ä»¶å·¥ç¨‹å¸ˆçš„è½¯ä»¶å·¥ä½œå‰¯æœ¬æŒç»­é›†æˆåˆ°å…±äº«ä¸»çº¿ï¼ˆmainlineï¼‰çš„ä¸€ç§ä¸¾æªã€‚è¯¥åç§°æœ€æ—©ç”±è‘›æ¥è¿ª.å¸ƒåŒºï¼ˆGrady Boochï¼‰åœ¨ä»–çš„å¸ƒåŒºæ–¹æ³•ä¸­æå‡ºï¼Œåœ¨æµ‹è¯•å¼€å‘é©±åŠ¨ï¼ˆTDDï¼‰çš„å®è·µä¸­ï¼Œé€šå¸¸è¿˜ä¼šæ­é…è‡ªåŠ¨å•å…ƒæµ‹è¯•ã€‚æŒç»­é›†æˆçš„æå‡ºä¸»è¦æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶è¿›è¡Œç³»ç»Ÿé›†æˆæ—¶é¢ä¸´çš„å„ç§é—®é¢˜ï¼Œæé™ç¼–ç¨‹ç§°è¿™äº›é—®é¢˜ä¸ºé›†æˆåœ°ç‹±ï¼ˆintegration hellï¼‰ã€‚\næŒç»­é›†æˆçš„å…³æ³¨ç‚¹åœ¨äºï¼š\né¢‘ç¹é›†æˆ æœ‰æ•ˆåä½œ è‡ªåŠ¨åŒ–æµ‹è¯• æˆ‘ä»¬é€šå¸¸ä¼šå°†è½¯ä»¶ç ”å‘å·¥ä½œæ‹†è§£ï¼Œæ‹†åˆ†æˆä¸åŒæ¨¡å—æˆ–ä¸åŒå›¢é˜Ÿè¿›è¡Œç¼–ç ï¼Œç¼–ç å®Œæˆåï¼Œè¿›è¡Œé›†æˆæ„å»ºå’Œæµ‹è¯•ã€‚è¿™ä¸ªä»ç¼–ç åˆ°æ„å»ºå†åˆ°æµ‹è¯•çš„åå¤æŒç»­è¿‡ç¨‹ï¼Œå°±å«åšæŒç»­é›†æˆã€‚ç”±æŒç»­é›†æˆçš„å®šä¹‰å¯è”æƒ³åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œå¦‚ Gitï¼Œè¿›è€Œå¯ä»¥å…³è”åˆ°åˆ†æ”¯ç­–ç•¥ï¼ˆå¦‚ï¼šGit Flowã€GitHub FLowã€GitLab Flowï¼‰ï¼Œå¯ä»¥è¯´åˆ†æ”¯ç­–ç•¥æ˜¯æŒç»­é›†æˆçš„å‰ç½®æ¡ä»¶ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šæœ‰ä¸€ä¸ªåˆ†æ”¯ä½œä¸ºé›†æˆä½¿ç”¨ï¼ŒåŠ ä¸Šå¤šä¸ªç‰¹æ€§åˆ†æ”¯ï¼ˆè¿™é‡Œå’Œå…·ä½“çš„åˆ†æ”¯ç­–ç•¥å¼ºç›¸å…³ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å›¢é˜Ÿçš„éƒ½æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œå½“ç‰¹æ€§åˆ†æ”¯å¼€å‘å®Œæ¯•ï¼Œé€šè¿‡ PR è¯·æ±‚åˆå¹¶åˆ°é›†æˆåˆ†æ”¯ï¼Œæ­¤æ—¶ä¼šè§¦å‘æŒç»­é›†æˆå·¥ä½œæµç¨‹ï¼Œä¿è¯å¾…åˆå¹¶çš„åˆ†æ”¯å†…å®¹æ˜¯æœ‰æ•ˆçš„ï¼Œåªæœ‰é€šè¿‡æŒç»­é›†æˆæµç¨‹éªŒè¯ï¼Œæ‰èƒ½åˆå¹¶åˆ°é›†æˆåˆ†æ”¯ã€‚\næŒç»­éƒ¨ç½² æŒç»­éƒ¨ç½²ï¼šï¼ˆè‹±è¯­ï¼šContinuous deploymentï¼Œç¼©å†™ä¸ºCDï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æ–¹æ³•ï¼Œæ„æŒ‡åœ¨è½¯ä»¶å¼€å‘æµç¨‹ä¸­ï¼Œä»¥è‡ªåŠ¨åŒ–ã€é¢‘ç¹è€Œä¸”æŒç»­æ€§çš„ï¼Œå°†è½¯ä»¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆproduction environmentï¼‰ä¸­ï¼Œä½¿è½¯ä»¶äº§å“èƒ½å¤Ÿå¿«é€Ÿçš„å‘å±•ã€‚æŒç»­éƒ¨ç½²å¯ä»¥è¢«æ•´åˆåˆ°æŒç»­é›†æˆä¸æŒç»­äº¤ä»˜çš„æµç¨‹ä¹‹ä¸­ã€‚\næŒç»­éƒ¨ç½²çš„å…³æ³¨ç‚¹åœ¨äºï¼š\nè‡ªåŠ¨åŒ–çš„ é¢‘ç¹çš„ æŒç»­æ€§ ç”Ÿäº§ç¯å¢ƒ åœ¨ä¸€äº›ä¼ä¸šçš„è½¯ä»¶éƒ¨ç½²å·¥ä½œä¸­ï¼Œä»ç„¶å­˜åœ¨å…¨äººå·¥æ“ä½œçš„æ–¹å¼ã€‚å¦‚æœåªæ˜¯å•çº¯çš„å®‰è£…éƒ¨ç½²ç›®çš„è¿˜è¾ƒä¸ºå®¹æ˜“ï¼ˆä¸è¿‡ç¹ççš„é…ç½®ï¼Œäººå·¥çš„ä¸è§„èŒƒã€ä¸ç¡®å®šæ€§ï¼Œéƒ¨ç½²çš„è€—æ—¶ç­‰éƒ½æ˜¯æˆæœ¬ï¼‰ï¼›è€Œå¦‚æœæ˜¯å·²ä¸Šçº¿çš„æœåŠ¡çš„éƒ¨ç½²å·¥ä½œï¼ˆæœåŠ¡æ›´æ–°ï¼‰ï¼Œæ­¤æ—¶çš„æ¶‰åŠé¢ä»¥åŠå—å½±å“çš„èŒƒå›´å°±æ¯”è¾ƒå¤§äº†ã€‚å°±ç®—é‡Šå‡ºçš„äº§ç‰©å·²ç»å¯ä»¥è¾¾åˆ°å¯äº¤ä»˜çš„æ ‡å‡†ï¼Œä½†æ˜¯è¦ä½¿å¾—ç”¨æˆ·çœŸæ­£å¯ç”¨ï¼Œè¿˜éœ€è¦è·¨è¶Šå®‰å…¨ã€å¿«é€Ÿä»¥åŠç¨³å®šéƒ¨ç½²çš„éšœç¢ã€‚é‚£ä¹ˆæ˜¯å¦å¯ä»¥å°†éƒ¨ç½²çš„åœºæ™¯å’Œè¿‡ç¨‹è¿›è¡ŒæŠ½è±¡ï¼Œä½¿ç”¨ç»Ÿä¸€çš„ã€è§„èŒƒçš„ã€è‡ªåŠ¨åŒ–çš„æ–¹æ³•è®ºå’Œæµç¨‹æ¥çº¦æŸå’Œå®ç°éƒ¨ç½²çš„è¿‡ç¨‹ã€‚è€ŒæŒç»­éƒ¨ç½²ä¾¿æ˜¯è¿™æ ·çš„ä¸€å¥—æ–¹æ³•è®ºåŠå®è·µå·¥å…·é›†ï¼Œæ—¨åœ¨è§„èŒƒéƒ¨ç½²è¡Œä¸ºï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æé«˜éƒ¨ç½²æ•ˆç‡ï¼Œè¾¾åˆ°æŒç»­éƒ¨ç½²ç›®çš„ã€‚\næŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ä¸æŒç»­äº¤ä»˜çš„å…³ç³» å½“æåˆ°æŒç»­äº¤ä»˜çš„æ—¶å€™ï¼Œæ€»èƒ½å…³è”åˆ°æŒç»­é›†æˆä¸æŒç»­éƒ¨ç½²ï¼Œæˆ‘ä¹Ÿä¸€ç›´å‚»å‚»åˆ†ä¸æ¸…è¿™ä¸‰è€…ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ˜¯ä»€ä¹ˆæ ·çš„å…³ç³»ã€‚ä¸è¿‡ä»å‰é¢ç»™å‡ºçš„å®šä¹‰å’Œå…³æ³¨ç‚¹å¯ä»¥çŸ¥é“ï¼ŒæŒç»­é›†æˆä¾§é‡äºç¼–ç é˜¶æ®µå†…å¤šäººåä½œäº§ç‰©é›†æˆçš„æœ‰æ•ˆæ€§ï¼ŒæŒç»­éƒ¨ç½²ä¾§é‡äºå°†äº§ç‰©éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œè€ŒæŒç»­äº¤ä»˜åˆ™ä¾§é‡äºéœ€è¦éšæ—¶å¯é‡Šå‡ºï¼›è€Œç›¸åŒç‚¹åœ¨äºä»–ä»¬ä¸‰è€…éƒ½æ¨å´‡æŒç»­æ€§ï¼Œå³å­˜åœ¨ä¸€ä¸ªåé¦ˆçš„è¿‡ç¨‹ï¼Œä¸”åé¦ˆçš„ç»“æœä½œä¸ºä¸‹ä¸€é˜¶æ®µæŒç»­çš„æ”¯æŒã€‚\nå†è¯´åˆ°æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²å’ŒæŒç»­äº¤ä»˜ä¹‹é—´çš„å…³ç³»ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰è¶£çš„åœ°æ–¹ï¼Œé‚£å°±æ˜¯åœ¨ä¸åŒçš„è§†è§’ä¸‹ï¼Œä¸‰è€…çš„å…³ç³»å¹¶ä¸ä¸€æ ·ï¼Œè¿™é‡Œå€Ÿé‰´ç¾å›¢å¤–å–åˆ†äº«çš„å†…å®¹ï¼ˆç¾å›¢å¤–å–æŒç»­äº¤ä»˜çš„å‰ä¸–ä»Šç”Ÿï¼‰ä¸¾ä¾‹ï¼Œä»ç ”å‘å’Œäº§å“çš„è§’åº¦æ¥åˆ†æè¿™ä¸‰è€…çš„å…³ç³»ã€‚\nç ”å‘è§†è§’ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†ç ”å‘å›¢é˜Ÿï¼Œä¼šä»è½¯ä»¶ç ”å‘çš„è§’åº¦è¿›è¡Œå®šä¹‰ï¼Œä»–ä»¬å°†è½¯ä»¶çš„å¼€å‘æ­¥éª¤æ‹†è§£ä¸ºæŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€æŒç»­éƒ¨ç½²ï¼Œå…¶ä¸­æŒç»­é›†æˆæŒ‡å¼€å‘äººå‘˜ä»ç¼–ç åˆ°æ„å»ºçš„è¿‡ç¨‹ï¼›æŒç»­äº¤ä»˜åˆ™ä½œä¸ºæŒç»­é›†æˆçš„è‡ªç„¶å»¶ç»­ï¼ŒæŒ‡å°†å·²ç»é›†æˆæ„å»ºå®Œæˆçš„ä»£ç ï¼Œäº¤ç»™æµ‹è¯•å›¢é˜Ÿè¿›è¡Œæµ‹è¯•çš„è¿‡ç¨‹ï¼›æŒç»­éƒ¨ç½²æŒ‡å°†æµ‹è¯•é€šè¿‡çš„è½¯ä»¶äº¤ä»˜ç»™ç”¨æˆ·çš„è¿‡ç¨‹ã€‚åœ¨ç ”å‘çš„è§†è§’ä¸‹ï¼ŒæŒç»­äº¤ä»˜å°±æ˜¯ä¸€ä¸ªæ‰¿ä¸Šå¯ä¸‹çš„è¿‡ç¨‹ï¼Œä¸æŒç»­é›†æˆå½¢æˆäº†é—­ç¯ï¼Œè€Œåˆä¸ºå°†æ¥è¾¾åˆ°æŒç»­éƒ¨ç½²åšä¸‹äº†å‡†å¤‡ã€‚æ­¤æ—¶æŒç»­é›†æˆ + æŒç»­äº¤ä»˜ + æŒç»­éƒ¨ç½²ä¾¿æ˜¯ä¸€æ¡å®Œæ•´çš„å‘å¸ƒæµæ°´çº¿ã€‚\näº§å“è§†è§’ï¼šäº§å“å›¢é˜Ÿä¼šç«™åœ¨äº§å“çš„è§’åº¦æ¥çœ‹ï¼Œä»–ä»¬è®¤ä¸ºæŒç»­äº¤ä»˜ï¼Œæ˜¯ä»éœ€æ±‚çš„ PRD æ–‡æ¡£æå‡ºæ¥ï¼Œåˆ°ç”¨æˆ·èƒ½å¤Ÿæ„Ÿå—è¿™ä¸ªéœ€æ±‚çš„å‘¨æœŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶æŒç»­äº¤ä»˜æ˜¯å®Œæ•´çš„åŒ…å«äº†æŒç»­é›†æˆä¸æŒç»­éƒ¨ç½²ï¼Œä½†æ˜¯æŒç»­äº¤ä»˜æ¶µç›–èŒƒå›´æ˜¯å¤§äºæŒç»­é›†æˆ + æŒç»­éƒ¨ç½²ã€‚å¹¶ä¸”ï¼Œæ­¤æ—¶çš„æŒç»­äº¤ä»˜æµç¨‹æœ¬èº«å°±åŒ…å«äº†ä¸€æ¡å®Œæ•´çš„å‘å¸ƒæµæ°´çº¿ã€‚\nå€Ÿç”¨æŒç»­äº¤ä»˜36è®²ä¸­çš„ å‘å¸ƒæµæ°´çº¿ ç¤ºæ„å›¾\nè¯´åˆ°è¿™é‡Œå·²ç»ä¸éš¾çœ‹å‡ºï¼Œå½±å“ä¸‰è€…ä¹‹é—´ç›¸äº’å…³ç³»çš„å› ç´ ä¸»è¦åœ¨äºå¯¹äºæŒç»­äº¤ä»˜çš„å®šä½ã€‚åœ¨è¿™é‡Œå…ˆè¯´è¯´æˆ‘è‡ªå·±çš„çœ‹æ³•ï¼Œæˆ‘è®¤ä¸ºæŒç»­äº¤ä»˜çš„æ ¸å¿ƒè¦ä¹‰åœ¨äºï¼šçŸ­å‘¨æœŸã€æ—¶åˆ»å¯é‡Šå‡ºã€æŒç»­æ„å»ºï¼Œå³åœ¨äºæŒç»­çš„äº§å‡ºä¸æŒç»­éªŒè¯ï¼Œç”±äº§å‡ºä¸éªŒè¯å½¢æˆé—­ç¯ï¼Œè¿›è€Œç›¸äº’æ¨åŠ¨ï¼Œä»¥è¾¾åˆ°å¿«é€Ÿååº”ï¼Œå¿«é€Ÿå®ç°ï¼ŒæŒç»­ä¼˜åŒ–ã€‚è€ŒçŸ­å‘¨æœŸä¾¿æ˜¯ä¸€æ¬¡äº¤ä»˜è¿‡ç¨‹è€—æ—¶çš„é¢„å®šä¹‰ï¼Œä¹Ÿæ˜¯å¯¹äºæ•ˆç‡çš„è¦æ±‚ï¼Œä½†ä¸€å®šä¸æ˜¯å¯¹ç”¨äººçš„å‹æ¦¨ï¼ˆå»ä½ xxxï¼‰ã€‚åœ¨æŒç»­äº¤ä»˜ä¸­ï¼Œäº¤ä»˜å¯¹è±¡ä¸ä¸€å®šå°±æ˜¯æœ€ç»ˆç”¨æˆ·ï¼Œæ‰€ä»¥åƒä¸‡ä¸è¦è®¤ä¸ºä¸€å®šè¦åšåˆ°ç«¯åˆ°ç«¯å®Œæ•´æ‰æ˜¯æŒç»­äº¤ä»˜ã€‚æŒç»­äº¤ä»˜æ˜¯ä¸€ä¸ªå‘¨æœŸæ€§ã€å¯æŒç»­çš„è¡Œä¸ºï¼Œå¯ä»¥åªæ˜¯ç ”å‘åˆ°æµ‹è¯•çš„é—­ç¯ï¼Œæ­¤æ—¶äºç ”å‘è€Œè¨€äº¤ä»˜å¯¹è±¡æ˜¯æµ‹è¯•å›¢é˜Ÿï¼Œäº¤ä»˜ç‰©ä¸ºé€šè¿‡æŒç»­é›†æˆéªŒè¯çš„ä»£ç ï¼›ä¹Ÿå¯ä»¥å¦‚äº§å“è§†è§’ä¸€èˆ¬ï¼Œä»éœ€æ±‚çš„ PRD æå‡ºæ¥åˆ°ç”¨æˆ·èƒ½å¤Ÿæ„Ÿå—åˆ°è¿™ä¸ªéœ€æ±‚çš„å‘¨æœŸï¼Œæ­¤æ—¶äº¤ä»˜å¯¹è±¡ä¸ºç”¨æˆ·ï¼Œäº¤ä»˜ç‰©ä¸ºå¯ç”¨çš„äº§å“ã€‚\næ‰€ä»¥æŒç»­äº¤ä»˜å¯ä»¥åªæ˜¯ä¸€å¥—æ–¹æ³•è®ºï¼Œå¯ä»¥æ˜¯äº§å“ä»·å€¼å¼€å‘æ¡†æ¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€éƒ¨åˆ†æµç¨‹å®è·µã€‚äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘æ›´è®¤åŒæŒç»­äº¤ä»˜æ˜¯ä¸€å¥—æ–¹æ³•è®ºï¼ˆå…¼äº§å“ä»·å€¼å¼€å‘æ¡†æ¶ï¼‰ï¼Œç”±æ­¤æŒ‡å¯¼æŒç»­äº¤ä»˜ä½“ç³»çš„å»ºè®¾ã€‚å¦‚æœä½ é—®æˆ‘æŒç»­äº¤ä»˜ä½“ç³»å®è·µä¸­ä½¿ç”¨åˆ°çš„æŠ€æœ¯æ˜¯ä¸æ˜¯æŒç»­äº¤ä»˜ï¼Œæˆ‘ä¼šè¯´ï¼Œåœ¨å…¶ä¸­ä½¿ç”¨åˆ°çš„æŠ€æœ¯æˆ–å·¥å…·åªæ˜¯å½“å‰æŒç»­äº¤ä»˜ä½“ç³»å»ºè®¾çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚æ‰€ä»¥ï¼Œå…³äºæŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€æŒç»­äº¤ä»˜ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘è®¤åŒä¸ºï¼šä¸‰è€…ç›¸äº’æ¸—é€ï¼ˆå¯èƒ½è¿™ä¸ªè¯ä¸æ˜¯å¾ˆæ°å½“ï¼‰ï¼Œå¹¶æ²¡æœ‰ç»å¯¹çš„ç‹¬ç«‹ã€‚\nDevOps DevOpsï¼šï¼ˆæ˜¯ Development å’Œ Operations çš„ç»„åˆè¯ï¼‰ï¼Œæ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œIT è¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€šè¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚\nä¼ ç»Ÿçš„è½¯ä»¶ç»„ç»‡å°†å¼€å‘ã€IT è¿ç»´å’Œè´¨é‡ä¿éšœè®¾ä¸ºå„è‡ªåˆ†ç¦»çš„éƒ¨é—¨ï¼Œå†è¿™æ ·çš„ç¯å¢ƒä¸‹å¦‚ä½•é‡‡ç”¨çš„æ–°çš„å¼€å‘æ–¹æ³•ï¼ˆä¾‹å¦‚æ•æ·è½¯ä»¶å¼€å‘ï¼‰ï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚æŒ‰ç…§ä»å‰çš„å·¥ä½œæ–¹å¼ï¼Œå¼€å‘å’Œéƒ¨ç½²ï¼Œä¸éœ€è¦ IT æˆ–è€… QA æ”¯æŒï¼ˆè·¨éƒ¨é—¨çš„æŒä¹‹ï¼‰ï¼Œè€Œç°åœ¨å´éœ€è¦æå…¶ç´§å¯†çš„å¤šéƒ¨é—¨åä½œã€‚è€Œ DevOps è€ƒè™‘çš„ä¸ä»…ä»…æ˜¯è½¯ä»¶éƒ¨ç½²ï¼Œå®ƒæ˜¯ä¸€å¥—é’ˆå¯¹è¿™å‡ ä¸ªéƒ¨é—¨é—´æ²Ÿé€šä¸åä½œé—®é¢˜çš„æµç¨‹å’Œæ–¹æ³•ã€‚\nä»¥ä¸Šå…³äº DevOps çš„å®šä¹‰æ‘˜å–å­ç»´åŸºç™¾ç§‘ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­æå–åˆ°å¦‚ä¸‹å‡ ä¸ªå…³æ³¨ç‚¹ï¼š\næ˜¯ä¸€ç§æ–‡åŒ– æ˜¯ä¸€ç§è¿åŠ¨ æ²Ÿé€šåä½œ è‡ªåŠ¨åŒ– æŒç»­æ€§ é¢‘ç¹ ä½é£é™©ã€å¯é  é€šè¿‡ä¸Šè¿°å®šä¹‰å’Œç®€å•åˆ†æï¼Œæˆ‘ä»¬å¯¹ DevOps æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ï¼Œä½†è¿˜ä¸å¤Ÿäº†è§£ï¼Œä¸è¶³å¤Ÿåœ¨æˆ‘ä»¬çš„è„‘æµ·é‡Œæ„å»ºä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„åœºæ™¯ï¼Œä¸‹é¢æˆ‘ä¼šå€Ÿé‰´æå®¢æ—¶é—´è¯¾ç¨‹ DevOps å®æˆ˜ç¬”è®°çš„æè¿°å’Œæˆ‘è‡ªå·±çš„ç†è§£æ¥åŠ æ·±ç†è§£ã€‚\næåˆ° DevOps æ˜¯ä»€ä¹ˆä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹ DevOps æƒ³è¦è§£å†³çš„é—®é¢˜ç©¶ç«Ÿæ˜¯ä¸ªå•¥ã€‚ç”±ç»´åŸºç™¾ç§‘ä¸­ç»™å®šçš„å®šä¹‰å¯çŸ¥ï¼ŒDevOps æœ€åˆå…³æ³¨è½¯ä»¶å¼€å‘å›¢é˜Ÿå’ŒITè¿ç»´å›¢é˜Ÿä¹‹é—´çš„æ²Ÿé€šåä½œé—®é¢˜ã€‚è€Œè°ˆåˆ°å¼€å‘ä¸è¿ç»´çš„ç›¸çˆ±ç›¸æ€ï¼Œåˆå¯ä»¥å…ˆè¯´ä¸€ä¸‹å½“å‰å­˜åœ¨çš„å¼€å‘æ¨¡å¼ï¼š\nç€‘å¸ƒå¼å¼€å‘æ¨¡å¼ï¼šè¯¥æ¨¡å¼å°†è½¯ä»¶äº¤ä»˜è¿‡ç¨‹åˆ’åˆ†æˆå‡ ä¸ªé˜¶æ®µï¼Œä»éœ€æ±‚åˆ°å¼€å‘ã€æµ‹è¯•åŠè¿ç»´ã€‚åœ¨è½¯ä»¶å¼€å‘çš„è§„æ¨¡æ—¥ç›Šæ‰©å¤§æ—¶ï¼Œé€šè¿‡åˆ†é˜¶æ®µã€é‡æµç¨‹ã€é‡è§„èŒƒã€é‡ç®¡æ§æ¥ä¿è¯æ¯ä¸€æ­¥éƒ½åœ¨è®¡åˆ’ä¹‹å†…ï¼Œå¹¶ä»¥äº¤ä»˜ç‰©ä½œä¸ºæ¯ä¸€ä¸ªé˜¶æ®µçš„é‡Šå‡ºï¼Œåªæœ‰è¾¾åˆ°äº¤ä»˜æ ‡å‡†æ‰å…è®¸è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚è¿™æ ·çš„å¼€å‘æ¨¡å¼éœ€è¦ä¸€å¼€å§‹å°±ç¡®å®šçš„çŸ¥é“é¡¹ç›®çš„ç›®æ ‡ã€èŒƒå›´ä»¥åŠå®ç°æ–¹å¼ï¼Œè€Œç°å®ä¸­å¤§éƒ¨åˆ†æ—¶å€™å¤„äºäº†è§£çš„ä¿¡æ¯å¹¶ä¸ååˆ†å……è¶³çš„é˜¶æ®µï¼Œå¦‚æ­¤æƒ…æ™¯ä¸‹çš„å†³ç­–æ€»æ˜¯ç¼ºå°‘ç€å®Œæ•´æ•°æ®çš„æ”¯æŒçš„ã€‚å¦‚æœåç»­å˜åŒ–è¾ƒå¤šã€è¾ƒå¤§ï¼Œéƒ½ä¼šå¯¼è‡´é¡¹ç›®äº¤ä»˜å‘¨æœŸæŒç»­å¢é•¿ã€‚\næ•æ·å¼å¼€å‘æ¨¡å¼ï¼šç€‘å¸ƒå¼å¼€å‘æ¨¡å¼ä¸é€‚åˆéœ€æ±‚ä¸æ˜ç¡®ï¼Œæ—¶é—´å‘¨æœŸè¾ƒä¸ºç´§å¼ çš„åœºæ™¯ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šå¾ˆå°‘æœ‰å·¥ç¨‹åœ¨ä¸€å¼€å§‹éœ€æ±‚å°±æ˜¯ååˆ†æ¸…æ™°ä¸”ç¨³å®šçš„ã€‚åŸºäºè¿™æ ·çš„é—®é¢˜ï¼Œæ•æ·çš„æ€è·¯å¼€å§‹ç››è¡Œã€‚åœ¨æˆ‘è‡ªä¸€æ¬¡å¬è¯´æ•æ·å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä¸€ç›´è¯¯è®¤ä¸ºä½¿ç”¨äº†æ•æ·å°±èƒ½åŠ é€Ÿäº§å‡ºçš„é€Ÿåº¦ï¼Œä½†å…¶å®è¿™ä¹ˆè¯´å¹¶ä¸åˆé€‚ã€‚æ•æ·çš„æ ¸å¿ƒç†å¿µæ˜¯ï¼Œæ—¢ç„¶æ— æ³•å……åˆ†äº†è§£ç”¨æˆ·çš„çœŸå®éœ€æ±‚ï¼Œé‚£ä¹ˆå°±æ‹¥æŠ±å˜åŒ–å§ï¼Œå°†ä¸€ä¸ªå¤§çš„ç›®æ ‡æ‹†è§£ä¸ºä¸€ä¸ªä¸ªå°çš„å¯äº¤ä»˜çš„ç›®æ ‡ï¼Œç„¶åä¸æ–­è¿­ä»£ï¼Œä»¥å°æ­¥å¿«è·‘çš„æ–¹å¼æŒç»­å¼€å‘ï¼ˆåˆ†æ²»æ€æƒ³ï¼Œæ¯ä¸€ä¸ªå°çš„è¿­ä»£äº§ç”Ÿçš„å˜åŒ–æ˜¯å°çš„ï¼Œå¸¦æ¥çš„å½±å“ä¹Ÿæ˜¯å°çš„ï¼Œå¯ä»¥å¹³æ»‘çš„è¿›è¡Œç”Ÿé•¿ï¼‰ã€‚ä¸æ­¤åŒæ—¶ï¼Œå°†æµ‹è¯•å·¥ä½œæ³¨å…¥åˆ°æ•´ä¸ªå¼€å‘æ´»åŠ¨ä¸­ï¼Œå¯¹å¼€å‘äº¤ä»˜çš„å†…å®¹è¿›è¡ŒæŒéªŒè¯ï¼Œä¿è¯æ¯æ¬¡å¯äº¤ä»˜çš„éƒ½æ˜¯ä¸€ä¸ªå¯ç”¨çš„åŠŸèƒ½é›†åˆï¼Œå¹¶ä¸”æŠŠè´¨é‡æŠŠæ§å†…å¥åœ¨ç ”å‘ç¯èŠ‚ä¸­ï¼Œäº¤ä»˜åŠŸèƒ½çš„è´¨é‡ä¹Ÿæ˜¯æœ‰ä¿éšœçš„ã€‚æ•æ·ä¹‹æ‰€ä»¥æ•æ·ï¼Œæ ¹æœ¬åŸå› åœ¨äºæŒç»­è¿­ä»£å’ŒæŒç»­éªŒè¯èŠ‚çœäº†å¤§é‡ä¸å¿…è¦çš„æµªè´¹å’Œè¿”å·¥ã€‚\nDevOpsæ¨¡å¼\nåœ¨ç€‘å¸ƒæ¨¡å¼ä¸­ï¼Œå¼€å‘ã€æµ‹è¯•ã€å‘å¸ƒæ˜¯ç”±ä¸‰ä¸ªå„è‡ªç‹¬ç«‹çš„éƒ¨é—¨åä½œå®Œæˆï¼›åˆ°äº†æ•æ·å¼å¼€å‘æ¨¡å¼ä¸­ï¼Œæµ‹è¯•å·²ç»æˆåŠŸçš„è¢«æ‹‰æ‹¢åˆ°äº†å¼€å‘é˜¶æ®µä¸­ï¼Œå‰©ä¸‹ç‹¬è‡ªç¾ä¸½çš„è¿ç»´ã€‚ä½†æ˜¯ï¼Œä¸ºäº†å·¥ä½œçš„æ•ˆç‡ï¼Œå¤§å®¶çš„å¿«ä¹ï¼Œåªèƒ½æƒ³åŠæ³•è®©æ‰€æœ‰äººä¸€å—ç¾ä¸½ã€‚å°±æ˜¯åœ¨è¿™æ ·çš„ç¯å¢ƒä¸‹ï¼ŒDevOps åº”è¿è€Œç”Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒDevOps æœ€å¼€å§‹æƒ³è¦åšçš„ï¼Œå°±æ˜¯æ‰“ç ´å¼€å‘ä¸è¿ç»´ä¹‹é—´çš„å¯¹ç«‹ä¸éš”é˜‚ã€‚\né€šè¿‡ä¸Šé¢çš„åˆ†æå’Œæè¿°ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒDevOps æœ€åˆçš„ç”¨æ„åªæ˜¯æ‰“ç ´å¼€å‘å’Œè¿ç»´ä¹‹é—´çš„éš”é˜‚ï¼Œå»ºç«‹å‹å¥½ã€äº’åŠ©ã€å…±èµ¢çš„ä»·å€¼è§‚ã€‚ä½†æ˜¯åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„å®è·µä¹‹åå‘ç°ï¼Œåœ¨æ•´ä¸ªè½¯ä»¶äº¤ä»˜è¿‡ç¨‹ä¸­ï¼Œä¸ä»…ä»…åªæœ‰å¼€å‘å’Œè¿ç»´ï¼Œè¿˜ä¼šæœ‰å¦‚ä¸šåŠ¡å›¢é˜Ÿã€å®‰å…¨å›¢é˜Ÿç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦æ‹‰æ‹¢çš„å…¶ä»–å¯¹è±¡å‡ºç°äº†ã€‚æ­¤åˆ»ï¼Œæˆ‘ä»¬ç›¸ç»§æ‹‰æ‹¢äº†ä¸šåŠ¡å›¢é˜Ÿå’Œå®‰å…¨å›¢é˜Ÿï¼ŒDevOps æ¶µç›–çš„å›¢é˜Ÿæœ‰å¼€å‘ã€è¿ç»´ã€ä¸šåŠ¡å’Œå®‰å…¨ï¼Œè€Œä¸”ä¸šåŠ¡å›¢é˜Ÿè®¤ä¸ºå¯ä»¥ä½¿ç”¨ BizDevSecOps æ¥ä»£æ›¿ DevOps çš„ç§°è°“äº†ï¼Œå› ä¸º BizDevSecOps æ‰æ˜¯ä¸šåŠ¡å›¢é˜Ÿçœ¼ä¸­çš„ DevOpsã€‚é‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ‰æ˜¯ DevOpså‘¢ï¼Ÿæ˜¯å¦èƒ½å¤Ÿç»™å‡ºä¸€ä¸ªæ˜ç¡®çš„å®šä¹‰ï¼Ÿåœ¨è¿™é‡Œå…ˆç»™å‡ºæå®¢æ—¶é—´è¯¾ç¨‹ DevOps å®æˆ˜ç¬”è®°ä½œè€…çŸ³é›ªå³°è€å¸ˆçš„è§è§£ï¼šDevOps æ˜¯é€šè¿‡å¹³å°ï¼ˆPlatformï¼‰ã€æµç¨‹ï¼ˆProcessï¼‰å’Œäººï¼ˆPeopleï¼‰çš„æœ‰æœºæ•´åˆï¼Œä»¥Cï¼ˆåä½œï¼‰Aï¼ˆç²¾ç›Šï¼‰Mï¼ˆåº¦é‡ï¼‰Sï¼ˆå…±äº«ï¼‰æ–‡åŒ–ä¸ºæŒ‡å¼•ï¼Œæ—¨åœ¨å»ºç«‹ä¸€ç§å¯ä»¥å¿«é€Ÿäº¤ä»˜ä»·å€¼å¹¶ä¸”å…·æœ‰æŒç»­æ”¹è¿›èƒ½åŠ›çš„ç°ä»£åŒ–ITç»„ç»‡ã€‚\nçªç„¶æƒ³èµ·äº† GIS çš„ç»„æˆéƒ¨åˆ†ï¼Œè¯·è‡ªåŠ¨è¿‡æ»¤è¿™å¥åºŸè¯ã€‚è€è¯è¯´å¾—å¥½ï¼Œä¸ä»¥ç»“å©šä¸ºç›®çš„çš„è°ˆæ‹çˆ±éƒ½æ˜¯è€æµæ°“ã€‚è€Œ DevOps ä¹Ÿåº”è¯¥å…ˆè°ˆç›®çš„ï¼Œæˆ‘è®¤ä¸ºï¼ŒDevOps çš„ç›®çš„å°±æ˜¯å®ç°å¿«é€Ÿã€ç¨³å®šã€å¯æŒç»­ä¼˜åŒ–çš„ä»·å€¼äº¤ä»˜ï¼Œä»»ä½•é˜»æŒ¡å…¶å®ç°çš„éšœç¢éƒ½ä¼šé€šè¿‡ä¸€äº›æ‰‹æ®µï¼ˆä¸æ‹©æ‰‹æ®µçš„æ‰‹æ®µï¼‰å°†å…¶ä¼˜åŒ–æ‰ï¼ˆæ¯”å¦‚ï¼šè‡ªåŠ¨åŒ–ä»£æ›¿ç»å¤§éƒ¨åˆ†äººå·¥ï¼Œç¹çæˆ–ä¸æ­£ç¡®æµç¨‹é‡å®šä¹‰ã€åä½œå…±èµ¢çš„ä»·å€¼ç†å¿µå®£ä¼ /æ´—è„‘ ç­‰ï¼‰ã€‚æ‰€ä»¥ï¼Œæˆ‘æ›´å€¾å‘äºè®¤ä¸º DevOps å°±æ˜¯æŒ‡å¼•å¦‚ä½•å®ç°å…¶ç›®çš„çš„ä¸€ç±»æ–‡åŒ–ï¼Œè€Œå¯ä»¥å¿«é€Ÿäº¤ä»˜ä»·å€¼å¹¶ä¸”å…·æœ‰æŒç»­æ”¹è¿›èƒ½åŠ›çš„ç°ä»£åŒ–ITç»„ç»‡ä¾¿æ˜¯è¾¾åˆ°ç›®çš„æ‰‹æ®µçš„æ•´åˆï¼Œä¹Ÿæ˜¯ DevOps çš„è½åœ°ã€‚\nå…¶å®ï¼ŒDevOps åªæ˜¯ä¸€ä¸ªä»£å·ï¼Œç”šè‡³æ˜¯ä¸æ˜¯å«åš DevOps æˆ‘è®¤ä¸ºå¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼ˆä¹Ÿä¸å¤ªæ­£ç¡®ï¼Œå¦‚æœåå­—æ²¡å–å¥½ï¼Œå¯èƒ½å°±æµè¡Œä¸èµ·æ¥äº†ï¼‰ï¼Œæ¯”å¦‚å¯¹äºå®‰å…¨å›¢é˜Ÿæ¥è¯´ï¼Œä»–ä»¬çœ¼ä¸­çš„ DevOps å¯èƒ½æ˜¯ DevSecOpsã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼ŒDevOps ä»£è¡¨è¿™ä¸€ç§æ–‡åŒ–ï¼Œå½“ä½ å¿ƒé‡Œæƒ³ç€å¦‚ä½•æ‰èƒ½æ›´å¥½åœ°å’Œå‰ç«¯ï¼ˆxxç«¯ï¼‰å°å“¥å“¥å°å§å§æ²Ÿé€šä»¥å¿«é€Ÿå®ç°ç›®æ ‡æ—¶ï¼Œä½ å°±å¾ˆâ€œDevOpsâ€äº†ã€‚\nDevOpsä¸æŒç»­äº¤ä»˜çš„å…³ç³» ä»å‰é¢æ‰€æœ‰çš„æè¿°é‡Œé¢å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºï¼Œå…¶å® DevOps å’ŒæŒç»­äº¤ä»˜æƒ³è¦è¾¾åˆ°çš„æœ€ç»ˆç›®çš„æ˜¯ä¸€è‡´çš„ï¼ˆå¿«é€Ÿã€ç¨³å®šçš„äº¤ä»˜äº§ç‰©ï¼‰ï¼Œä½†æ˜¯ç›¸è¾ƒäºæŒç»­äº¤ä»˜æ¥è¯´ï¼ŒDevOps æ¶µç›–çš„èŒƒå›´æ›´åŠ çš„å¹¿é˜”ã€‚ç”±ç»™å‡ºçš„å®šä¹‰åˆ†æï¼Œæˆ‘è®¤ä¸º DevOps å’Œ æŒç»­äº¤ä»˜æ˜¯ä¸€ç§åŒ…å«å…³ç³»ï¼Œ DevOps åŒ…å«äº†æŒç»­äº¤ä»˜ã€‚æœ¬è´¨è€Œè¨€ï¼Œä»–ä»¬éƒ½æ˜¯åŒä¸€ç±»ç†å¿µã€æ–‡åŒ–ï¼ˆé«˜æ•ˆã€ç²¾ç›Šã€æŒç»­ï¼‰çš„ä¸åŒå®è·µï¼Œåªä¸è¿‡ DevOps å…³æ³¨çš„èŒƒå›´æ›´å¤§ï¼Œè§†è§’æ›´é«˜ï¼Œæ‰€ä»¥ä»åŒç†å¿µä¸åŒå®è·µçš„å±‚é¢ä¸Šåˆ†æï¼ŒDevOps åŒ…å«äº†æŒç»­äº¤ä»˜ã€‚\næŒç»­äº¤ä»˜æœ‰ä»€ä¹ˆä»·å€¼ éƒ½åœ¨è®¨è®ºæŒç»­äº¤ä»˜ï¼Œé‚£ä¹ˆæŒç»­äº¤ä»˜èƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆæ ·çš„ä»·å€¼å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜å…¶å®å¾ˆå¥½è§£ç­”ï¼Œæˆ–è®¸ä¸å…¨é¢ï¼Œä½†æ˜¯èƒ½å¼•èµ·å…±é¸£å°±å¥½ã€‚\næˆ‘ä»¬å®Œå…¨å¯ä»¥ä»è‡ªå·±æ‰€åœ¨çš„ç¯å¢ƒè¿›è¡Œåˆ†æï¼Œå°±æ¯”å¦‚æˆ‘æ‰€åœ¨çš„ç¯å¢ƒä¸­ï¼Œæˆ‘è¿™é‡ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ To G çš„é¡¹ç›®ï¼Œæš‚æ—¶æ²¡æœ‰å½¢æˆè‡ªå·±çš„æ ¸å¿ƒäº§å“ï¼Œæ‰€ä»¥éƒ½æ˜¯ä»¥é¡¹ç›®çš„å½¢å¼ä»æ— åˆ°æœ‰çš„æ¨è¿›ã€‚æˆ‘ä»¬é‡‡ç”¨çš„å¼€å‘æ¨¡å¼æ˜¯ç€‘å¸ƒå¼å¼€å‘æ¨¡å¼ï¼Œå‘å¸ƒéƒ¨ç½²çš„æ–¹å¼ä»ç„¶è¿˜æ˜¯å®Œå…¨äººå·¥çš„æ–¹å¼ã€‚é€šè¿‡å¯¹ä¸€ä¸ªå®Œæ•´é¡¹ç›®äº¤ä»˜ç»“æŸåçš„åˆ†æï¼Œåœ¨äº¤ä»˜è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¸»è¦å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„é—®é¢˜ï¼š\néœ€æ±‚çš„ä¸ç¡®å®šæ€§ï¼Œæœä»¤å¤•æ”¹ï¼ˆå¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ï¼Œå‘å¸ƒæ—¶é—´å»¶è¿Ÿ ç€‘å¸ƒå¼€å‘æ¨¡å¼ä¸‹ï¼Œæµ‹è¯•ä»‹å…¥æ¯”è¾ƒæ™šï¼Œä¸”ä¸å­˜åœ¨QA å®Œå…¨äººå·¥éƒ¨ç½²ï¼Œä¸€æ¬¡éƒ¨ç½²æ€»æ˜¯ä¼šå‡ºç°ç¯å¢ƒæˆ–é…ç½®ä¸Šçš„é—®é¢˜ï¼Œéœ€è¦é€šè¿‡ç»´æŠ¤ä¸€ä»½å‹å¥½çš„éƒ¨ç½²æ–‡æ¡£æ¥æé«˜æ•ˆç‡ è€ŒæŒç»­äº¤ä»˜èƒ½å¤Ÿå¸¦æ¥çš„æ˜¯ä»€ä¹ˆï¼Œé€šè¿‡å˜æ›´å¼€å‘æ¨¡å¼ä½¿å¾—æ‹¥æŠ±å˜åŒ–ã€é€šè¿‡æŒç»­é›†æˆå¯ä»¥ä¿è¯ç‰¹æ€§åŠŸèƒ½é›†æˆçš„æœ‰æ•ˆæ€§ã€å°†æµ‹è¯•å·¥ä½œæå‰åˆ°å¼€å‘é˜¶æ®µä¿è¯åŠŸèƒ½çš„ç¨³å®šæ€§ã€é€šè¿‡æŒç»­éƒ¨ç½²ä¿è¯éƒ¨ç½²çš„æ­£ç¡®æ€§ã€é€šè¿‡å¿«é€Ÿäº¤ä»˜è¿­ä»£ä¿è¯å¿«é€Ÿçš„å“åº”ï¼Œå¿«é€Ÿå˜åŒ–ï¼Œé™ä½è¯•é”™æˆæœ¬ï¼ŒåŒæ—¶æ—¶åˆ»ä¸ºäº¤ä»˜åšå¥½å‡†å¤‡ã€‚\næ‰€ä»¥æŒç»­äº¤ä»˜çš„ä»·å€¼åœ¨äºï¼š\næé«˜ç”Ÿäº§æ•ˆç‡ï¼Œæ”¯æŒå¿«é€Ÿå“åº” è§„èŒƒåŒ–ã€æ ‡å‡†åŒ–å‘å¸ƒæµç¨‹ ä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥æŒç»­äº¤ä»˜ è¿™ä¸ªé—®é¢˜çœ‹ä¸Šå»å’Œâ€œæŒç»­äº¤ä»˜æœ‰ä»€ä¹ˆä»·å€¼â€æœ‰ä¸€å®šçš„é‡å ï¼Œç¡®å®å¦‚æ­¤ï¼Œåœ¨ä¸Šä¸€ä¸ªé—®é¢˜ä¸­ï¼Œæˆ‘åˆ—å‡ºäº†æˆ‘æ‰€åœ¨ç¯å¢ƒé‡åˆ°çš„é—®é¢˜ï¼Œä¹Ÿç®€å•æåˆ°äº†æŒç»­äº¤ä»˜èƒ½å¤Ÿå¸¦æ¥çš„ä»·å€¼ã€‚ä¹‹æ‰€ä»¥éœ€è¦å¼•å…¥æŒç»­äº¤ä»˜ï¼Œæ˜¯å› ä¸ºéœ€è¦å˜åŒ–æ¥é©±åŠ¨æˆ‘å½“å‰ç¯å¢ƒè¿›è¡Œæ”¹å˜ï¼Œä»¥è¾¾åˆ°æé«˜ç ”å‘æ•ˆèƒ½çš„ç›®çš„ã€‚\næŒç»­äº¤ä»˜èƒ½å¸¦ç»™æˆ‘ä»€ä¹ˆå‘¢ï¼Ÿ\næ‰§è¡Œç¼–ç æ ‡å‡†ã€APIè®¾è®¡æ ‡å‡†ç­‰ åˆ¶å®šç»Ÿä¸€çš„ã€è§„èŒƒçš„å‘å¸ƒæµç¨‹ æŒç»­é›†æˆä¿è¯æ¯ä¸€æ¬¡çš„é›†æˆä¸­ï¼Œä»£ç æ˜¯æœ‰æ•ˆçš„ æå‰æ¥å…¥çš„æµ‹è¯•ï¼Œå¯ä»¥ä¿éšœæ¯ä¸€æ¬¡çš„äº¤ä»˜è¿­ä»£çš„è´¨é‡ç¨³å®š å¿«é€Ÿçš„è¿­ä»£å¯ä»¥ä½æˆæœ¬çš„åº”å¯¹åˆç†çš„éœ€æ±‚å˜åŒ– æŒç»­éƒ¨ç½²å¯ä»¥å»æ‰å¤§é‡çš„äººå·¥æ“ä½œï¼Œä¿è¯äº†éƒ¨ç½²çš„æ­£ç¡®æ€§ï¼Œä¸”è§„èŒƒäº†éƒ¨ç½²çš„è¡Œä¸ºï¼ˆæ¯”å¦‚ç›®å½•çš„å®šä¹‰ï¼Œäº§ç‰©å­˜å‚¨ä½ç½®ï¼‰ æ‰€ä»¥æˆ‘éœ€è¦å¼•å…¥æŒç»­éƒ¨ç½²ã€‚ï¼ˆå…¶å®ä¸Šé¢æåˆ° DevOps å’ŒæŒç»­äº¤ä»˜æ˜¯åŒç†è®ºä¸åŒå®è·µçš„äº§ç‰©ï¼Œä¸ºä»€ä¹ˆæˆ‘åœ¨è¿™é‡Œå¼•å…¥çš„æ˜¯æŒç»­äº¤ä»˜è€Œä¸æ˜¯ DevOpså‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºæˆ‘ç›®å‰åªæƒ³å¿«é€Ÿçš„è¿›è¡Œå®è·µï¼Œé€šè¿‡æŒç»­äº¤ä»˜çš„æ–¹æ³•è®ºï¼Œç»“åˆæŒç»­äº¤ä»˜å·¥å…·é›†å¿«é€Ÿçš„æ­å»ºç¬¦åˆæˆ‘æ‰€åœ¨ç¯å¢ƒçš„æŒç»­äº¤ä»˜æµç¨‹ã€‚æˆ‘å½“ç„¶ä¸ä¼šå‘Šè¯‰ä½ æˆ‘å…ˆä¹°äº†æŒç»­äº¤ä»˜è¯¾ç¨‹ï¼Œçœ‹å®Œäº†æ‰ä¹°çš„DevOpsè¯¾ç¨‹ï¼Œå†è¯´äº†è¯¥æ–‡è®²çš„æ˜¯æŒç»­äº¤ä»˜å¥½å§ã€‚ä¿—è¯è¯´å¾—å¥½ï¼Œä¸ç®¡é»‘çŒ«ç™½çŒ«ï¼ŒæŠ“åˆ°è€é¼ å°±æ˜¯å¥½çŒ«ã€‚DevOpsÂ ç­‰æˆ‘ï¼ï¼‰\næ€»ç»“ åœ¨è¿™é‡Œï¼Œæˆ‘ç»“åˆå¤šæ–¹èµ„æ–™å¯¹æŒç»­äº¤ä»˜ã€ç»§ç»­ç»§æ‰¿ã€æŒç»­éƒ¨ç½²ã€DevOps è¿›è¡Œæè¿°ï¼Œå¹¶åˆ†æäº†ä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼Œå¸Œæœ›ä¸ä¼šç»™ä½ å¸¦æ¥è¯¯å¯¼ï¼ˆå¦‚æœæœ‰ä½ ä¹Ÿåˆ«æ‰¾æˆ‘ï¼‰ã€‚\nå…¶å®ï¼Œä¸è®ºæ˜¯æŒç»­äº¤ä»˜ã€DevOps è¿˜æ˜¯ AIOpsç­‰ç­‰ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡ä¸€å®šçš„æ‰‹æ®µè¾¾åˆ°æé«˜æ•ˆèƒ½ã€ç²¾ç›Šæ±‚ç²¾çš„ç›®çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æœ€å¥½çš„ï¼Œåªæœ‰æœ€åˆé€‚çš„ã€‚\nå‚è€ƒæ–‡çŒ® æŒç»­äº¤ä»˜ æŒç»­é›†æˆ æŒç»­éƒ¨ç½² DevOps ç¾å›¢å¤–å–æŒç»­äº¤ä»˜çš„å‰ä¸–ä»Šç”Ÿ æŒç»­äº¤ä»˜36è®² DevOpså®æˆ˜ç¬”è®° è¯´æ˜ æˆ‘ä¸æ˜¯åœ¨å–è¯¾ æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥æºäºæå®¢æ—¶é—´ä»¥åŠç½‘ç»œåšæ–‡èŠ‚é€‰ï¼Œå¦‚æœ‰å†’çŠ¯ï¼Œæˆ‘å…ˆå‘æ‚¨é“æ­‰ï¼Œå¦è¿˜è¯·å‘ŠçŸ¥æˆ‘è¿›è¡Œå¤„ç†ï¼Œè°¢è°¢ é‚®ç®±ï¼šthread_zhou@126.com ","permalink":"https://fuyi-atlas.github.io/posts/program/continuous-delivery/001/","summary":"å‰è¨€ åœ¨æˆ‘ä»¬æ—¥å¸¸çš„åˆ’æ°´ä¸­ï¼Œå¸¸å¸¸å¬åˆ°æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€æŒç»­äº¤ä»˜ã€DevOpsï¼Œé‚£ä¹ˆè¿™äº›åè¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¯¹æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿèƒ½å¤Ÿæé«˜åˆ’æ°´çš„æ•ˆç‡å‘¢ï¼Ÿå…¶å®å¯¹äºåè¯çš„è§£é‡Šå§‹ç»ˆè¿˜æ˜¯åƒäººåƒé¢ï¼Œä¸åŒç¯å¢ƒä¸‹å¿…ç„¶å­˜åœ¨ä¸åŒçš„äº§ç‰©ï¼Œæˆ‘ä»Šå¤©æƒ³è¯´ä¸€è¯´æˆ‘è‡ªå·±çš„ç†è§£ï¼Œå¸Œæœ›ä¸ä¼šå¯¹ä½ æœ‰è¯¯å¯¼ã€‚\nä»€ä¹ˆæ˜¯æŒç»­äº¤ä»˜ æŒç»­äº¤ä»˜ï¼šï¼ˆè‹±è¯­ï¼šContinuous deliveryï¼Œç¼©å†™ä¸º CDï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æ‰‹æ³•ï¼Œè®©è½¯ä»¶äº§å“çš„äº§å‡ºè¿‡ç¨‹åœ¨ä¸€ä¸ªçŸ­å‘¨æœŸå†…å®Œæˆï¼Œä»¥ä¿è¯è½¯ä»¶å¯ä»¥ç¨³å®šã€æŒç»­çš„ä¿æŒåœ¨éšæ—¶å¯ä»¥é‡Šå‡ºçš„çŠ¶å†µã€‚å®ƒçš„ç›®æ ‡åœ¨äºè®©è½¯ä»¶çš„å»ºç½®ã€æµ‹è¯•ä¸é‡Šå‡ºå˜å¾—æ›´å¿«ä»¥åŠæ›´é¢‘ç¹ã€‚è¿™ç§æ–¹å¼å¯ä»¥å‡å°‘è½¯ä»¶å¼€å‘çš„æˆæœ¬ä¸æ—¶é—´ï¼Œå‡å°‘é£é™©ã€‚\nç”±ä¸Šå¯çŸ¥ï¼ŒæŒç»­äº¤ä»˜çš„å…³æ³¨ç‚¹åœ¨äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\nçŸ­å‘¨æœŸ éšæ—¶å¯é‡Šå‡º é¢‘ç¹æ„å»º æŒç»­äº¤ä»˜ä¹Ÿå¯ä»¥æ‹†å¼€åˆ†æï¼Œæ‰€è°“æŒç»­ä¾¿æ˜¯ä¸€ç›´çš„é¢‘ç¹çš„åšæŸä»¶äº‹ï¼Œæœ‰ä¸€ç§å¼€å§‹ä¹Ÿæ˜¯ç»“æŸï¼Œç»“æŸä¹Ÿæ˜¯æ–°çš„å¼€å§‹çš„æ„Ÿè§‰ï¼Œéœ€è¦é—­ç¯åé¦ˆæ¥æ”¯æŒä¸‹ä¸€ä¸ªé˜¶æ®µçš„æŒç»­è¡Œä¸ºï¼›è€Œäº¤ä»˜åˆ™è¡¨ç¤ºé’ˆå¯¹å½“å‰äº¤ä»˜ç›®æ ‡é‡Šå‡ºå¯è¡Œçš„äº§ç‰©ã€‚ä¸Šé¢æåˆ°çš„éšæ—¶å¯é‡Šå‡ºå’Œé¢‘ç¹æ„å»ºå¾ˆå¥½çš„ä½“ç°äº†æŒç»­äº¤ä»˜çš„è¡Œä¸ºç‰¹æ€§ï¼Œè€ŒçŸ­å‘¨æœŸåˆ™æ˜¯è¡¨ç¤ºæ¯ä¸€ä¸ªé˜¶æ®µçš„äº¤ä»˜è¿‡ç¨‹åº”è¯¥åœ¨ä¸€ä¸ªçŸ­çš„å‘¨æœŸä¹‹å†…å®Œæˆï¼Œå› ä¸ºçŸ­å‘¨æœŸæ„å‘³ç€å¿«é€Ÿäº¤ä»˜ã€å¿«é€Ÿåé¦ˆã€å¿«é€Ÿååº”å¹¶å¿«é€Ÿçš„å¾ªç¯åå¤ï¼Œè€Œé•¿å‘¨æœŸå¿…ç„¶ä¼šåŠ å¤§ä¸€æ¬¡äº¤ä»˜æµç¨‹çš„è€—æ—¶ï¼ˆåŠ å¤§è¯•é”™æˆæœ¬ï¼Œæ— æ³•å¿«é€Ÿååº”ï¼‰ï¼Œæ‰€ä»¥è¿™æ ·æ‰èƒ½å¤Ÿè¾¾åˆ°æŒç»­äº¤ä»˜çš„ç›®çš„ï¼ˆéšæ—¶å¯äº¤ä»˜ï¼‰ã€‚è‡³äºä»€ä¹ˆæ‰æ˜¯åˆé€‚çš„çŸ­å‘¨æœŸï¼Œè¿™ä¸ªéœ€è¦ç»“åˆä¼ä¸šæˆ–å›¢é˜Ÿçš„å…·ä½“æƒ…å†µï¼ˆæ¯”å¦‚é¡¹ç›®å½“å‰æ‰€å¤„é˜¶æ®µã€ç ”å‘äººå‘˜ç´ è´¨ã€ç ”å‘ä¸Šçº¿æµç¨‹ç­‰ï¼‰è¿›è¡Œè€ƒè™‘ã€‚\nè¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆæŒç»­äº¤ä»˜æ˜¯ä»¥ä»€ä¹ˆæ ·çš„å½¢å¼ã€‚å¦‚ä½•è½åœ°åˆ°æˆ‘ä»¬æ—¥å¸¸çš„å·¥ä½œä¸­çš„å‘¢ï¼Ÿç»“åˆç¾å›¢å¤–å–æŒç»­äº¤ä»˜åˆ†äº«ï¼ˆç¾å›¢å¤–å–æŒç»­äº¤ä»˜çš„å‰ä¸–ä»Šç”Ÿï¼‰å’Œæå®¢æ—¶é—´è¯¾ç¨‹æŒç»­äº¤ä»˜36è®²ï¼Œæˆ‘æ€»ç»“äº†å¦‚ä¸‹çš„ä¸€ç§æè¿°ã€‚ï¼ˆå¸Œæœ›ä¸ä¼šå°†ä½ å¸¦åï¼‰\nå…³äºæŒç»­äº¤ä»˜ï¼Œä¸åŒçš„ä¼ä¸šã€ä¸åŒçš„å›¢é˜Ÿç«™åœ¨ä¸åŒçš„è§’åº¦ä¼šå­˜åœ¨ä¸åŒçš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæŒç»­äº¤ä»˜å®šä¹‰ä¸ºä¸€ä¸ªäº§å“ä»·å€¼çš„å¼€å‘æ¡†æ¶ï¼ˆç«™åœ¨ä¼ä¸šçš„è§’åº¦ï¼‰ã€ä¸€å¥—è½¯ä»¶å·¥ç¨‹æ–¹æ³•è®ºä»¥åŠè®¸è®¸å¤šå¤šæœ€ä½³å®è·µçš„é›†åˆã€‚æŒç»­äº¤ä»˜çš„è½åœ°ä¾¿æ˜¯å¼€å‘æ¡†æ¶æˆ–è½¯ä»¶å·¥ç¨‹æ–¹æ³•è®ºä¸å®é™…æƒ…å†µçš„ç»“åˆçš„å®è·µï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯æœ€ä½³å®è·µçš„æ’åˆ—ç»„åˆï¼‰ï¼Œæ›´è¯¦ç»†çš„å®è·µæƒ…å†µè¿˜è¯·æ¥ç€å¾€åçœ‹ã€‚\næŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€DevOpså’ŒæŒç»­äº¤ä»˜çš„å…³ç³» æŒç»­é›†æˆ æŒç»­é›†æˆï¼šï¼ˆè‹±è¯­ï¼šContinuous integrationï¼Œç¼©å†™CIï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æµç¨‹ï¼Œæ˜¯å°†æ‰€æœ‰è½¯ä»¶å·¥ç¨‹å¸ˆçš„è½¯ä»¶å·¥ä½œå‰¯æœ¬æŒç»­é›†æˆåˆ°å…±äº«ä¸»çº¿ï¼ˆmainlineï¼‰çš„ä¸€ç§ä¸¾æªã€‚è¯¥åç§°æœ€æ—©ç”±è‘›æ¥è¿ª.å¸ƒåŒºï¼ˆGrady Boochï¼‰åœ¨ä»–çš„å¸ƒåŒºæ–¹æ³•ä¸­æå‡ºï¼Œåœ¨æµ‹è¯•å¼€å‘é©±åŠ¨ï¼ˆTDDï¼‰çš„å®è·µä¸­ï¼Œé€šå¸¸è¿˜ä¼šæ­é…è‡ªåŠ¨å•å…ƒæµ‹è¯•ã€‚æŒç»­é›†æˆçš„æå‡ºä¸»è¦æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶è¿›è¡Œç³»ç»Ÿé›†æˆæ—¶é¢ä¸´çš„å„ç§é—®é¢˜ï¼Œæé™ç¼–ç¨‹ç§°è¿™äº›é—®é¢˜ä¸ºé›†æˆåœ°ç‹±ï¼ˆintegration hellï¼‰ã€‚\næŒç»­é›†æˆçš„å…³æ³¨ç‚¹åœ¨äºï¼š\né¢‘ç¹é›†æˆ æœ‰æ•ˆåä½œ è‡ªåŠ¨åŒ–æµ‹è¯• æˆ‘ä»¬é€šå¸¸ä¼šå°†è½¯ä»¶ç ”å‘å·¥ä½œæ‹†è§£ï¼Œæ‹†åˆ†æˆä¸åŒæ¨¡å—æˆ–ä¸åŒå›¢é˜Ÿè¿›è¡Œç¼–ç ï¼Œç¼–ç å®Œæˆåï¼Œè¿›è¡Œé›†æˆæ„å»ºå’Œæµ‹è¯•ã€‚è¿™ä¸ªä»ç¼–ç åˆ°æ„å»ºå†åˆ°æµ‹è¯•çš„åå¤æŒç»­è¿‡ç¨‹ï¼Œå°±å«åšæŒç»­é›†æˆã€‚ç”±æŒç»­é›†æˆçš„å®šä¹‰å¯è”æƒ³åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œå¦‚ Gitï¼Œè¿›è€Œå¯ä»¥å…³è”åˆ°åˆ†æ”¯ç­–ç•¥ï¼ˆå¦‚ï¼šGit Flowã€GitHub FLowã€GitLab Flowï¼‰ï¼Œå¯ä»¥è¯´åˆ†æ”¯ç­–ç•¥æ˜¯æŒç»­é›†æˆçš„å‰ç½®æ¡ä»¶ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šæœ‰ä¸€ä¸ªåˆ†æ”¯ä½œä¸ºé›†æˆä½¿ç”¨ï¼ŒåŠ ä¸Šå¤šä¸ªç‰¹æ€§åˆ†æ”¯ï¼ˆè¿™é‡Œå’Œå…·ä½“çš„åˆ†æ”¯ç­–ç•¥å¼ºç›¸å…³ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å›¢é˜Ÿçš„éƒ½æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œå½“ç‰¹æ€§åˆ†æ”¯å¼€å‘å®Œæ¯•ï¼Œé€šè¿‡ PR è¯·æ±‚åˆå¹¶åˆ°é›†æˆåˆ†æ”¯ï¼Œæ­¤æ—¶ä¼šè§¦å‘æŒç»­é›†æˆå·¥ä½œæµç¨‹ï¼Œä¿è¯å¾…åˆå¹¶çš„åˆ†æ”¯å†…å®¹æ˜¯æœ‰æ•ˆçš„ï¼Œåªæœ‰é€šè¿‡æŒç»­é›†æˆæµç¨‹éªŒè¯ï¼Œæ‰èƒ½åˆå¹¶åˆ°é›†æˆåˆ†æ”¯ã€‚\næŒç»­éƒ¨ç½² æŒç»­éƒ¨ç½²ï¼šï¼ˆè‹±è¯­ï¼šContinuous deploymentï¼Œç¼©å†™ä¸ºCDï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å·¥ç¨‹æ–¹æ³•ï¼Œæ„æŒ‡åœ¨è½¯ä»¶å¼€å‘æµç¨‹ä¸­ï¼Œä»¥è‡ªåŠ¨åŒ–ã€é¢‘ç¹è€Œä¸”æŒç»­æ€§çš„ï¼Œå°†è½¯ä»¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆproduction environmentï¼‰ä¸­ï¼Œä½¿è½¯ä»¶äº§å“èƒ½å¤Ÿå¿«é€Ÿçš„å‘å±•ã€‚æŒç»­éƒ¨ç½²å¯ä»¥è¢«æ•´åˆåˆ°æŒç»­é›†æˆä¸æŒç»­äº¤ä»˜çš„æµç¨‹ä¹‹ä¸­ã€‚\næŒç»­éƒ¨ç½²çš„å…³æ³¨ç‚¹åœ¨äºï¼š\nè‡ªåŠ¨åŒ–çš„ é¢‘ç¹çš„ æŒç»­æ€§ ç”Ÿäº§ç¯å¢ƒ åœ¨ä¸€äº›ä¼ä¸šçš„è½¯ä»¶éƒ¨ç½²å·¥ä½œä¸­ï¼Œä»ç„¶å­˜åœ¨å…¨äººå·¥æ“ä½œçš„æ–¹å¼ã€‚å¦‚æœåªæ˜¯å•çº¯çš„å®‰è£…éƒ¨ç½²ç›®çš„è¿˜è¾ƒä¸ºå®¹æ˜“ï¼ˆä¸è¿‡ç¹ççš„é…ç½®ï¼Œäººå·¥çš„ä¸è§„èŒƒã€ä¸ç¡®å®šæ€§ï¼Œéƒ¨ç½²çš„è€—æ—¶ç­‰éƒ½æ˜¯æˆæœ¬ï¼‰ï¼›è€Œå¦‚æœæ˜¯å·²ä¸Šçº¿çš„æœåŠ¡çš„éƒ¨ç½²å·¥ä½œï¼ˆæœåŠ¡æ›´æ–°ï¼‰ï¼Œæ­¤æ—¶çš„æ¶‰åŠé¢ä»¥åŠå—å½±å“çš„èŒƒå›´å°±æ¯”è¾ƒå¤§äº†ã€‚å°±ç®—é‡Šå‡ºçš„äº§ç‰©å·²ç»å¯ä»¥è¾¾åˆ°å¯äº¤ä»˜çš„æ ‡å‡†ï¼Œä½†æ˜¯è¦ä½¿å¾—ç”¨æˆ·çœŸæ­£å¯ç”¨ï¼Œè¿˜éœ€è¦è·¨è¶Šå®‰å…¨ã€å¿«é€Ÿä»¥åŠç¨³å®šéƒ¨ç½²çš„éšœç¢ã€‚é‚£ä¹ˆæ˜¯å¦å¯ä»¥å°†éƒ¨ç½²çš„åœºæ™¯å’Œè¿‡ç¨‹è¿›è¡ŒæŠ½è±¡ï¼Œä½¿ç”¨ç»Ÿä¸€çš„ã€è§„èŒƒçš„ã€è‡ªåŠ¨åŒ–çš„æ–¹æ³•è®ºå’Œæµç¨‹æ¥çº¦æŸå’Œå®ç°éƒ¨ç½²çš„è¿‡ç¨‹ã€‚è€ŒæŒç»­éƒ¨ç½²ä¾¿æ˜¯è¿™æ ·çš„ä¸€å¥—æ–¹æ³•è®ºåŠå®è·µå·¥å…·é›†ï¼Œæ—¨åœ¨è§„èŒƒéƒ¨ç½²è¡Œä¸ºï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æé«˜éƒ¨ç½²æ•ˆç‡ï¼Œè¾¾åˆ°æŒç»­éƒ¨ç½²ç›®çš„ã€‚\næŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ä¸æŒç»­äº¤ä»˜çš„å…³ç³» å½“æåˆ°æŒç»­äº¤ä»˜çš„æ—¶å€™ï¼Œæ€»èƒ½å…³è”åˆ°æŒç»­é›†æˆä¸æŒç»­éƒ¨ç½²ï¼Œæˆ‘ä¹Ÿä¸€ç›´å‚»å‚»åˆ†ä¸æ¸…è¿™ä¸‰è€…ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ˜¯ä»€ä¹ˆæ ·çš„å…³ç³»ã€‚ä¸è¿‡ä»å‰é¢ç»™å‡ºçš„å®šä¹‰å’Œå…³æ³¨ç‚¹å¯ä»¥çŸ¥é“ï¼ŒæŒç»­é›†æˆä¾§é‡äºç¼–ç é˜¶æ®µå†…å¤šäººåä½œäº§ç‰©é›†æˆçš„æœ‰æ•ˆæ€§ï¼ŒæŒç»­éƒ¨ç½²ä¾§é‡äºå°†äº§ç‰©éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œè€ŒæŒç»­äº¤ä»˜åˆ™ä¾§é‡äºéœ€è¦éšæ—¶å¯é‡Šå‡ºï¼›è€Œç›¸åŒç‚¹åœ¨äºä»–ä»¬ä¸‰è€…éƒ½æ¨å´‡æŒç»­æ€§ï¼Œå³å­˜åœ¨ä¸€ä¸ªåé¦ˆçš„è¿‡ç¨‹ï¼Œä¸”åé¦ˆçš„ç»“æœä½œä¸ºä¸‹ä¸€é˜¶æ®µæŒç»­çš„æ”¯æŒã€‚\nå†è¯´åˆ°æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²å’ŒæŒç»­äº¤ä»˜ä¹‹é—´çš„å…³ç³»ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰è¶£çš„åœ°æ–¹ï¼Œé‚£å°±æ˜¯åœ¨ä¸åŒçš„è§†è§’ä¸‹ï¼Œä¸‰è€…çš„å…³ç³»å¹¶ä¸ä¸€æ ·ï¼Œè¿™é‡Œå€Ÿé‰´ç¾å›¢å¤–å–åˆ†äº«çš„å†…å®¹ï¼ˆç¾å›¢å¤–å–æŒç»­äº¤ä»˜çš„å‰ä¸–ä»Šç”Ÿï¼‰ä¸¾ä¾‹ï¼Œä»ç ”å‘å’Œäº§å“çš„è§’åº¦æ¥åˆ†æè¿™ä¸‰è€…çš„å…³ç³»ã€‚\nç ”å‘è§†è§’ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†ç ”å‘å›¢é˜Ÿï¼Œä¼šä»è½¯ä»¶ç ”å‘çš„è§’åº¦è¿›è¡Œå®šä¹‰ï¼Œä»–ä»¬å°†è½¯ä»¶çš„å¼€å‘æ­¥éª¤æ‹†è§£ä¸ºæŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€æŒç»­éƒ¨ç½²ï¼Œå…¶ä¸­æŒç»­é›†æˆæŒ‡å¼€å‘äººå‘˜ä»ç¼–ç åˆ°æ„å»ºçš„è¿‡ç¨‹ï¼›æŒç»­äº¤ä»˜åˆ™ä½œä¸ºæŒç»­é›†æˆçš„è‡ªç„¶å»¶ç»­ï¼ŒæŒ‡å°†å·²ç»é›†æˆæ„å»ºå®Œæˆçš„ä»£ç ï¼Œäº¤ç»™æµ‹è¯•å›¢é˜Ÿè¿›è¡Œæµ‹è¯•çš„è¿‡ç¨‹ï¼›æŒç»­éƒ¨ç½²æŒ‡å°†æµ‹è¯•é€šè¿‡çš„è½¯ä»¶äº¤ä»˜ç»™ç”¨æˆ·çš„è¿‡ç¨‹ã€‚åœ¨ç ”å‘çš„è§†è§’ä¸‹ï¼ŒæŒç»­äº¤ä»˜å°±æ˜¯ä¸€ä¸ªæ‰¿ä¸Šå¯ä¸‹çš„è¿‡ç¨‹ï¼Œä¸æŒç»­é›†æˆå½¢æˆäº†é—­ç¯ï¼Œè€Œåˆä¸ºå°†æ¥è¾¾åˆ°æŒç»­éƒ¨ç½²åšä¸‹äº†å‡†å¤‡ã€‚æ­¤æ—¶æŒç»­é›†æˆ + æŒç»­äº¤ä»˜ + æŒç»­éƒ¨ç½²ä¾¿æ˜¯ä¸€æ¡å®Œæ•´çš„å‘å¸ƒæµæ°´çº¿ã€‚\näº§å“è§†è§’ï¼šäº§å“å›¢é˜Ÿä¼šç«™åœ¨äº§å“çš„è§’åº¦æ¥çœ‹ï¼Œä»–ä»¬è®¤ä¸ºæŒç»­äº¤ä»˜ï¼Œæ˜¯ä»éœ€æ±‚çš„ PRD æ–‡æ¡£æå‡ºæ¥ï¼Œåˆ°ç”¨æˆ·èƒ½å¤Ÿæ„Ÿå—è¿™ä¸ªéœ€æ±‚çš„å‘¨æœŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶æŒç»­äº¤ä»˜æ˜¯å®Œæ•´çš„åŒ…å«äº†æŒç»­é›†æˆä¸æŒç»­éƒ¨ç½²ï¼Œä½†æ˜¯æŒç»­äº¤ä»˜æ¶µç›–èŒƒå›´æ˜¯å¤§äºæŒç»­é›†æˆ + æŒç»­éƒ¨ç½²ã€‚å¹¶ä¸”ï¼Œæ­¤æ—¶çš„æŒç»­äº¤ä»˜æµç¨‹æœ¬èº«å°±åŒ…å«äº†ä¸€æ¡å®Œæ•´çš„å‘å¸ƒæµæ°´çº¿ã€‚\nå€Ÿç”¨æŒç»­äº¤ä»˜36è®²ä¸­çš„ å‘å¸ƒæµæ°´çº¿ ç¤ºæ„å›¾\nè¯´åˆ°è¿™é‡Œå·²ç»ä¸éš¾çœ‹å‡ºï¼Œå½±å“ä¸‰è€…ä¹‹é—´ç›¸äº’å…³ç³»çš„å› ç´ ä¸»è¦åœ¨äºå¯¹äºæŒç»­äº¤ä»˜çš„å®šä½ã€‚åœ¨è¿™é‡Œå…ˆè¯´è¯´æˆ‘è‡ªå·±çš„çœ‹æ³•ï¼Œæˆ‘è®¤ä¸ºæŒç»­äº¤ä»˜çš„æ ¸å¿ƒè¦ä¹‰åœ¨äºï¼šçŸ­å‘¨æœŸã€æ—¶åˆ»å¯é‡Šå‡ºã€æŒç»­æ„å»ºï¼Œå³åœ¨äºæŒç»­çš„äº§å‡ºä¸æŒç»­éªŒè¯ï¼Œç”±äº§å‡ºä¸éªŒè¯å½¢æˆé—­ç¯ï¼Œè¿›è€Œç›¸äº’æ¨åŠ¨ï¼Œä»¥è¾¾åˆ°å¿«é€Ÿååº”ï¼Œå¿«é€Ÿå®ç°ï¼ŒæŒç»­ä¼˜åŒ–ã€‚è€ŒçŸ­å‘¨æœŸä¾¿æ˜¯ä¸€æ¬¡äº¤ä»˜è¿‡ç¨‹è€—æ—¶çš„é¢„å®šä¹‰ï¼Œä¹Ÿæ˜¯å¯¹äºæ•ˆç‡çš„è¦æ±‚ï¼Œä½†ä¸€å®šä¸æ˜¯å¯¹ç”¨äººçš„å‹æ¦¨ï¼ˆå»ä½ xxxï¼‰ã€‚åœ¨æŒç»­äº¤ä»˜ä¸­ï¼Œäº¤ä»˜å¯¹è±¡ä¸ä¸€å®šå°±æ˜¯æœ€ç»ˆç”¨æˆ·ï¼Œæ‰€ä»¥åƒä¸‡ä¸è¦è®¤ä¸ºä¸€å®šè¦åšåˆ°ç«¯åˆ°ç«¯å®Œæ•´æ‰æ˜¯æŒç»­äº¤ä»˜ã€‚æŒç»­äº¤ä»˜æ˜¯ä¸€ä¸ªå‘¨æœŸæ€§ã€å¯æŒç»­çš„è¡Œä¸ºï¼Œå¯ä»¥åªæ˜¯ç ”å‘åˆ°æµ‹è¯•çš„é—­ç¯ï¼Œæ­¤æ—¶äºç ”å‘è€Œè¨€äº¤ä»˜å¯¹è±¡æ˜¯æµ‹è¯•å›¢é˜Ÿï¼Œäº¤ä»˜ç‰©ä¸ºé€šè¿‡æŒç»­é›†æˆéªŒè¯çš„ä»£ç ï¼›ä¹Ÿå¯ä»¥å¦‚äº§å“è§†è§’ä¸€èˆ¬ï¼Œä»éœ€æ±‚çš„ PRD æå‡ºæ¥åˆ°ç”¨æˆ·èƒ½å¤Ÿæ„Ÿå—åˆ°è¿™ä¸ªéœ€æ±‚çš„å‘¨æœŸï¼Œæ­¤æ—¶äº¤ä»˜å¯¹è±¡ä¸ºç”¨æˆ·ï¼Œäº¤ä»˜ç‰©ä¸ºå¯ç”¨çš„äº§å“ã€‚\næ‰€ä»¥æŒç»­äº¤ä»˜å¯ä»¥åªæ˜¯ä¸€å¥—æ–¹æ³•è®ºï¼Œå¯ä»¥æ˜¯äº§å“ä»·å€¼å¼€å‘æ¡†æ¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€éƒ¨åˆ†æµç¨‹å®è·µã€‚äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘æ›´è®¤åŒæŒç»­äº¤ä»˜æ˜¯ä¸€å¥—æ–¹æ³•è®ºï¼ˆå…¼äº§å“ä»·å€¼å¼€å‘æ¡†æ¶ï¼‰ï¼Œç”±æ­¤æŒ‡å¯¼æŒç»­äº¤ä»˜ä½“ç³»çš„å»ºè®¾ã€‚å¦‚æœä½ é—®æˆ‘æŒç»­äº¤ä»˜ä½“ç³»å®è·µä¸­ä½¿ç”¨åˆ°çš„æŠ€æœ¯æ˜¯ä¸æ˜¯æŒç»­äº¤ä»˜ï¼Œæˆ‘ä¼šè¯´ï¼Œåœ¨å…¶ä¸­ä½¿ç”¨åˆ°çš„æŠ€æœ¯æˆ–å·¥å…·åªæ˜¯å½“å‰æŒç»­äº¤ä»˜ä½“ç³»å»ºè®¾çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚æ‰€ä»¥ï¼Œå…³äºæŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€æŒç»­äº¤ä»˜ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘è®¤åŒä¸ºï¼šä¸‰è€…ç›¸äº’æ¸—é€ï¼ˆå¯èƒ½è¿™ä¸ªè¯ä¸æ˜¯å¾ˆæ°å½“ï¼‰ï¼Œå¹¶æ²¡æœ‰ç»å¯¹çš„ç‹¬ç«‹ã€‚\nDevOps DevOpsï¼šï¼ˆæ˜¯ Development å’Œ Operations çš„ç»„åˆè¯ï¼‰ï¼Œæ˜¯ä¸€ç§é‡è§†â€œè½¯ä»¶å¼€å‘äººå‘˜ï¼ˆDevï¼‰â€å’Œâ€œIT è¿ç»´æŠ€æœ¯äººå‘˜ï¼ˆOpsï¼‰â€ä¹‹é—´æ²Ÿé€šåˆä½œçš„æ–‡åŒ–ã€è¿åŠ¨æˆ–æƒ¯ä¾‹ã€‚é€šè¿‡è‡ªåŠ¨åŒ–â€œè½¯ä»¶äº¤ä»˜â€å’Œâ€œæ¶æ„å˜æ›´â€çš„æµç¨‹ï¼Œæ¥ä½¿å¾—æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒè½¯ä»¶èƒ½å¤Ÿæ›´åŠ åœ°å¿«æ·ã€é¢‘ç¹å’Œå¯é ã€‚\nä¼ ç»Ÿçš„è½¯ä»¶ç»„ç»‡å°†å¼€å‘ã€IT è¿ç»´å’Œè´¨é‡ä¿éšœè®¾ä¸ºå„è‡ªåˆ†ç¦»çš„éƒ¨é—¨ï¼Œå†è¿™æ ·çš„ç¯å¢ƒä¸‹å¦‚ä½•é‡‡ç”¨çš„æ–°çš„å¼€å‘æ–¹æ³•ï¼ˆä¾‹å¦‚æ•æ·è½¯ä»¶å¼€å‘ï¼‰ï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚æŒ‰ç…§ä»å‰çš„å·¥ä½œæ–¹å¼ï¼Œå¼€å‘å’Œéƒ¨ç½²ï¼Œä¸éœ€è¦ IT æˆ–è€… QA æ”¯æŒï¼ˆè·¨éƒ¨é—¨çš„æŒä¹‹ï¼‰ï¼Œè€Œç°åœ¨å´éœ€è¦æå…¶ç´§å¯†çš„å¤šéƒ¨é—¨åä½œã€‚è€Œ DevOps è€ƒè™‘çš„ä¸ä»…ä»…æ˜¯è½¯ä»¶éƒ¨ç½²ï¼Œå®ƒæ˜¯ä¸€å¥—é’ˆå¯¹è¿™å‡ ä¸ªéƒ¨é—¨é—´æ²Ÿé€šä¸åä½œé—®é¢˜çš„æµç¨‹å’Œæ–¹æ³•ã€‚","title":"æŒç»­äº¤ä»˜ï¼ˆä¸€ï¼‰â€”â€” æŒç»­äº¤ä»˜æ˜¯ä»€ä¹ˆï¼Œå’ŒDevOpsæœ‰ä»€ä¹ˆå…³ç³»"},{"content":"å‰è¨€ åœ¨å·¥ä½œä¸­ï¼Œè¿˜æ²¡æœ‰ä»”ç»†çš„å»ç ”ç©¶è¿‡ä¸€äº›ç®—æ³•å®ç°ï¼Œç›´åˆ°æœ€è¿‘é¢è¯•æ‰çŸ¥é“ï¼Œè‡ªå·±çš„æ•°æ®ç»“æ„ä¸ç®—æ³•çš„åŠŸåº•è¿™ä¹ˆå·®ã€‚ çŸ¥é“æ€»æ˜¯æ¯”ä¸çŸ¥é“çš„å¼ºï¼Œé‚£ä¹ˆå°±ä¸€ä¸ªä¸€ä¸ªçš„æ¥å§ï¼Œæˆ‘ä¹Ÿä¼šé€šè¿‡æ–‡å­—çš„æ–¹å¼è®°å½•è‡ªå·±çš„ç®—æ³•é“è·¯ï¼Œä¸‹ä¸€ä¸ªç›®æ ‡å°±æ˜¯LeetCodeã€‚\nå¦‚é¢˜ï¼ˆæŸæ¬¡é¢è¯•é¢˜ï¼‰ ç»™å®šâ¼€ä¸ªæŒ‰å¼€å§‹æ—¶é—´ä»â¼©åˆ°å¤§æ’åºçš„æ—¶é—´åŒºé—´é›†åˆï¼Œè¯·å°†é‡å çš„åŒºé—´åˆå¹¶ã€‚æ—¶é—´åŒºé—´é›†åˆâ½¤ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºï¼Œ äºŒç»´æ•°ç»„çš„æ¯â¼€ï¨ˆè¡¨ç¤ºâ¼€ä¸ªæ—¶é—´åŒºé—´ï¼ˆé—­åŒºé—´ï¼‰ï¼Œå…¶ä¸­ 0 ä½ç½®å…ƒç´ è¡¨ç¤ºæ—¶é—´åŒºé—´å¼€å§‹ï¼Œ1 ä½ç½®å…ƒç´ è¡¨ç¤ºæ—¶é—´åŒºé—´ç»“æŸã€‚ ï¦µ 1ï¼šè¾“å…¥ï¼š[ [1, 3], [2, 6], [8, 10], [15, 18] ]è¿”å›ï¼š [ [1, 6], [8, 10], [15, 18]] è§£é‡Šï¼šæ—¶é—´åŒºé—´ [1, 3] å’Œ [2, 6] æœ‰éƒ¨åˆ†é‡å ï¼Œåˆå¹¶ä¹‹åä¸º [1, 6] ï¦µ 2ï¼šè¾“å…¥ï¼š[[1, 4], [4, 5]]è¿”å›ï¼š[[1, 5]]è§£é‡Šï¼šæ—¶é—´åŒºé—´[1ï¼Œ4] å’Œ [4ï¼Œ5]é‡å äº†ï¦ºâ¼€ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œåˆå¹¶ä¹‹åä¸º [1ï¼Œ5] éœ€è¦å®ç°çš„â½…æ³•åŸå‹ï¼šint[][] merge(int[][] intervals)\näºŒç»´æ•°ç»„ä¸­çš„æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªæ—¶é—´åŒºé—´ï¼ˆé—­åŒºé—´ï¼‰ï¼Œå…¶ä¸­0ä½ç½®è¡¨ç¤ºå¼€å§‹æ—¶é—´ï¼Œ1ä½ç½®è¡¨ç¤ºç»“æŸæ—¶é—´ ç»™å®šçš„æ—¶é—´åŒºé—´é›†åˆæŒ‰ç…§å¼€å§‹æ—¶é—´ä»å°åˆ°å¤§æ’åºï¼Œå³ä¸ºæœ‰åº è¿™é‡Œç»™å‡ºçš„é¢˜è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå› ä¸ºç»™å®šçš„æ—¶é—´åŒºé—´é›†åˆå·²ç»æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆäº†ï¼Œéœ€è¦å®ç°çš„å†…å®¹åªå‰©ä¸‹åŒºé—´åˆå¹¶äº†ã€‚ ç”±é¢˜ä¸­å¯çŸ¥ï¼Œéœ€è¦åˆå¹¶å…·æœ‰é‡å éƒ¨åˆ†çš„åŒºé—´ï¼Œåªè¦ç¡®å®šäº†é‡å çš„æ¡ä»¶ï¼Œä¾¿åŸºæœ¬å®Œæˆäº†è§£ç­”ã€‚\nåœ¨å·²å®Œæˆæ—¶é—´åŒºé—´å¼€å§‹æ—¶é—´ä»å°åˆ°å¤§çš„æ’åºåï¼Œé‚£ä¹ˆæ­¤æ—¶çš„æ—¶é—´åŒºé—´é›†åˆåœ¨æ—¶é—´æ¨ªè½´ä¸Šå›å‘ˆç°ç±»ä¼¼ä¸Šå›¾çš„æƒ…å†µï¼Œ æ­¤æ—¶å¯ä»¥ä»å°åˆ°å¤§éå†æ—¶é—´åŒºé—´é›†åˆï¼Œè¿›è¡Œåˆå¹¶æˆ–æ”¶é›†ã€‚è¿™é‡Œéœ€è¦ä¸€ä¸ªå®¹å™¨å­˜æ”¾ç›®æ ‡ç»“æœï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ä»»ä½•äº¤é›†çš„æ—¶é—´åŒºé—´ã€‚ å…·ä½“å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n/** * æ—¶é—´åŒºé—´åˆå¹¶æ–¹æ³• * * @param intervals * @return */ public static int [][] merge(int [][] intervals) { // äºŒç»´æ•°ç»„è¡Œæ•° int rows = intervals.length; if (rows \u0026lt;= 1) { return intervals; } // ä½¿ç”¨åŒæ ·å¤§å°çš„äºŒç»´æ•°ç»„ç”¨äºå­˜æ”¾è®¡ç®—ç»“æœ int [][] resultIntervals = new int[rows][2]; // æŒ‡å‘ä¸Šä¸€æ¬¡è®¡ç®—å‡ºçš„ç»“æœåŒºé—´ int resultIntervalsPosition = 0; resultIntervals[resultIntervalsPosition] = intervals[0]; /** * å¦‚æœç»™å®šåŒºé—´é›†åˆä¸­å½“å‰ä½ç½®åŒºé—´çš„å·¦èŠ‚ç‚¹æ•°å€¼å¤§äºä¸Šä¸€æ¬¡è®¡ç®—å‡ºçš„ç»“æœåŒºé—´çš„å³èŠ‚ç‚¹ï¼Œ * é‚£ä¹ˆæ­¤æ—¶å¿…å®šä¸å­˜åœ¨äº¤é›†ï¼Œå°†è¯¥åŒºé—´æ”¾å…¥ç»“æœé›†åˆä¸­ * åä¹‹ï¼Œåˆ™é‡æ–°è®¡ç®—ç»“æœå¹¶æ›´æ–°å¯¹åº”çš„ç»“æœåŒºé—´ï¼ˆåŒºé—´å³èŠ‚ç‚¹å–æœ€å¤§å€¼ï¼‰ */ for (int i = 1; i \u0026lt; rows; i++) { int[] currentResultInterval = resultIntervals[resultIntervalsPosition]; if (intervals[i][0] \u0026gt; currentResultInterval[1]) { resultIntervalsPosition ++; resultIntervals[resultIntervalsPosition] = intervals[i]; } else { currentResultInterval[1] = Math.max(intervals[i][1], currentResultInterval[1]); resultIntervals[resultIntervalsPosition] = currentResultInterval; } } // ä½¿ç”¨ç›¸ç­‰å¤§å°çš„æ•°ç»„ä½œä¸ºç»“æœé›†æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ç»“æœé›†ä¸­å­˜åœ¨ç©ºå€¼æƒ…å†µï¼Œæ‰€ä»¥åœ¨æœ«å°¾è¿›è¡Œä¸€æ¬¡æ‹·è´ return Arrays.copyOf(resultIntervals, resultIntervalsPosition + 1, resultIntervals.getClass()); } LeetCodeç±»ä¼¼é¢˜ åˆå¹¶åŒºé—´\nå…·ä½“å®ç°æ€è·¯å¯å‚è§é¢˜è§£ï¼Œè¿™é‡Œç»™å‡ºçš„æ¡ä»¶ç›¸å¯¹ä¸Šé¢çš„å†…å®¹æ¥è¯´ï¼Œå°‘äº†æœ‰åºï¼Œéœ€è¦è‡ªå·±è¿›è¡Œæ’åº å…·ä½“å®ç°å¦‚ä¸‹ï¼š\npackage com.zhoujian.algorithm; import java.util.ArrayList; import java.util.Arrays; import java.util.List; /** * åˆå¹¶æ—¶é—´åŒºé—´é›†åˆ * * ç»™å®šæ¡ä»¶: * * 1ã€ç»™å®šçš„æ—¶é—´åŒºé—´é›†åˆæŒ‰ç…§å¼€å§‹æ—¶é—´ä»å°åˆ°å¤§æ’åºï¼Œå³ä¸ºæœ‰åº * * 2ã€å…¶ä¸­æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªæ—¶é—´åŒºé—´ï¼ˆé—­åŒºé—´ï¼‰ï¼Œ0è¡¨ç¤ºæ—¶é—´åŒºé—´çš„å¼€å§‹ï¼Œ1è¡¨ç¤ºæ—¶é—´åŒºé—´ç»“æŸ * * @author zhoujian */ public class MergeTimeIntervals { public static void main(String[] args) { int [][] timeIntervals = {{1, 3}, {2, 6}, {8, 10}, {15, 18}}; // int [][] timeIntervals = {{4,5}, {1,4}, {0,1}}; // int [][] timeIntervals = {{1, 4}, {4, 5}}; int [][] result = merge(timeIntervals); System.out.println(Arrays.deepToString(result)); } /** * æ—¶é—´åŒºé—´åˆå¹¶æ–¹æ³• * * @param intervals * @return */ public static int [][] merge(int [][] intervals) { // äºŒç»´æ•°ç»„è¡Œæ•° int rows = intervals.length; if (rows \u0026lt;= 1) { return intervals; } // æ’åº sort(intervals, rows); // ä½¿ç”¨åŒæ ·å¤§å°çš„äºŒç»´æ•°ç»„ç”¨äºå­˜æ”¾è®¡ç®—ç»“æœ int [][] resultIntervals = new int[rows][2]; // æŒ‡å‘ä¸Šä¸€æ¬¡è®¡ç®—å‡ºçš„ç»“æœåŒºé—´ int resultIntervalsPosition = 0; resultIntervals[resultIntervalsPosition] = intervals[0]; /** * å¦‚æœç»™å®šåŒºé—´é›†åˆä¸­å½“å‰ä½ç½®åŒºé—´çš„å·¦èŠ‚ç‚¹æ•°å€¼å¤§äºä¸Šä¸€æ¬¡è®¡ç®—å‡ºçš„ç»“æœåŒºé—´çš„å³èŠ‚ç‚¹ï¼Œ * é‚£ä¹ˆæ­¤æ—¶å¿…å®šä¸å­˜åœ¨äº¤é›†ï¼Œå°†è¯¥åŒºé—´æ”¾å…¥ç»“æœé›†åˆä¸­ * åä¹‹ï¼Œåˆ™é‡æ–°è®¡ç®—ç»“æœå¹¶æ›´æ–°å¯¹åº”çš„ç»“æœåŒºé—´ï¼ˆåŒºé—´å³èŠ‚ç‚¹å–æœ€å¤§å€¼ï¼‰ */ for (int i = 1; i \u0026lt; rows; i++) { int[] currentResultInterval = resultIntervals[resultIntervalsPosition]; if (intervals[i][0] \u0026gt; currentResultInterval[1]) { resultIntervalsPosition ++; resultIntervals[resultIntervalsPosition] = intervals[i]; } else { currentResultInterval[1] = Math.max(intervals[i][1], currentResultInterval[1]); resultIntervals[resultIntervalsPosition] = currentResultInterval; } } // ä½¿ç”¨ç›¸ç­‰å¤§å°çš„æ•°ç»„ä½œä¸ºç»“æœé›†æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ç»“æœé›†ä¸­å­˜åœ¨ç©ºå€¼æƒ…å†µï¼Œæ‰€ä»¥åœ¨æœ«å°¾è¿›è¡Œä¸€æ¬¡æ‹·è´ return Arrays.copyOf(resultIntervals, resultIntervalsPosition + 1, resultIntervals.getClass()); } /** * å†’æ³¡æ’åº, å¯¹äºŒç»´æ•°ç»„æŒ‰ç…§å¼€å§‹æ—¶é—´èŠ‚ç‚¹è¿›è¡Œæ’åº * @param intervals * @param size * @return */ private static int [][] sort(int [][] intervals, int size) { if (size \u0026lt;= 1) { return intervals; } for (int i = 0; i \u0026lt; size; ++i) { boolean flag = false; for (int j = 0; j \u0026lt; size - i - 1; ++j) { if (intervals[j][0] \u0026gt; intervals[j + 1][0]) { // å¼€å§‹äº¤æ¢ int [] temp = intervals[j]; intervals[j] = intervals[j + 1]; intervals[j + 1] = temp; // è¡¨ç¤ºå­˜åœ¨æ•°æ®äº¤æ¢ flag = true; } } if (!flag){ // æ²¡æœ‰æ•°æ®äº¤æ¢ï¼Œæå‰é€€å‡º break; } } return intervals; } } å†’æ³¡ç®—æ³•ç†è§£ å†’æ³¡æ’åºï¼Œä½¿ç”¨ä¸¤ä¸ªå¾ªç¯åµŒå¥—å®Œæˆï¼Œå¤–å±‚å¾ªç¯ä¸ºå†’æ³¡æ¬¡æ•°ï¼Œæ§åˆ¶å®Œæ•´çš„æ’åºè¡Œä¸ºï¼Œ å†…å±‚å¾ªç¯åˆ™æ˜¯ä»æœ‰é™çš„æ•°æ®é›†åˆä¸­æŸ¥æ‰¾æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œå¹¶å°†è¯¥å€¼ä¼ é€’åˆ°æœ€å³ç«¯æˆ–è€…æ˜¯æœ€å·¦ç«¯ã€‚ æ¯ä¸€æ¬¡çš„å†…å±‚å¾ªç¯éƒ½æ˜¯åœ¨æœ‰é™çš„æ•°æ®é›†åˆä¸­å¯»æ‰¾ï¼Œæ¯è¿›è¡Œä¸€æ¬¡å†’æ³¡ï¼Œä¾¿ç›¸åº”çš„ä»æœ‰é™çš„æ•°æ®é›†ä¸­æ‰¾åˆ°æœ€å¤§æˆ–æœ€å°å€¼ï¼Œ è¯¥æœ‰é™æ•°æ®é›†åˆåœ¨é€»è¾‘å±‚é¢ä¾¿å°‘äº†ä¸€ä¸ªéœ€è¦æ’åºçš„å€¼ï¼Œå³ä¸‹ä¸€æ¬¡å†’æ³¡æ€»æ˜¯æ¯”å‰ä¸€æ¬¡å°‘è®¡ç®—ä¸€ä¸ªå€¼ã€‚ å†…å±‚å¾ªç¯æ—¨åœ¨å¯»æ‰¾æœ€å¤§æˆ–æœ€å°ï¼Œå¦‚æœæ•°æ®è¿˜æœªå®Œå…¨æœ‰åºï¼Œé‚£ä¹ˆè¯¥æ¬¡å†’æ³¡å¿…å®šä¼šå‘ç”Ÿæ•°æ®äº¤æ¢ã€‚ è‹¥æ˜¯å†’æ³¡è®¡ç®—ä¸­æœªå‘ç”Ÿæ•°æ®äº¤æ¢ï¼Œåˆ™æ„å‘³ç€æœ¬æ¬¡æ’åºå·²ç»å®Œæˆã€‚æ•°æ®äº¤æ¢ä½œä¸ºä¼˜åŒ–æ¡ä»¶ï¼Œ è¡¨ç¤ºå¹¶ä¸æ˜¯æ¯ä¸€æ¬¡æ’åºéƒ½éœ€è¦Næ¬¡å†’æ³¡ï¼ˆå‡è®¾æ•°æ®é›†åˆé•¿åº¦ä¸ºNï¼‰ã€‚\nå‚è€ƒ LeetCode-åˆå¹¶åŒºé—´ æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾\u0026ndash;æ’åºï¼ˆä¸Šï¼‰ ","permalink":"https://fuyi-atlas.github.io/posts/program/algorithm/merge-interval-001/","summary":"å‰è¨€ åœ¨å·¥ä½œä¸­ï¼Œè¿˜æ²¡æœ‰ä»”ç»†çš„å»ç ”ç©¶è¿‡ä¸€äº›ç®—æ³•å®ç°ï¼Œç›´åˆ°æœ€è¿‘é¢è¯•æ‰çŸ¥é“ï¼Œè‡ªå·±çš„æ•°æ®ç»“æ„ä¸ç®—æ³•çš„åŠŸåº•è¿™ä¹ˆå·®ã€‚ çŸ¥é“æ€»æ˜¯æ¯”ä¸çŸ¥é“çš„å¼ºï¼Œé‚£ä¹ˆå°±ä¸€ä¸ªä¸€ä¸ªçš„æ¥å§ï¼Œæˆ‘ä¹Ÿä¼šé€šè¿‡æ–‡å­—çš„æ–¹å¼è®°å½•è‡ªå·±çš„ç®—æ³•é“è·¯ï¼Œä¸‹ä¸€ä¸ªç›®æ ‡å°±æ˜¯LeetCodeã€‚\nå¦‚é¢˜ï¼ˆæŸæ¬¡é¢è¯•é¢˜ï¼‰ ç»™å®šâ¼€ä¸ªæŒ‰å¼€å§‹æ—¶é—´ä»â¼©åˆ°å¤§æ’åºçš„æ—¶é—´åŒºé—´é›†åˆï¼Œè¯·å°†é‡å çš„åŒºé—´åˆå¹¶ã€‚æ—¶é—´åŒºé—´é›†åˆâ½¤ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºï¼Œ äºŒç»´æ•°ç»„çš„æ¯â¼€ï¨ˆè¡¨ç¤ºâ¼€ä¸ªæ—¶é—´åŒºé—´ï¼ˆé—­åŒºé—´ï¼‰ï¼Œå…¶ä¸­ 0 ä½ç½®å…ƒç´ è¡¨ç¤ºæ—¶é—´åŒºé—´å¼€å§‹ï¼Œ1 ä½ç½®å…ƒç´ è¡¨ç¤ºæ—¶é—´åŒºé—´ç»“æŸã€‚ ï¦µ 1ï¼šè¾“å…¥ï¼š[ [1, 3], [2, 6], [8, 10], [15, 18] ]è¿”å›ï¼š [ [1, 6], [8, 10], [15, 18]] è§£é‡Šï¼šæ—¶é—´åŒºé—´ [1, 3] å’Œ [2, 6] æœ‰éƒ¨åˆ†é‡å ï¼Œåˆå¹¶ä¹‹åä¸º [1, 6] ï¦µ 2ï¼šè¾“å…¥ï¼š[[1, 4], [4, 5]]è¿”å›ï¼š[[1, 5]]è§£é‡Šï¼šæ—¶é—´åŒºé—´[1ï¼Œ4] å’Œ [4ï¼Œ5]é‡å äº†ï¦ºâ¼€ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œåˆå¹¶ä¹‹åä¸º [1ï¼Œ5] éœ€è¦å®ç°çš„â½…æ³•åŸå‹ï¼šint[][] merge(int[][] intervals)\näºŒç»´æ•°ç»„ä¸­çš„æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªæ—¶é—´åŒºé—´ï¼ˆé—­åŒºé—´ï¼‰ï¼Œå…¶ä¸­0ä½ç½®è¡¨ç¤ºå¼€å§‹æ—¶é—´ï¼Œ1ä½ç½®è¡¨ç¤ºç»“æŸæ—¶é—´ ç»™å®šçš„æ—¶é—´åŒºé—´é›†åˆæŒ‰ç…§å¼€å§‹æ—¶é—´ä»å°åˆ°å¤§æ’åºï¼Œå³ä¸ºæœ‰åº è¿™é‡Œç»™å‡ºçš„é¢˜è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå› ä¸ºç»™å®šçš„æ—¶é—´åŒºé—´é›†åˆå·²ç»æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆäº†ï¼Œéœ€è¦å®ç°çš„å†…å®¹åªå‰©ä¸‹åŒºé—´åˆå¹¶äº†ã€‚ ç”±é¢˜ä¸­å¯çŸ¥ï¼Œéœ€è¦åˆå¹¶å…·æœ‰é‡å éƒ¨åˆ†çš„åŒºé—´ï¼Œåªè¦ç¡®å®šäº†é‡å çš„æ¡ä»¶ï¼Œä¾¿åŸºæœ¬å®Œæˆäº†è§£ç­”ã€‚\nåœ¨å·²å®Œæˆæ—¶é—´åŒºé—´å¼€å§‹æ—¶é—´ä»å°åˆ°å¤§çš„æ’åºåï¼Œé‚£ä¹ˆæ­¤æ—¶çš„æ—¶é—´åŒºé—´é›†åˆåœ¨æ—¶é—´æ¨ªè½´ä¸Šå›å‘ˆç°ç±»ä¼¼ä¸Šå›¾çš„æƒ…å†µï¼Œ æ­¤æ—¶å¯ä»¥ä»å°åˆ°å¤§éå†æ—¶é—´åŒºé—´é›†åˆï¼Œè¿›è¡Œåˆå¹¶æˆ–æ”¶é›†ã€‚è¿™é‡Œéœ€è¦ä¸€ä¸ªå®¹å™¨å­˜æ”¾ç›®æ ‡ç»“æœï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰ä»»ä½•äº¤é›†çš„æ—¶é—´åŒºé—´ã€‚ å…·ä½“å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n/** * æ—¶é—´åŒºé—´åˆå¹¶æ–¹æ³• * * @param intervals * @return */ public static int [][] merge(int [][] intervals) { // äºŒç»´æ•°ç»„è¡Œæ•° int rows = intervals.","title":"åˆå¹¶åŒºé—´"},{"content":"å‰è¨€ ç»ˆäºè¿˜æ˜¯åƒäº†è‡ªå·±çš„ç‹—ç²®\u0026hellip;\u0026hellip;\nå…³äº å®¢æˆ·ç«¯-æœåŠ¡ç«¯ ç½‘ç»œæ¨¡å‹ å¸¸è§„æƒ…å†µä¸‹ï¼Œç½‘ç»œåº”ç”¨éƒ½ä¼šå­˜åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼Œæ¯”å¦‚å¹³æ—¶å¤–å–åº”ç”¨ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨å¤–å–åº”ç”¨ä¸Šçš„æ“ä½œï¼Œéƒ½å¯¹åº”ç€å®¢æˆ·ç«¯åº”ç”¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å“åº”çš„è¿‡ç¨‹ã€‚æœåŠ¡å™¨ä¸ºå®¢æˆ·ç«¯æä¾›ä¸šåŠ¡æ•°æ®æ”¯æŒï¼Œå®¢æˆ·ç«¯åˆ™ä¸ºç”¨æˆ·æä¾›äº¤äº’ç•Œé¢ã€‚\nåœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œå…·ä½“åˆ°å®¢æˆ·ç«¯ - æœåŠ¡å™¨æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè€ƒè™‘æ˜¯ä½¿ç”¨TCPè¿˜æ˜¯UDPï¼Œå…¶å®å®ƒä»¬äºŒè€…çš„åŒºåˆ«ä¹Ÿå¾ˆç®€å•ï¼šåœ¨TCPä¸­è¿æ¥æ˜¯è°å‘èµ·çš„ï¼Œåœ¨UDPä¸­æŠ¥æ–‡æ˜¯è°å‘é€çš„ã€‚åœ¨TCPä¸­ï¼Œå»ºç«‹è¿æ¥æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç¯èŠ‚ã€‚åŒºåˆ«å‡ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸ºäºŒè€…ç¼–ç¨‹æ¨¡å‹æ˜¯çš„ä¸åŒçš„ã€‚\næœåŠ¡å™¨ç«¯éœ€è¦åœ¨ä¸€å¼€å§‹å°±ç›‘å¬åœ¨ä¸€ä¸ªç¡®å®šçš„ç«¯å£ä¸Šï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œä¸€æ—¦æœ‰å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨ç«¯åˆ™ä¼šæ¶ˆè€—ä¸€å®šçš„è®¡ç®—æœºèµ„æºä¸ºå®ƒæœåŠ¡ã€‚\nå®¢æˆ·ç«¯ç›¸å¯¹ç®€å•ï¼Œå®ƒå‘æœåŠ¡å™¨çš„ç›‘å¬ç«¯å£å‘èµ·è¯·æ±‚ï¼Œè¿æ¥å»ºç«‹ä¹‹åï¼Œé€šè¿‡è¿æ¥é€šè·¯å’ŒæœåŠ¡å™¨ç«¯è¿›è¡Œé€šä¿¡ã€‚\nè¿˜æœ‰ä¸€ç‚¹è¦å¼ºè°ƒçš„æ˜¯ï¼Œæ— è®ºæ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯ï¼Œå®ƒä»¬è¿è¡Œçš„åŸºæœ¬å•ä½éƒ½æ˜¯è¿›ç¨‹ï¼ˆProcessï¼‰ï¼Œè€Œä¸æ˜¯æœºå™¨ã€‚ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¯ä»¥åŒæ—¶å»ºç«‹å¤šä¸ªåˆ°ä¸åŒæœåŠ¡å™¨çš„è¿æ¥ï¼›è€ŒæœåŠ¡å™¨æ›´æ˜¯å¯èƒ½åœ¨ä¸€å°æœºå™¨ä¸Šéƒ¨ç½²è¿è¡Œå¤šä¸ªæœåŠ¡ã€‚\nä»€ä¹ˆæ˜¯ socket socketæ˜¯ä¸€ç§æ“ä½œç³»ç»Ÿæä¾›çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚è¿™é‡Œå¹¶ä¸å±€é™äºæœ¬åœ°ï¼Œå¯ä»¥æ˜¯æœ¬åœ°è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿œç«¯è¿›ç¨‹é—´çš„é€šä¿¡ã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä¼šä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸€ç»„åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰ï¼Œç§°ä¸ºå¥—æ¥å­—æ¥å£ï¼ˆsocket APIï¼‰ã€‚åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å¥—æ¥å­—æ¥å£æ¥ä½¿ç”¨å¥—æ¥å­—ï¼ˆsocketï¼‰ï¼Œå·²è¿›è¡Œæ•°æ®äº¤æ¢ã€‚\nè¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¸¸è¯´çš„TCPå’ŒUDPåªæ˜¯ä¼ è¾“å±‚åè®®ï¼Œæ˜¯ä¸€ç§çº¦å®šã€‚TCPä¸‰æ¬¡æ¡æ‰‹åˆ™æ˜¯åŸºäºTCPåè®®åˆ›å»ºç½‘ç»œé€šè·¯ï¼Œè¯¥é€šè·¯çš„å…·ä½“åˆ›å»ºä¸å®ç°è¿˜æ˜¯socketå®Œæˆã€‚socketæ˜¯æˆ‘ä»¬ç”¨æ¥å»ºç«‹è¿æ¥ã€ä¼ è¾“æ•°æ®çš„å”¯ä¸€é€”å¾„ã€‚\nå¦‚ä½•ä½¿ç”¨ socket å»ºç«‹è¿æ¥ é€šè¿‡å‰é¢çš„å®¢æˆ·ç«¯ - æœåŠ¡å™¨æ¨¡å‹ï¼Œæˆ‘ä»¬çŸ¥é“è‡³å°‘éœ€è¦ä¸€å¯¹å¥—æ¥å­—æ‰èƒ½è¿›è¡Œç½‘ç»œè¿æ¥çš„å»ºç«‹ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æœåŠ¡ç«¯å¥—æ¥å­—å’Œå®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä»æœåŠ¡ç«¯è¯´èµ·ã€‚\næœåŠ¡ç«¯å‡†å¤‡è¿æ¥è¿‡ç¨‹ åˆ›å»ºå¥—æ¥å­—ï¼ˆæˆ‘ä»¬è¿™é‡Œä¼šä½¿ç”¨ TCPçš„å®ç°ï¼‰ ç»‘å®šç›‘å¬åœ°å€ï¼šå³ä¸ºç»‘å®šéœ€è¦ç›‘å¬çš„ IPåœ°å€ä»¥åŠ ç«¯å£å·ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æœ¬æœº IPï¼Œä½†æ˜¯è€ƒè™‘åˆ°éƒ¨ç½²ç¯å¢ƒ IPå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦è¿›è¡Œ IPåœ°å€çš„ç»‘å®šï¼ˆæ¯”å¦‚è¿›è¡Œé€šé…åœ°å€æŒ‡å®šï¼Œæˆ–è€…ä¸»æœºå­˜åœ¨å¤šå¼ ç½‘å¡æ—¶æŒ‡å®šå…·ä½“çš„ IPï¼‰ã€‚å¦‚æœä¸æ˜¾å¼çš„æŒ‡å®šç«¯å£å·ï¼Œå°±æ„å‘³ç€æŠŠç«¯å£çš„é€‰æ‹©æƒäº¤ç»™æ“ä½œç³»ç»Ÿå†…æ ¸æ¥å¤„ç†ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šæ ¹æ®ä¸€å®šçš„ç®—æ³•é€‰æ‹©ä¸€ä¸ªç©ºé—²çš„ç«¯å£ï¼Œå®Œæˆå¥—æ¥å­—çš„ç»‘å®šã€‚ å¼€å¯å¥—æ¥å­—ç›‘å¬æ¨¡å¼ï¼šbindå‡½æ•°åªæ˜¯å®ç°å¥—æ¥å­—ä¸åœ°å€çš„å…³è”ï¼Œå¦‚åŒç™»è®°äº†ç”µè¯å·ç ï¼Œå¦‚æœè¦è®©åˆ«äººæ‰“é€šå¸¦å¹´åï¼Œè¿˜éœ€è¦æˆ‘ä»¬æŠŠç”µè¯è®¾å¤‡æ¥å…¥ç”µè¯çº¿ï¼Œè®©æœåŠ¡å™¨çœŸæ­£å¤„äºå¯æ¥å¬çš„çŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¾èµ– listenå‡½æ•°ã€‚è¿™é‡Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œsocketå­˜åœ¨ ä¸»åŠ¨å’Œ è¢«åŠ¨æ¨¡å¼ï¼Œæ¯”å¦‚æœåŠ¡å™¨å°±æ˜¯å¤„äº è¢«åŠ¨æ¨¡å¼ä¸‹ï¼Œå®ƒéœ€è¦ç­‰å¾…å®¢æˆ·ç«¯å¥—æ¥å­—çš„ ä¸»åŠ¨è¿æ¥ã€‚è€Œ listenå‡½æ•°ä¾¿æ˜¯å¯ä»¥å°†å¥—æ¥å­—è®¾ç½®ä¸º è¢«åŠ¨æ¨¡å¼ï¼Œå³å‘Šè¯‰å†…æ ¸ï¼šâ€œæˆ‘è¿™ä¸ªå¥—æ¥å­—æ˜¯ç”¨æ¥ç­‰å¾…ç”¨æˆ·è¯·æ±‚çš„â€ã€‚ å»ºç«‹è¿æ¥ï¼ˆaccepté˜»å¡ï¼‰ï¼šåœ¨å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚åˆ°è¾¾æ—¶ï¼ŒæœåŠ¡ç«¯åº”ç­”æˆåŠŸï¼Œä¾¿å®Œæˆè¿æ¥å»ºç«‹ã€‚ package com.zhoujian.socket; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; /** * çº¿ç¨‹æ± å·¥å…·ç±» * @author zhoujian */ public class ExecutorServicePool { /**Â * åˆå§‹åŒ–çº¿ç¨‹æ±  */ public static ExecutorService executorService = Executors.newFixedThreadPool(10); } package com.zhoujian.socket.server; import com.zhoujian.socket.ExecutorServicePool; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import java.io.BufferedReader; import java.io.IOException; import java.io.InputStreamReader; import java.net.ServerSocket; import java.net.Socket; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; /** * SocketæœåŠ¡ç«¯ç¤ºä¾‹ * @author zhoujian */ public class SocketServer { /** * ç›‘å¬ç«¯å£ */ private static int PORT = 8088; private ServerSocket serverSocket; private static Logger logger = LoggerFactory.getLogger(SocketServer.class); public static void main(String[] args) { try { new SocketServer().startUp(PORT); } catch (IOException e) { e.printStackTrace(); } } private void startUp(int port) throws IOException { /**Â * åœ¨åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­å…ˆåå®Œæˆäº†ç›‘å¬åœ°å€ç»‘å®šå’Œ listen å‡½æ•°è°ƒç”¨ */ serverSocket = new ServerSocket(port); logger.info(\u0026#34;Socket Server is online, listening at port {}\u0026#34;, PORT); while (true){ /** * æ­¤å¤„é˜»å¡ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼Œåœ¨ä¸‰æ¬¡æ¡æ‰‹æˆåŠŸå®Œæˆåï¼Œé‡Šæ”¾é˜»å¡ */ Socket socket = serverSocket.accept(); logger.info(\u0026#34;socket port is {} connect successful\u0026#34;, socket.getPort()); ExecutorServicePool.executorService.execute(new AnswerThread(socket)); } } /**Â * åº”ç­”çº¿ç¨‹Â */ static class AnswerThread implements Runnable { private Socket socket; public AnswerThread(Socket socket){ this.socket = socket; } @Override public void run() { String content = null; BufferedReader bufferedReader = null; try { bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream(), \u0026#34;UTF-8\u0026#34;)); /** * è¿™é‡Œçš„åˆ¤æ–­æ¡ä»¶å°±æ˜¯æ•°æ®å‘é€å®Œæ¯•çš„æ ‡è¯† */ while ((content = bufferedReader.readLine()) != null){ logger.info(\u0026#34;form client: {}\u0026#34;, content); socket.getOutputStream().write(content.getBytes()); socket.getOutputStream().write(\u0026#34;\\n\u0026#34;.getBytes()); socket.getOutputStream().flush(); } } catch (IOException e) { e.printStackTrace(); } } } } å®¢æˆ·ç«¯å‘èµ·è¿æ¥è¿‡ç¨‹ åˆ›å»ºå¥—æ¥å­— ä½¿ç”¨ connectå‘èµ·è¿æ¥ï¼šè°ƒç”¨ connectå‡½æ•°å‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚ï¼Œè¿™é‡Œä¼ å…¥çš„æ˜¯æœåŠ¡ç«¯å¥—æ¥å­—çš„åœ°å€ï¼Œconnectå‡½æ•°å¯ä»¥çœ‹åšæ˜¯å°†å¥—æ¥å­—è½¬æ¢ä¸º ä¸»åŠ¨æ¨¡å¼ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå®¢æˆ·ç«¯åœ¨è°ƒç”¨ connectå‡½æ•°å‰ä¸æ˜¯éå¾—è°ƒç”¨ bindå‡½æ•°ï¼Œå› ä¸ºå¦‚æœéœ€è¦ï¼ˆTCP|UDP|æœ¬åœ° å¥—æ¥å­—ï¼‰çš„è¯ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šç¡®å®šæºIPåœ°å€ï¼Œå¹¶æŒ‰ç…§ä¸€å®šçš„ç®—æ³•é€‰æ‹©ä¸€ä¸ªä¸´æ—¶ç«¯å£ä½œä¸ºæºç«¯å£ï¼ˆè¿™é‡Œæ˜¯å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯åº”å½“å…ˆå®Œæˆåœ°å€ç»‘å®šï¼Œå› ä¸ºéœ€è¦ä¸€ä¸ªç¨³å®šçš„åœ°å€è¿›è¡Œæ ‡è®°ï¼Œå®¢æˆ·ç«¯å¤§å¯ä¸å¿…ï¼Œè¿˜å¯ä»¥å‡å°ç«¯å£å†²çªçš„å¯èƒ½ï¼‰ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ TCPå¥—æ¥å­—ï¼Œåœ¨è°ƒç”¨ connectå‡½æ•°æ—¶å°†æ¿€å‘ TCPçš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œè´´å›¾å¦‚ä¸‹ï¼ˆå›¾ç‰‡æ¥è‡ªäº æå®¢æ—¶é—´ï¼‰ï¼Œè¿™é‡ŒåŠ¡å¿…æ³¨æ„é˜»å¡çŠ¶æ€çš„æ”¹å˜æƒ…å†µ: æ³¨æ„ï¼šReadæ–¹æ³•ä¹Ÿæ˜¯é˜»å¡çš„ï¼Œå½“è°ƒç”¨Readæ–¹æ³•æ˜¯ï¼Œå®ƒå°±ä¼šä¸€ç›´é˜»å¡åœ¨é‚£é‡Œï¼Œç›´åˆ°å¦ä¸€æ–¹å‘Šè¯‰å®ƒæ•°æ®å·²ç»å‘é€å®Œæ¯•ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½ä¼šä½¿ç”¨é•¿åº¦è¿›è¡Œæ§åˆ¶ï¼Œè¿™é‡Œæ˜¯é‡‡ç”¨`\\n`æ¥ä½œä¸ºæ•°æ®å®Œç»“å‘é€çš„æ ‡è¯†ï¼‰ package com.zhoujian.socket.client; import com.zhoujian.socket.ExecutorServicePool; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import java.io.*; import java.net.Socket; /** * Socketå®¢æˆ·ç«¯ç¤ºä¾‹ * @author zhoujian */ public class SocketClient { /**Â * æœåŠ¡ç«¯å¥—æ¥å­—IPåœ°å€Â */ private static String HOST = \u0026#34;127.0.0.1\u0026#34;; /**Â * æœåŠ¡ç«¯å¥—æ¥å­—ç›‘å¬ç«¯å£Â */ private static int PORT = 8088; private static Logger logger = LoggerFactory.getLogger(SocketClient.class); /**Â * äºä¸»çº¿ç¨‹ä¸­åˆå§‹åŒ–å®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œå¹¶å®Œæˆä¸æœåŠ¡ç«¯å¥—æ¥å­—çš„è¿æ¥Â * @param argsÂ * @throws IOExceptionÂ */ public static void main(String[] args) throws IOException { Socket client = new Socket(HOST, PORT); ExecutorServicePool.executorService.execute(new ReceiveThread(client)); BufferedReader reader = new BufferedReader(new InputStreamReader(System.in, \u0026#34;UTF-8\u0026#34;)); BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(client.getOutputStream())); while (true){ String msg = reader.readLine(); writer.write(msg); writer.write(\u0026#34;\\n\u0026#34;); writer.flush(); } } /**Â * ç”¨äºæ¥æ”¶æœåŠ¡ç«¯å¥—æ¥å­—çš„åº”ç­”Â */ static class ReceiveThread implements Runnable{ private Socket socket; public ReceiveThread(Socket socket){ this.socket = socket; } @Override public void run() { String receive = null; BufferedReader bufferedReader = null; try { bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream(), \u0026#34;UTF-8\u0026#34;)); while ((receive = bufferedReader.readLine()) != null){ logger.info(\u0026#34;from server: {}\u0026#34;, receive); } } catch (IOException e) { e.printStackTrace(); } } } } è¿è¡Œæˆªå›¾ æœåŠ¡ç«¯å¥—æ¥å­—å¯åŠ¨ å®¢æˆ·ç«¯Aå¥—æ¥å­—å¯åŠ¨ å®¢æˆ·ç«¯Bå¥—æ¥å­—å¯åŠ¨ å®¢æˆ·ç«¯Aå¥—æ¥å­—ä¸æœåŠ¡ç«¯å¥—æ¥å­—é€šä¿¡ å®¢æˆ·ç«¯Bå¥—æ¥å­—ä¸æœåŠ¡ç«¯å¥—æ¥å­—é€šä¿¡ æ‹“å±• å¾…æ›´æ–°\u0026hellip;\u0026hellip;\nå¼•ç”¨ ç½‘ç»œç¼–ç¨‹æ¨¡å‹ï¼šè®¤è¯†å®¢æˆ·ç«¯-æœåŠ¡å™¨ç½‘ç»œæ¨¡å‹çš„åŸºæœ¬æ¦‚å¿µ\nå¥—æ¥å­—å’Œåœ°å€ï¼šåƒç”µè¯å’Œç”µè¯å·ç ä¸€æ ·ç†è§£å®ƒä»¬\nTCPä¸‰æ¬¡æ¡æ‰‹ï¼šæ€ä¹ˆä½¿ç”¨å¥—æ¥å­—æ ¼å¼å»ºç«‹è¿æ¥\nä½¿ç”¨å¥—æ¥å­—è¿›è¡Œè¯»å†™ï¼šå¼€å§‹äº¤æµå§\nJava socketè¯¦è§£ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†\nè¯´æ˜ æœ¬èŠ‚å†…å®¹æ¶‰åŠçš„å®Œæ•´ä»£ç åœ°å€ï¼šsocket-example\næœ¬æ–‡å†…å®¹å¤§éƒ¨åˆ†æºè‡ªæå®¢æ—¶é—´ä»¥åŠç½‘ç»œåšå®¢å›¾æ–‡å†…å®¹èŠ‚é€‰ï¼Œå¦‚æœ‰å†’çŠ¯ï¼Œè¿˜è¯·å‘ŠçŸ¥æˆ‘è¿›è¡Œå¤„ç† é‚®ç®±ï¼šthread_zhou@126.com ","permalink":"https://fuyi-atlas.github.io/posts/program/network-program/simple-case-001/","summary":"å‰è¨€ ç»ˆäºè¿˜æ˜¯åƒäº†è‡ªå·±çš„ç‹—ç²®\u0026hellip;\u0026hellip;\nå…³äº å®¢æˆ·ç«¯-æœåŠ¡ç«¯ ç½‘ç»œæ¨¡å‹ å¸¸è§„æƒ…å†µä¸‹ï¼Œç½‘ç»œåº”ç”¨éƒ½ä¼šå­˜åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼Œæ¯”å¦‚å¹³æ—¶å¤–å–åº”ç”¨ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨å¤–å–åº”ç”¨ä¸Šçš„æ“ä½œï¼Œéƒ½å¯¹åº”ç€å®¢æˆ·ç«¯åº”ç”¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å“åº”çš„è¿‡ç¨‹ã€‚æœåŠ¡å™¨ä¸ºå®¢æˆ·ç«¯æä¾›ä¸šåŠ¡æ•°æ®æ”¯æŒï¼Œå®¢æˆ·ç«¯åˆ™ä¸ºç”¨æˆ·æä¾›äº¤äº’ç•Œé¢ã€‚\nåœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œå…·ä½“åˆ°å®¢æˆ·ç«¯ - æœåŠ¡å™¨æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè€ƒè™‘æ˜¯ä½¿ç”¨TCPè¿˜æ˜¯UDPï¼Œå…¶å®å®ƒä»¬äºŒè€…çš„åŒºåˆ«ä¹Ÿå¾ˆç®€å•ï¼šåœ¨TCPä¸­è¿æ¥æ˜¯è°å‘èµ·çš„ï¼Œåœ¨UDPä¸­æŠ¥æ–‡æ˜¯è°å‘é€çš„ã€‚åœ¨TCPä¸­ï¼Œå»ºç«‹è¿æ¥æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç¯èŠ‚ã€‚åŒºåˆ«å‡ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸ºäºŒè€…ç¼–ç¨‹æ¨¡å‹æ˜¯çš„ä¸åŒçš„ã€‚\næœåŠ¡å™¨ç«¯éœ€è¦åœ¨ä¸€å¼€å§‹å°±ç›‘å¬åœ¨ä¸€ä¸ªç¡®å®šçš„ç«¯å£ä¸Šï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œä¸€æ—¦æœ‰å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡å™¨ç«¯åˆ™ä¼šæ¶ˆè€—ä¸€å®šçš„è®¡ç®—æœºèµ„æºä¸ºå®ƒæœåŠ¡ã€‚\nå®¢æˆ·ç«¯ç›¸å¯¹ç®€å•ï¼Œå®ƒå‘æœåŠ¡å™¨çš„ç›‘å¬ç«¯å£å‘èµ·è¯·æ±‚ï¼Œè¿æ¥å»ºç«‹ä¹‹åï¼Œé€šè¿‡è¿æ¥é€šè·¯å’ŒæœåŠ¡å™¨ç«¯è¿›è¡Œé€šä¿¡ã€‚\nè¿˜æœ‰ä¸€ç‚¹è¦å¼ºè°ƒçš„æ˜¯ï¼Œæ— è®ºæ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯ï¼Œå®ƒä»¬è¿è¡Œçš„åŸºæœ¬å•ä½éƒ½æ˜¯è¿›ç¨‹ï¼ˆProcessï¼‰ï¼Œè€Œä¸æ˜¯æœºå™¨ã€‚ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¯ä»¥åŒæ—¶å»ºç«‹å¤šä¸ªåˆ°ä¸åŒæœåŠ¡å™¨çš„è¿æ¥ï¼›è€ŒæœåŠ¡å™¨æ›´æ˜¯å¯èƒ½åœ¨ä¸€å°æœºå™¨ä¸Šéƒ¨ç½²è¿è¡Œå¤šä¸ªæœåŠ¡ã€‚\nä»€ä¹ˆæ˜¯ socket socketæ˜¯ä¸€ç§æ“ä½œç³»ç»Ÿæä¾›çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚è¿™é‡Œå¹¶ä¸å±€é™äºæœ¬åœ°ï¼Œå¯ä»¥æ˜¯æœ¬åœ°è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿œç«¯è¿›ç¨‹é—´çš„é€šä¿¡ã€‚åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä¼šä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸€ç»„åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰ï¼Œç§°ä¸ºå¥—æ¥å­—æ¥å£ï¼ˆsocket APIï¼‰ã€‚åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡å¥—æ¥å­—æ¥å£æ¥ä½¿ç”¨å¥—æ¥å­—ï¼ˆsocketï¼‰ï¼Œå·²è¿›è¡Œæ•°æ®äº¤æ¢ã€‚\nè¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¸¸è¯´çš„TCPå’ŒUDPåªæ˜¯ä¼ è¾“å±‚åè®®ï¼Œæ˜¯ä¸€ç§çº¦å®šã€‚TCPä¸‰æ¬¡æ¡æ‰‹åˆ™æ˜¯åŸºäºTCPåè®®åˆ›å»ºç½‘ç»œé€šè·¯ï¼Œè¯¥é€šè·¯çš„å…·ä½“åˆ›å»ºä¸å®ç°è¿˜æ˜¯socketå®Œæˆã€‚socketæ˜¯æˆ‘ä»¬ç”¨æ¥å»ºç«‹è¿æ¥ã€ä¼ è¾“æ•°æ®çš„å”¯ä¸€é€”å¾„ã€‚\nå¦‚ä½•ä½¿ç”¨ socket å»ºç«‹è¿æ¥ é€šè¿‡å‰é¢çš„å®¢æˆ·ç«¯ - æœåŠ¡å™¨æ¨¡å‹ï¼Œæˆ‘ä»¬çŸ¥é“è‡³å°‘éœ€è¦ä¸€å¯¹å¥—æ¥å­—æ‰èƒ½è¿›è¡Œç½‘ç»œè¿æ¥çš„å»ºç«‹ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æœåŠ¡ç«¯å¥—æ¥å­—å’Œå®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä»æœåŠ¡ç«¯è¯´èµ·ã€‚\næœåŠ¡ç«¯å‡†å¤‡è¿æ¥è¿‡ç¨‹ åˆ›å»ºå¥—æ¥å­—ï¼ˆæˆ‘ä»¬è¿™é‡Œä¼šä½¿ç”¨ TCPçš„å®ç°ï¼‰ ç»‘å®šç›‘å¬åœ°å€ï¼šå³ä¸ºç»‘å®šéœ€è¦ç›‘å¬çš„ IPåœ°å€ä»¥åŠ ç«¯å£å·ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æœ¬æœº IPï¼Œä½†æ˜¯è€ƒè™‘åˆ°éƒ¨ç½²ç¯å¢ƒ IPå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦è¿›è¡Œ IPåœ°å€çš„ç»‘å®šï¼ˆæ¯”å¦‚è¿›è¡Œé€šé…åœ°å€æŒ‡å®šï¼Œæˆ–è€…ä¸»æœºå­˜åœ¨å¤šå¼ ç½‘å¡æ—¶æŒ‡å®šå…·ä½“çš„ IPï¼‰ã€‚å¦‚æœä¸æ˜¾å¼çš„æŒ‡å®šç«¯å£å·ï¼Œå°±æ„å‘³ç€æŠŠç«¯å£çš„é€‰æ‹©æƒäº¤ç»™æ“ä½œç³»ç»Ÿå†…æ ¸æ¥å¤„ç†ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šæ ¹æ®ä¸€å®šçš„ç®—æ³•é€‰æ‹©ä¸€ä¸ªç©ºé—²çš„ç«¯å£ï¼Œå®Œæˆå¥—æ¥å­—çš„ç»‘å®šã€‚ å¼€å¯å¥—æ¥å­—ç›‘å¬æ¨¡å¼ï¼šbindå‡½æ•°åªæ˜¯å®ç°å¥—æ¥å­—ä¸åœ°å€çš„å…³è”ï¼Œå¦‚åŒç™»è®°äº†ç”µè¯å·ç ï¼Œå¦‚æœè¦è®©åˆ«äººæ‰“é€šå¸¦å¹´åï¼Œè¿˜éœ€è¦æˆ‘ä»¬æŠŠç”µè¯è®¾å¤‡æ¥å…¥ç”µè¯çº¿ï¼Œè®©æœåŠ¡å™¨çœŸæ­£å¤„äºå¯æ¥å¬çš„çŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦ä¾èµ– listenå‡½æ•°ã€‚è¿™é‡Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œsocketå­˜åœ¨ ä¸»åŠ¨å’Œ è¢«åŠ¨æ¨¡å¼ï¼Œæ¯”å¦‚æœåŠ¡å™¨å°±æ˜¯å¤„äº è¢«åŠ¨æ¨¡å¼ä¸‹ï¼Œå®ƒéœ€è¦ç­‰å¾…å®¢æˆ·ç«¯å¥—æ¥å­—çš„ ä¸»åŠ¨è¿æ¥ã€‚è€Œ listenå‡½æ•°ä¾¿æ˜¯å¯ä»¥å°†å¥—æ¥å­—è®¾ç½®ä¸º è¢«åŠ¨æ¨¡å¼ï¼Œå³å‘Šè¯‰å†…æ ¸ï¼šâ€œæˆ‘è¿™ä¸ªå¥—æ¥å­—æ˜¯ç”¨æ¥ç­‰å¾…ç”¨æˆ·è¯·æ±‚çš„â€ã€‚ å»ºç«‹è¿æ¥ï¼ˆaccepté˜»å¡ï¼‰ï¼šåœ¨å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚åˆ°è¾¾æ—¶ï¼ŒæœåŠ¡ç«¯åº”ç­”æˆåŠŸï¼Œä¾¿å®Œæˆè¿æ¥å»ºç«‹ã€‚ package com.zhoujian.socket; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; /** * çº¿ç¨‹æ± å·¥å…·ç±» * @author zhoujian */ public class ExecutorServicePool { /**Â * åˆå§‹åŒ–çº¿ç¨‹æ±  */ public static ExecutorService executorService = Executors.newFixedThreadPool(10); } package com.","title":"Socketç®€å•æ¡ˆä¾‹å®ç°"},{"content":"å‰è¨€ è®°å½•ä¸€ä¸‹PostgreSQL11.2çš„æ•°æ®æ¢å¤ï¼Œåœºæ™¯æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬åœ¨Aä¸»æœºï¼ˆwindows server 2008ï¼‰ä¸Šå®‰è£…ä¸€ä¸ªPostgreSQL11.2ï¼Œçªç„¶æœ‰ä¸€å¤©Aä¸»æœºåæ‰äº†ï¼Œåªèƒ½å°†ç£ç›˜å¸è½½ä¸‹æ¥æŒ‚è½½åˆ°æ–°çš„ä¸»æœºä¸Šï¼Œä½†æ˜¯å¦‚ä½•æ‰èƒ½å¿«é€Ÿæœ‰æ•ˆçš„å°†ä¹‹å‰ç£ç›˜ä¸­çš„æ•°æ®æ¢å¤å‘¢ï¼Ÿ\né‡æ–°æ³¨å†Œä¸ºwindowsæœåŠ¡ï¼ˆå¤±è´¥ï¼‰ è¿™é‡Œæˆ‘ä½¿ç”¨ä¸»æœºBï¼ˆwindows server 2012 R2ï¼‰è¿›è¡Œé‡æ–°æ³¨å†Œ å‚è€ƒé‡æ–°æ³¨å†ŒPostgreSQLæœåŠ¡\næ‰¾åˆ°å¹¶PostgreSQLçš„å®‰è£…è·¯å¾„ï¼Œåœ¨æ­¤å¯åŠ¨å‘½ä»¤è¡Œå·¥å…· ä½¿ç”¨pg_ctlå‘½ä»¤å°†PostgreSQL11.2é‡æ–°æ³¨å†Œä¸ºæœåŠ¡ï¼Œè¯¥å‘½ä»¤çš„å…·ä½“ç”¨æ³•å’Œå†™æ³•å¯ä»¥æŸ¥çœ‹pg_ctlå¸®åŠ©æ–‡æ¡£ï¼ˆpg_ctl \u0026ndash;helpï¼‰ ç»“æœå¾ˆç°å®ï¼Œæ²¡æœ‰èƒ½å¤ŸæˆåŠŸï¼Œå…·ä½“çš„åŸå› æœªçŸ¥ï¼Œè¿”å›æç¤ºæ¶ˆæ¯ä¸ºï¼šæ— æ³•æ³¨å†ŒæœåŠ¡ï¼Œé”™è¯¯ç 1783\næ­¤è·¯ä¸é€šï¼Œé‚£æˆ‘åªèƒ½æ¢ä¸€ç§æ–¹å¼ã€‚\næ›¿æ¢PostgreSQLçš„æ•°æ®ç›®å½•ï¼ˆæˆåŠŸï¼‰ PostgreSQLçš„æ•°æ®æ˜¯å­˜å‚¨åˆ°dataç›®å½•ä¸‹ï¼Œå…·ä½“çš„ç›®å½•æ˜¯æœåŠ¡å®‰è£…çš„æ—¶å€™æŒ‡å®šçš„ï¼Œé»˜è®¤æ˜¯åœ¨æœåŠ¡çš„å®‰è£…ç›®å½•ä¸‹ã€‚åªè¦ä½ è¿˜æ‹¥æœ‰å®Œæ•´çš„dataç›®å½•ï¼Œé‚£ä¹ˆä½ æ˜¯å®Œå…¨å¯ä»¥ä»è¿™ä¸€ä»½åŸå§‹ç‰©ç†æ–‡ä»¶è¿›è¡Œæ•°æ®æ¢å¤çš„ã€‚\nåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨ä¸»æœºCï¼ˆwindows10ï¼‰ä½œä¸ºæµ‹è¯•æœº å…ˆåœ¨Cä¸»æœºä¸Šå®‰è£…PostgreSQL11.2 å°†åŸå§‹dataç›®å½•æ‹·è´åˆ°Cä¸»æœºPostgreSQLæ•°æ®å­˜åœ¨ç›®å½•ï¼ˆå³dataï¼‰çš„åŒçº§ç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºdata-bakï¼ˆå‘½åéšæ„ï¼Œç¬¦åˆè§„åˆ™ä¸”ä¸å†²çªå°±è¡Œï¼‰ ç„¶åå‚ç…§Change the default PGDATA directory on Windowså®Œæˆå‰©ä½™æ›¿æ¢æ­¥éª¤ åœæ­¢Cä¸»æœºçš„PostgreSQl11.2æœåŠ¡ ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œç”¨æ„ä¸ºé‡æ–°æŒ‡å®šæœåŠ¡ä½¿ç”¨çš„dataç›®å½•ï¼Œæ›¿æ¢ä¸ºæˆ‘æ‹·è´çš„data-bakç›®å½•ï¼Œæ³¨å†Œè¡¨è·¯å¾„ï¼šHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\pgsql-some versionï¼Œä¿®æ”¹ImagePathé¡¹çš„valueå€¼ä¸­ -D å‚æ•° åˆ°windowsæœåŠ¡ç®¡ç†ä¸­æŸ¥çœ‹PostgreSQLæœåŠ¡å±æ€§ï¼Œæ£€éªŒå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ä¸­æ˜¯å¦å·²ç»æŒ‡å‘äº†data-bakè·¯å¾„ é‡å¯PostgreSQLæœåŠ¡ è¿™é‡Œæœ‰å‘ï¼Œè¯·æ³¨æ„ï¼ å¦‚æœå‡ºç°æœåŠ¡å¯åŠ¨ååœæ­¢ï¼Œè¯·è¿›è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š 1. æ£€æŸ¥ data-bak ç›®å½•æƒé™ï¼Œç¡®ä¿è¯¥ç›®å½•å’ŒåŒçº§çš„ data ç›®å½•çš„æƒé™ä¸€è‡´ 2. æ£€æŸ¥ æ˜¯å¦å­˜åœ¨ postmaster.pid æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨å°†å…¶åˆ é™¤ï¼ˆè¿™ä¸ªæœªæµ‹è¯•ï¼Œå¬è¯´å¯ä»¥å“¦ï¼‰ 3. æ£€æŸ¥ postgresql.conf æ–‡ä»¶ï¼Œä¿æŒç«¯å£å·ã€è¯­è¨€ç¯å¢ƒï¼ˆlc_messagesã€lc_monetaryã€lc_numericã€lc_timeï¼‰ç­‰åŸºç¡€é…ç½®å’Œå½“å‰çš„æœåŠ¡ä¸€è‡´ï¼Œé¿å…é…ç½®å¼‚å¸¸å¯¼è‡´å¯åŠ¨å¤±è´¥ 4. æ£€æŸ¥ pg_hba.conf æ–‡ä»¶ æˆ‘æŒ‰ç…§æ­¥éª¤å®Œæˆäº†ä»¥ä¸Šæ“ä½œï¼Œä½†æ˜¯å‘ç°è¿˜æ˜¯æ— æ³•åœ¨æœåŠ¡ç®¡ç†ä¸­å¯åŠ¨æœåŠ¡ï¼Œæˆ‘é€šè¿‡äº‹ä»¶æŸ¥çœ‹å™¨æŸ¥çœ‹æ—¥å¿—ï¼Œä¹Ÿåªæ˜¯çœ‹åˆ°è¶…æ—¶å¯¼è‡´å¯åŠ¨å¤±è´¥ï¼Œé‚åˆgoogle+baiduä¸€æŠŠï¼Œè·å–é“¾æ¥ä¸€ä¸ªpostgresql åœ¨ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨æ—¶è¶…æ—¶\nåœ¨è¿™é‡Œæåˆ°éœ€è¦æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼špg_resetwal -f E:\\Server\\PostgreSQL\\11\\data-bak æ‰§è¡ŒæˆåŠŸä¼šå¾—åˆ°æ‰“å°ä¿¡æ¯ï¼šWrite-ahead log reset\nç„¶åå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡ŒéªŒè¯æ˜¯å¦å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼špg_ctl -D E:\\Server\\PostgreSQL\\11\\data-bak\nç™»å½•å¯†ç åº”è¯¥æ˜¯æ—§çš„å¯†ç ï¼Œæˆ‘è¿™é‡Œæ˜¯ç›´æ¥ä½¿ç”¨åˆšå®‰è£…PostgreSQLäº§ç”Ÿçš„postgresql.conf æ›¿æ¢äº†data-bakä¸­çš„postgresql.conf ï¼Œæ‰€ä»¥æˆ‘çš„ç™»å½•å¯†ç æ˜¯æ–°è®¾ç½®çš„ï¼Œä½ å®åœ¨ä¸çŸ¥é“ä½ å°±æ”¹å˜›\næˆ‘åˆ°è¿™é‡Œå·²ç»èƒ½å¤ŸæˆåŠŸå¯åŠ¨äº†ï¼Œä½†æ˜¯è¿˜æœ‰å‘ï¼Œè¿˜æ˜¯å› ä¸ºè¯­è¨€ç¯å¢ƒå¯¼è‡´çš„ï¼Œå¦‚æœä½ çš„è¯­è¨€ç¯å¢ƒéƒ½ä¸€è‡´ï¼Œé‚£ä¹ˆåº”è¯¥æ²¡å•¥é—®é¢˜äº†ï¼Œé—®é¢˜è§£å†³æ–¹æ¡ˆçœ‹åè®°ï¼Œæœ€ä¸‹é¢\nä»¥ä¸‹éƒ¨åˆ†ä¸ºpg_resetwalå‘½ä»¤çš„ç½‘ç»œè§£é‡Špg_resetwal\npg_resetwal â€” é‡ç½®ä¸€ä¸ªPostgreSQLæ•°æ®åº“é›†ç°‡çš„é¢„å†™å¼æ—¥å¿—ä»¥åŠå…¶ä»–æ§åˆ¶ä¿¡æ¯ pg_resetwalÂ [-f] [-n] [option...] {[-D]Â datadir} pg_resetwalä¼šæ¸…é™¤é¢„å†™å¼æ—¥å¿—ï¼ˆWALï¼‰å¹¶ä¸”æœ‰é€‰æ‹©åœ°é‡ç½®å­˜å‚¨åœ¨Â pg_controlæ–‡ä»¶ä¸­çš„ä¸€äº›å…¶ä»–æ§åˆ¶ä¿¡æ¯ã€‚å¦‚æœè¿™äº›æ–‡ä»¶å·²ç»è¢«æŸåï¼Œ æŸäº›æ—¶å€™å°±éœ€è¦è¿™ä¸ªåŠŸèƒ½ã€‚å½“æœåŠ¡å™¨ç”±äºè¿™æ ·çš„æŸåè€Œæ— æ³•å¯åŠ¨æ—¶ï¼Œ è¿™åªåº”è¯¥è¢«ç”¨ä½œæœ€åçš„æ‰‹æ®µã€‚åœ¨è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œå°±åº”è¯¥å¯ä»¥å¯åŠ¨æœåŠ¡å™¨ï¼Œ ä½†æ˜¯è®°ä½æ•°æ®åº“å¯èƒ½åŒ…å«ç”±äºéƒ¨åˆ†æäº¤äº‹åŠ¡äº§ç”Ÿçš„ä¸ä¸€è‡´æ•°æ®ã€‚ ä½ åº”å½“ç«‹åˆ»è½¬å‚¨ä½ çš„æ•°æ®ã€è¿è¡Œinitdbå¹¶ä¸”é‡æ–°è½½å…¥ã€‚é‡æ–°è½½å…¥åï¼Œ æ£€æŸ¥ä¸ä¸€è‡´å¹¶ä¸”æ ¹æ®éœ€è¦ä¿®å¤ä¹‹ã€‚è¿™ä¸ªå·¥å…·åªèƒ½è¢«å®‰è£…æœåŠ¡å™¨çš„ç”¨æˆ·è¿è¡Œï¼Œå› ä¸ºå®ƒè¦æ±‚å¯¹æ•°æ®ç›®å½•çš„è¯»å†™è®¿é—®ã€‚ å‡ºäºå®‰å…¨åŸå› ï¼Œä½ å¿…é¡»åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šæ•°æ®ç›®å½•ã€‚pg_resetwalÂ ä¸ä½¿ç”¨ç¯å¢ƒå˜é‡PGDATAã€‚å¦‚æœpg_resetwalæŠ±æ€¨å®ƒæ— æ³•ä¸ºpg_controlÂ å†³å®šåˆæ³•æ•°æ®ï¼Œä½ å¯ä»¥é€šè¿‡æŒ‡å®š-fï¼ˆå¼ºåˆ¶ï¼‰é€‰é¡¹å¼ºåˆ¶å®ƒç»§ç»­ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸¢å¤±çš„æ•°æ®å°†è¢«æ›¿æ¢ä¸ºçœ‹ä¼¼åˆç†çš„å€¼ã€‚å¯ä»¥æœŸæœ›å¤§éƒ¨åˆ†åŸŸæ˜¯åŒ¹é…çš„ï¼Œ ä½†æ˜¯ä¸‹ä¸€ä¸ª OIDã€ä¸‹ä¸€ä¸ªäº‹åŠ¡ ID å’Œçºªå…ƒã€ä¸‹ä¸€ä¸ªå¤šäº‹åŠ¡ ID å’Œåç§»ä»¥åŠ WAL å¼€å§‹åœ°å€åŸŸå¯èƒ½è¿˜æ˜¯éœ€è¦äººå·¥ååŠ©ã€‚è¿™äº›åŸŸå¯ä»¥ä½¿ç”¨ä¸‹é¢è®¨è®ºçš„é€‰é¡¹è®¾ç½®ã€‚ å¦‚æœä½ ä¸èƒ½ä¸ºæ‰€æœ‰è¿™äº›åŸŸå†³å®šæ­£ç¡®çš„å€¼ï¼Œ-fè¿˜æ˜¯å¯ä»¥è¢«ä½¿ç”¨ï¼Œ ä½†æ˜¯æ¢å¤çš„æ•°æ®åº“è¿˜æ˜¯å€¼å¾—æ€€ç–‘ï¼šä¸€æ¬¡ç«‹å³çš„è½¬å‚¨å’Œé‡æ–°è½½å…¥æ˜¯åŠ¿åœ¨å¿…è¡Œçš„ã€‚ åœ¨ä½ è½¬å‚¨ä¹‹å‰ä¸è¦åœ¨è¯¥æ•°æ®åº“ä¸­æ‰§è¡Œä»»ä½•æ•°æ®ä¿®æ”¹æ“ä½œï¼Œ å› ä¸ºä»»ä½•è¿™æ ·çš„åŠ¨ä½œéƒ½å¯èƒ½ä½¿ç ´åæ›´ä¸¥é‡ã€‚ åè®° é€šè¿‡æ›¿æ¢dataç›®å½•çš„æ–¹å¼ï¼Œæˆ‘å·²ç»æˆåŠŸå¯åŠ¨äº†PostgreSQLæœåŠ¡ï¼Œä½†æ˜¯æˆ‘åœ¨ç™»å½•çš„æ—¶å€™å‡ºç°äº†é”™è¯¯ï¼Œæç¤ºä¿¡æ¯å¦‚ä¸‹ï¼š æ•°æ®åº“é›†ç¾¤æ˜¯ä»¥ LC_COLLATE \u0026ldquo;Chinese (Simplified)_People\u0026rsquo;s Republic of China.936\u0026quot;æ¥åˆå§‹åŒ–çš„ï¼Œè¿™ä¸ªæ’åºè§„åˆ™æ— æ³•ç”±setlocale()è¯†åˆ«\næ²¡é”™ï¼Œæˆ‘ä¹‹å‰ç¡®å®æ˜¯å°†postgresql.confé…ç½®æ–‡ä»¶ä¸­çš„è¯­è¨€ç¯å¢ƒä»Chinese (Simplified)_People\u0026rsquo;s Republic of China.936ä¿®æ”¹ä¸ºChinese (Simplified)_China.936ï¼Œä¸ç„¶æœåŠ¡æ²¡æœ‰åŠæ³•å¯åŠ¨ã€‚\næˆ‘\u0026hellip;\u0026hellip;ï¼Œå°±å·®è¿™ä¸´é—¨ä¸€è„šï¼Œæ€ä¹ˆåŠï¼Œå…ˆçœ‹çœ‹èƒ½ä¸èƒ½åœ¨æˆ‘çš„windows10ç¬”è®°æœ¬ä¸Šåˆ‡æ¢è¯­è¨€ç¯å¢ƒã€‚\nç„¶å \u0026hellip;\u0026hellip; \u0026hellip;\u0026hellip; \u0026hellip;\u0026hellip; \u0026hellip;\u0026hellip;\nç®—äº†ï¼Œè¿™ä¸ªè‚¯å®šä¸æ˜¯ä»€ä¹ˆå¥½åŠæ³•ï¼Œæˆ‘ä¸èƒ½è®¾ç½®ç¯å¢ƒï¼Œé‚£æˆ‘æ‰¾ä¸€ä¸ªæ”¯æŒçš„ç¯å¢ƒæ€»è¡Œäº†å§ï¼ŒåŸå§‹ç¯å¢ƒæˆ‘æ˜¯æ²¡æ²»äº†ï¼Œå¥½åƒwin7çš„è¯­è¨€ç¯å¢ƒå’ŒåŸå§‹ç¯å¢ƒä¸€è‡´ï¼ˆChinese (Simplified)_People\u0026rsquo;s Republic of China.936ï¼‰ï¼Œå¥½å¥½å¥½ï¼Œçœ‹åˆ°äº†å¸Œæœ›çš„æ›™å…‰\nå’³å’³ï¼Œæœç´¢å¼•æ“è¯šä¸æ¬ºæˆ‘ä¹Ÿï¼Œå“ˆå“ˆå“ˆï¼æ¢å¤å®Œæˆã€‚\nå…¶å®ï¼Œä¸€å¼€å§‹å°±å¯ä»¥å…ˆçœ‹çœ‹å®˜æ–¹çš„æ–‡æ¡£çš„\u0026hellip;\u0026hellip;ï¼ŒMarkä¸€ä¸‹PostgreSQL 11.2 æ‰‹å†Œ\nå‚è€ƒ Recover postgreSQL databases from raw physical files Change the default PGDATA directory on Windows postgresql åœ¨ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨æ—¶è¶…æ—¶ pg_resetwal postgresql - ä»åŸå§‹ç‰©ç†æ–‡ä»¶æ¢å¤PostgreSQLæ•°æ®åº“ æ— æ•ˆçš„è¯­è¨€ç¯å¢ƒåç§° Chinese (Simplified)_People\u0026rsquo;\u0026rsquo;s Republic of China.936 é‡æ–°æ³¨å†ŒPostgreSQLæœåŠ¡ ","permalink":"https://fuyi-atlas.github.io/posts/program/database/postgresql/11.2-data-recovery/","summary":"å‰è¨€ è®°å½•ä¸€ä¸‹PostgreSQL11.2çš„æ•°æ®æ¢å¤ï¼Œåœºæ™¯æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬åœ¨Aä¸»æœºï¼ˆwindows server 2008ï¼‰ä¸Šå®‰è£…ä¸€ä¸ªPostgreSQL11.2ï¼Œçªç„¶æœ‰ä¸€å¤©Aä¸»æœºåæ‰äº†ï¼Œåªèƒ½å°†ç£ç›˜å¸è½½ä¸‹æ¥æŒ‚è½½åˆ°æ–°çš„ä¸»æœºä¸Šï¼Œä½†æ˜¯å¦‚ä½•æ‰èƒ½å¿«é€Ÿæœ‰æ•ˆçš„å°†ä¹‹å‰ç£ç›˜ä¸­çš„æ•°æ®æ¢å¤å‘¢ï¼Ÿ\né‡æ–°æ³¨å†Œä¸ºwindowsæœåŠ¡ï¼ˆå¤±è´¥ï¼‰ è¿™é‡Œæˆ‘ä½¿ç”¨ä¸»æœºBï¼ˆwindows server 2012 R2ï¼‰è¿›è¡Œé‡æ–°æ³¨å†Œ å‚è€ƒé‡æ–°æ³¨å†ŒPostgreSQLæœåŠ¡\næ‰¾åˆ°å¹¶PostgreSQLçš„å®‰è£…è·¯å¾„ï¼Œåœ¨æ­¤å¯åŠ¨å‘½ä»¤è¡Œå·¥å…· ä½¿ç”¨pg_ctlå‘½ä»¤å°†PostgreSQL11.2é‡æ–°æ³¨å†Œä¸ºæœåŠ¡ï¼Œè¯¥å‘½ä»¤çš„å…·ä½“ç”¨æ³•å’Œå†™æ³•å¯ä»¥æŸ¥çœ‹pg_ctlå¸®åŠ©æ–‡æ¡£ï¼ˆpg_ctl \u0026ndash;helpï¼‰ ç»“æœå¾ˆç°å®ï¼Œæ²¡æœ‰èƒ½å¤ŸæˆåŠŸï¼Œå…·ä½“çš„åŸå› æœªçŸ¥ï¼Œè¿”å›æç¤ºæ¶ˆæ¯ä¸ºï¼šæ— æ³•æ³¨å†ŒæœåŠ¡ï¼Œé”™è¯¯ç 1783\næ­¤è·¯ä¸é€šï¼Œé‚£æˆ‘åªèƒ½æ¢ä¸€ç§æ–¹å¼ã€‚\næ›¿æ¢PostgreSQLçš„æ•°æ®ç›®å½•ï¼ˆæˆåŠŸï¼‰ PostgreSQLçš„æ•°æ®æ˜¯å­˜å‚¨åˆ°dataç›®å½•ä¸‹ï¼Œå…·ä½“çš„ç›®å½•æ˜¯æœåŠ¡å®‰è£…çš„æ—¶å€™æŒ‡å®šçš„ï¼Œé»˜è®¤æ˜¯åœ¨æœåŠ¡çš„å®‰è£…ç›®å½•ä¸‹ã€‚åªè¦ä½ è¿˜æ‹¥æœ‰å®Œæ•´çš„dataç›®å½•ï¼Œé‚£ä¹ˆä½ æ˜¯å®Œå…¨å¯ä»¥ä»è¿™ä¸€ä»½åŸå§‹ç‰©ç†æ–‡ä»¶è¿›è¡Œæ•°æ®æ¢å¤çš„ã€‚\nåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨ä¸»æœºCï¼ˆwindows10ï¼‰ä½œä¸ºæµ‹è¯•æœº å…ˆåœ¨Cä¸»æœºä¸Šå®‰è£…PostgreSQL11.2 å°†åŸå§‹dataç›®å½•æ‹·è´åˆ°Cä¸»æœºPostgreSQLæ•°æ®å­˜åœ¨ç›®å½•ï¼ˆå³dataï¼‰çš„åŒçº§ç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºdata-bakï¼ˆå‘½åéšæ„ï¼Œç¬¦åˆè§„åˆ™ä¸”ä¸å†²çªå°±è¡Œï¼‰ ç„¶åå‚ç…§Change the default PGDATA directory on Windowså®Œæˆå‰©ä½™æ›¿æ¢æ­¥éª¤ åœæ­¢Cä¸»æœºçš„PostgreSQl11.2æœåŠ¡ ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œç”¨æ„ä¸ºé‡æ–°æŒ‡å®šæœåŠ¡ä½¿ç”¨çš„dataç›®å½•ï¼Œæ›¿æ¢ä¸ºæˆ‘æ‹·è´çš„data-bakç›®å½•ï¼Œæ³¨å†Œè¡¨è·¯å¾„ï¼šHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\pgsql-some versionï¼Œä¿®æ”¹ImagePathé¡¹çš„valueå€¼ä¸­ -D å‚æ•° åˆ°windowsæœåŠ¡ç®¡ç†ä¸­æŸ¥çœ‹PostgreSQLæœåŠ¡å±æ€§ï¼Œæ£€éªŒå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ä¸­æ˜¯å¦å·²ç»æŒ‡å‘äº†data-bakè·¯å¾„ é‡å¯PostgreSQLæœåŠ¡ è¿™é‡Œæœ‰å‘ï¼Œè¯·æ³¨æ„ï¼ å¦‚æœå‡ºç°æœåŠ¡å¯åŠ¨ååœæ­¢ï¼Œè¯·è¿›è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š 1. æ£€æŸ¥ data-bak ç›®å½•æƒé™ï¼Œç¡®ä¿è¯¥ç›®å½•å’ŒåŒçº§çš„ data ç›®å½•çš„æƒé™ä¸€è‡´ 2. æ£€æŸ¥ æ˜¯å¦å­˜åœ¨ postmaster.pid æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨å°†å…¶åˆ é™¤ï¼ˆè¿™ä¸ªæœªæµ‹è¯•ï¼Œå¬è¯´å¯ä»¥å“¦ï¼‰ 3. æ£€æŸ¥ postgresql.conf æ–‡ä»¶ï¼Œä¿æŒç«¯å£å·ã€è¯­è¨€ç¯å¢ƒï¼ˆlc_messagesã€lc_monetaryã€lc_numericã€lc_timeï¼‰ç­‰åŸºç¡€é…ç½®å’Œå½“å‰çš„æœåŠ¡ä¸€è‡´ï¼Œé¿å…é…ç½®å¼‚å¸¸å¯¼è‡´å¯åŠ¨å¤±è´¥ 4. æ£€æŸ¥ pg_hba.conf æ–‡ä»¶ æˆ‘æŒ‰ç…§æ­¥éª¤å®Œæˆäº†ä»¥ä¸Šæ“ä½œï¼Œä½†æ˜¯å‘ç°è¿˜æ˜¯æ— æ³•åœ¨æœåŠ¡ç®¡ç†ä¸­å¯åŠ¨æœåŠ¡ï¼Œæˆ‘é€šè¿‡äº‹ä»¶æŸ¥çœ‹å™¨æŸ¥çœ‹æ—¥å¿—ï¼Œä¹Ÿåªæ˜¯çœ‹åˆ°è¶…æ—¶å¯¼è‡´å¯åŠ¨å¤±è´¥ï¼Œé‚åˆgoogle+baiduä¸€æŠŠï¼Œè·å–é“¾æ¥ä¸€ä¸ªpostgresql åœ¨ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨æ—¶è¶…æ—¶\nåœ¨è¿™é‡Œæåˆ°éœ€è¦æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼špg_resetwal -f E:\\Server\\PostgreSQL\\11\\data-bak æ‰§è¡ŒæˆåŠŸä¼šå¾—åˆ°æ‰“å°ä¿¡æ¯ï¼šWrite-ahead log reset\nç„¶åå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡ŒéªŒè¯æ˜¯å¦å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼špg_ctl -D E:\\Server\\PostgreSQL\\11\\data-bak\nç™»å½•å¯†ç åº”è¯¥æ˜¯æ—§çš„å¯†ç ï¼Œæˆ‘è¿™é‡Œæ˜¯ç›´æ¥ä½¿ç”¨åˆšå®‰è£…PostgreSQLäº§ç”Ÿçš„postgresql.conf æ›¿æ¢äº†data-bakä¸­çš„postgresql.conf ï¼Œæ‰€ä»¥æˆ‘çš„ç™»å½•å¯†ç æ˜¯æ–°è®¾ç½®çš„ï¼Œä½ å®åœ¨ä¸çŸ¥é“ä½ å°±æ”¹å˜›\næˆ‘åˆ°è¿™é‡Œå·²ç»èƒ½å¤ŸæˆåŠŸå¯åŠ¨äº†ï¼Œä½†æ˜¯è¿˜æœ‰å‘ï¼Œè¿˜æ˜¯å› ä¸ºè¯­è¨€ç¯å¢ƒå¯¼è‡´çš„ï¼Œå¦‚æœä½ çš„è¯­è¨€ç¯å¢ƒéƒ½ä¸€è‡´ï¼Œé‚£ä¹ˆåº”è¯¥æ²¡å•¥é—®é¢˜äº†ï¼Œé—®é¢˜è§£å†³æ–¹æ¡ˆçœ‹åè®°ï¼Œæœ€ä¸‹é¢","title":"PostgreSQL11.2 æ•°æ®æ¢å¤è®°å½•ï¼ˆFrom Physical Filesï¼‰"},{"content":" å‰è¨€ æˆ‘ä¸€ç›´è®¤ä¸º Spring Data JPA æ˜¯ä¸€ä¸ªå¥½ä¸œè¥¿ï¼Œæœ‰ç€è‡ªå·±ç‹¬ç‰¹çš„é»‘é­”æ³•ã€‚ä½†æ˜¯ç”±äºç›®å‰æ¥è§¦ç”šå°‘ï¼Œä¸çŸ¥é“è¯¥å¦‚ä½•å¼€å¯ã€‚æ‰€ä»¥æƒ³é€šè¿‡ä»æ— åˆ°æœ‰çš„è¿‡ç¨‹ï¼Œé€æ¸çš„å»è®¤è¯†å®ƒï¼Œææ¸…æ¥šå®ƒä¸Mybatisçš„å…³ç³»ï¼Œå¦‚æœç«™åœ¨æ¶æ„çš„è§’åº¦çœ‹ä¼šæ€ä¹ˆæ€ä¹ˆæ ·çš„æƒ…å†µã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨æ–‡å­—çš„æ–¹å¼å°†è¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä¹Ÿç®—æ˜¯ä¸€ç‚¹ç»å†ã€‚\nSpring Data JPA ä»‹ç» From spring.ioï¼šSpring Data JPAæ˜¯Spring Dataç³»åˆ—çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥è½»æ¾å¿«æ·çš„å®ç°æ•°æ®è®¿é—®å±‚çš„å¢å¼ºæ”¯æŒï¼Œè¿™ä½¿å¾—åŸºäºSpringä¸”ä½¿ç”¨äº†æ•°æ®åº“è®¿é—®æŠ€æœ¯çš„åº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“æ„å»ºã€‚Spring Data JPA å†…ç½®äº†ç®€å•æ•°æ®åº“è¯»å†™æ“ä½œï¼ŒåŒ…æ‹¬åˆ†é¡µæŸ¥è¯¢ï¼Œå¹¶æä¾›æ¥å£ä»¥å¾…å¢å¼ºã€‚\nSpring Data JPA æ˜¯åŸºäºHibernateï¼ˆåœ¨3.2ç‰ˆæœ¬ä¸­ä¾¿å¯¹JPAæä¾›äº†å®Œå…¨çš„æ”¯æŒï¼‰ã€JPAè§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥—ORMæ¡†æ¶ï¼Œå¯ä»¥è¯´å°±æ˜¯JPAè§„èŒƒçš„ä¸€ä¸ªå®è·µè½åœ°çš„äº§å“ã€‚Spring Data JPAçš„å†…ç½®å®ç°ä¸­æä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ã€åˆ†é¡µã€è‡ªå®šä¹‰SQLçš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æä¾›æ¥å£ä»¥å¾…æ‹“å±•å¢å¼ºã€‚åŸºäºSpring Data JPAå¯ä»¥ç®€æ´çš„ä»£ç ï¼Œå¿«é€Ÿçš„å®ç°å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚\nä½¿ç”¨ç¤ºä¾‹ ç¯å¢ƒè¯´æ˜:\nwindows 10 ä¸“ä¸šç‰ˆ IntelliJ IDEA 2019.3.1 JDK 1.8 maven 3.6.1 Spring Boot 2.2.5.RELEASE å¼•å…¥ä¾èµ– \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-data-jpa\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- æˆ‘è¿™é‡Œä½¿ç”¨mysqlä½œä¸ºæ•°æ®å­˜å‚¨ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; å®šä¹‰ä¸€ä¸ªç®€å•å®ä½“ import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; import javax.persistence.Id; /** * @author zhoujian */ @Entity public class Customer { @Id @GeneratedValue(strategy= GenerationType.AUTO) private Long id; private String firstName; private String lastName; protected Customer() {} public Customer(String firstName, String lastName) { this.firstName = firstName; this.lastName = lastName; } public Long getId() { return id; } public void setId(Long id) { his.id = id; } public String getFirstName() { return firstName; } public String getLastName() { return lastName; } @Override public String toString() { return String.format(\u0026#34;Customer[id=%d, firstName=\u0026#39;%s\u0026#39;, lastName=\u0026#39;%s\u0026#39;]\u0026#34;, id, firstName, lastName); } } åˆ›å»ºæŸ¥è¯¢æ¥å£ import org.springframework.data.repository.CrudRepository; import java.util.List; /** * {@link Customer}å®ä½“çš„ä»“åº“æ¥å£ * @author zhoujian */ public interface CustomerRepository extends CrudRepository\u0026lt;Customer, Long\u0026gt; { /**Â * æ ¹æ®{@link Customer#lastName}æŸ¥è¯¢æ•°æ®Â * @param lastName {@link Customer}çš„å±æ€§Â * @return customer listÂ */ List\u0026lt;Customer\u0026gt; findByLastName(String lastName);} ç®€å•æµ‹è¯• è¿™é‡Œåªæ˜¯æ–¹ä¾¿æµ‹è¯•ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨äº† CommandLineRunner è¿›è¡Œä¸šåŠ¡æµ‹è¯•ï¼Œåœ¨è¿™é‡Œä¹Ÿç›´æ¥ä¸ Repository å±‚è€¦åˆï¼Œä¹Ÿä¸æ˜¯é€šè¿‡å•å…ƒæµ‹è¯•ï¼Œå¹¶ä¸æ¨èè¿™æ ·çš„åšæ³•ã€‚\nimport org.slf4j.Logger;import org.slf4j.LoggerFactory; import org.springframework.boot.CommandLineRunner; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.context.annotation.Bean; /** * @author zhoujian */ @SpringBootApplication public class ForTestOrmApplication { public static void main(String[] args) { SpringApplication.run(ForTestOrmApplication.class, args); } private static final Logger LOG = LoggerFactory.getLogger(ForTestOrmApplication.class); @Bean public CommandLineRunner jpaTestRunner(CustomerRepository customerRepository){ return (args) -\u0026gt; { // æ’å…¥äº”æ¡ customer æ•°æ® customerRepository.save(new Customer(\u0026#34;Jack\u0026#34;, \u0026#34;Liu\u0026#34;)); customerRepository.save(new Customer(\u0026#34;Mary\u0026#34;, \u0026#34;Liu\u0026#34;)); customerRepository.save(new Customer(\u0026#34;Bob\u0026#34;, \u0026#34;Huang\u0026#34;)); customerRepository.save(new Customer(\u0026#34;Jim\u0026#34;, \u0026#34;Chen\u0026#34;)); customerRepository.save(new Customer(\u0026#34;David\u0026#34;, \u0026#34;Gao\u0026#34;)); // è·å–æ‰€æœ‰çš„ customer æ•°æ® LOG.info(\u0026#34;pull all customers with findAll():\u0026#34;); LOG.info(\u0026#34;---------------------------------\u0026#34;); customerRepository.findAll().forEach( customer -\u0026gt; LOG.info(\u0026#34;Customer is : {}\u0026#34;, customer.toString()) ); // è·å–æ‰€æœ‰çš„ customer æ•°æ® LOG.info(\u0026#34;pull all customers with findByLastName():\u0026#34;); LOG.info(\u0026#34;---------------------------------\u0026#34;); customerRepository.findByLastName(\u0026#34;Liu\u0026#34;).forEach( customer -\u0026gt; LOG.info(\u0026#34;Customer is : {}\u0026#34;, customer.toString()) ); }; } } æµ‹è¯•æœŸæœ›å¦‚ä¸‹ï¼š\n2020-04-20 08:50:01.195 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : pull all customers with findAll(): 2020-04-20 08:50:01.195 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : --------------------------------- Hibernate: select customer0_.id as id1_0_, customer0_.first_name as first_na2_0_, customer0_.last_name as last_nam3_0_ from customer customer0_ 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=1, firstName=\u0026#39;Jack\u0026#39;, lastName=\u0026#39;Liu\u0026#39;] 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=2, firstName=\u0026#39;Mary\u0026#39;, lastName=\u0026#39;Liu\u0026#39;] 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=3, firstName=\u0026#39;Bob\u0026#39;, lastName=\u0026#39;Huang\u0026#39;] 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=4, firstName=\u0026#39;Jim\u0026#39;, lastName=\u0026#39;Chen\u0026#39;] 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=5, firstName=\u0026#39;David\u0026#39;, lastName=\u0026#39;Gao\u0026#39;] 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : pull all customers with findByLastName(): 2020-04-20 08:50:01.293 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : --------------------------------- Hibernate: select customer0_.id as id1_0_, customer0_.first_name as first_na2_0_, customer0_.last_name as last_nam3_0_ from customer customer0_ where customer0_.last_name=? 2020-04-20 08:50:01.311 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=1, firstName=\u0026#39;Jack\u0026#39;, lastName=\u0026#39;Liu\u0026#39;] 2020-04-20 08:50:01.312 INFO 12016 --- [ main] c.j.for_test_orm.ForTestOrmApplication : Customer is : Customer[id=2, firstName=\u0026#39;Mary\u0026#39;, lastName=\u0026#39;Liu\u0026#39;] å‚è€ƒ guides/accessing-data-jpa ","permalink":"https://fuyi-atlas.github.io/posts/program/spring-data-jpa/quick-start/","summary":"å‰è¨€ æˆ‘ä¸€ç›´è®¤ä¸º Spring Data JPA æ˜¯ä¸€ä¸ªå¥½ä¸œè¥¿ï¼Œæœ‰ç€è‡ªå·±ç‹¬ç‰¹çš„é»‘é­”æ³•ã€‚ä½†æ˜¯ç”±äºç›®å‰æ¥è§¦ç”šå°‘ï¼Œä¸çŸ¥é“è¯¥å¦‚ä½•å¼€å¯ã€‚æ‰€ä»¥æƒ³é€šè¿‡ä»æ— åˆ°æœ‰çš„è¿‡ç¨‹ï¼Œé€æ¸çš„å»è®¤è¯†å®ƒï¼Œææ¸…æ¥šå®ƒä¸Mybatisçš„å…³ç³»ï¼Œå¦‚æœç«™åœ¨æ¶æ„çš„è§’åº¦çœ‹ä¼šæ€ä¹ˆæ€ä¹ˆæ ·çš„æƒ…å†µã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨æ–‡å­—çš„æ–¹å¼å°†è¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œä¹Ÿç®—æ˜¯ä¸€ç‚¹ç»å†ã€‚\nSpring Data JPA ä»‹ç» From spring.ioï¼šSpring Data JPAæ˜¯Spring Dataç³»åˆ—çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥è½»æ¾å¿«æ·çš„å®ç°æ•°æ®è®¿é—®å±‚çš„å¢å¼ºæ”¯æŒï¼Œè¿™ä½¿å¾—åŸºäºSpringä¸”ä½¿ç”¨äº†æ•°æ®åº“è®¿é—®æŠ€æœ¯çš„åº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“æ„å»ºã€‚Spring Data JPA å†…ç½®äº†ç®€å•æ•°æ®åº“è¯»å†™æ“ä½œï¼ŒåŒ…æ‹¬åˆ†é¡µæŸ¥è¯¢ï¼Œå¹¶æä¾›æ¥å£ä»¥å¾…å¢å¼ºã€‚\nSpring Data JPA æ˜¯åŸºäºHibernateï¼ˆåœ¨3.2ç‰ˆæœ¬ä¸­ä¾¿å¯¹JPAæä¾›äº†å®Œå…¨çš„æ”¯æŒï¼‰ã€JPAè§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥—ORMæ¡†æ¶ï¼Œå¯ä»¥è¯´å°±æ˜¯JPAè§„èŒƒçš„ä¸€ä¸ªå®è·µè½åœ°çš„äº§å“ã€‚Spring Data JPAçš„å†…ç½®å®ç°ä¸­æä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ã€åˆ†é¡µã€è‡ªå®šä¹‰SQLçš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æä¾›æ¥å£ä»¥å¾…æ‹“å±•å¢å¼ºã€‚åŸºäºSpring Data JPAå¯ä»¥ç®€æ´çš„ä»£ç ï¼Œå¿«é€Ÿçš„å®ç°å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚\nä½¿ç”¨ç¤ºä¾‹ ç¯å¢ƒè¯´æ˜:\nwindows 10 ä¸“ä¸šç‰ˆ IntelliJ IDEA 2019.3.1 JDK 1.8 maven 3.6.1 Spring Boot 2.2.5.RELEASE å¼•å…¥ä¾èµ– \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-data-jpa\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- æˆ‘è¿™é‡Œä½¿ç”¨mysqlä½œä¸ºæ•°æ®å­˜å‚¨ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; å®šä¹‰ä¸€ä¸ªç®€å•å®ä½“ import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.GenerationType; import javax.persistence.Id; /** * @author zhoujian */ @Entity public class Customer { @Id @GeneratedValue(strategy= GenerationType.","title":"Spring Data JPA ä½¿ç”¨å…¥é—¨"},{"content":" å‰è¨€ å…¶å®ï¼Œæ‰‹å†™jdbcä¹Ÿæ˜¯è›®å¥½ç©çš„\u0026hellip;\nåœ¨ä¼ä¸šå¼€å‘è¿‡ç¨‹ä¸­ï¼Œé™¤å»ä¸€äº›ç‰¹æ®Šçš„è¦æ±‚å¤–ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šä½¿ç”¨å…¨è‡ªåŠ¨æˆ–åŠè‡ªåŠ¨çš„ORMæ¡†æ¶ä»£æ›¿åŸç”ŸJDBCè¿›è¡Œæ•°æ®åº“çš„è®¿é—®ã€‚è€Œåœ¨å…·ä½“é¡¹ç›®è®¾è®¡æ—¶ï¼Œå¸¸å¸¸ä¼šæ ¹æ®é¡¹ç›®ä¸šåŠ¡æƒ…å†µè¿›è¡ŒæŠ€æœ¯é€‰å‹ã€‚å…¶ä¸­å¸¸ç”¨çš„ORMæ¡†æ¶æœ‰ï¼š\nMybatis Hibernate Spring Data JPA JdbcTemplate åœ¨è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®¨è®ºMybatisä¸Spring Data JPAã€‚\nSpring Data JPA 1ã€JPAæ˜¯ä»€ä¹ˆ ç»´åŸºç™¾ç§‘ï¼šJPAï¼ˆJava Persistence APIï¼ŒJavaæŒä¹…åŒ–APIï¼‰æ˜¯ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºæ¥å£è§„èŒƒï¼Œæè¿°äº†ä½¿ç”¨Javaæ ‡å‡†å¹³å°ï¼ˆJava SEï¼‰å’ŒJavaä¼ä¸šç‰ˆå¹³å°ï¼ˆJava EEï¼‰çš„åº”ç”¨ä¸­çš„å…³ç³»æ•°æ®çš„ç®¡ç†ã€‚\nSpring Data JPA å…¨é¢è§£æï¼šJPA (Java Persistence API)Â æ˜¯ Sun å®˜æ–¹æå‡ºçš„ Java æŒä¹…åŒ–è§„èŒƒã€‚å®ƒä¸º Java å¼€å‘äººå‘˜æä¾›äº†ä¸€ç§å¯¹è±¡/å…³è”æ˜ å°„å·¥å…·æ¥ç®¡ç† Java åº”ç”¨ä¸­çš„å…³ç³»æ•°æ®ã€‚ä»–çš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–ç°æœ‰çš„æŒä¹…åŒ–å¼€å‘å·¥ä½œå’Œæ•´åˆ ORM æŠ€æœ¯ï¼Œç»“æŸç°åœ¨ Hibernateï¼ŒTopLinkï¼ŒJDO ç­‰ ORM æ¡†æ¶å„è‡ªä¸ºè¥çš„å±€é¢ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒJPA æ˜¯åœ¨å……åˆ†å¸æ”¶äº†ç°æœ‰ Hibernateï¼ŒTopLinkï¼ŒJDO ç­‰ORMæ¡†æ¶çš„åŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„ï¼Œå…·æœ‰æ˜“äºä½¿ç”¨ï¼Œä¼¸ç¼©æ€§å¼ºç­‰ä¼˜ç‚¹ã€‚ä»ç›®å‰çš„å¼€å‘ç¤¾åŒºçš„ååº”ä¸Šçœ‹ï¼ŒJPA å—åˆ°äº†æå¤§çš„æ”¯æŒå’Œèµæ‰¬ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº† Spring ä¸ EJB3.0 çš„å¼€å‘å›¢é˜Ÿ\nJPAæ‰€ç»´æŠ¤çš„æ ¸å¿ƒæ˜¯å®ä½“ï¼ˆEntity Beanï¼‰ï¼Œè€Œå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªæŒä¹…åŒ–ä¸Šä¸‹æ–‡ï¼ˆPersistence Contextï¼‰æ¥ä½¿ç”¨çš„ã€‚æŒä¹…åŒ–ä¸Šä¸‹æ–‡åŒ…å«äº†ä»¥å‰3ä¸ªéƒ¨åˆ†ï¼š\nå¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼Œç®€ç§°ORMï¼‰æè¿°ï¼ŒJPAæ”¯æŒæ³¨è§£æˆ–XMLä¸¤ç§å½¢å¼çš„æè¿°ã€‚ å®ä½“æ“ä½œAPIï¼Œå†…ç½®é€šç”¨CRUDæ“ä½œï¼Œæ¥å®Œæˆå¯¹è±¡çš„æŒä¹…åŒ–ä¸æŸ¥è¯¢ã€‚ æŸ¥è¯¢è¯­è¨€ï¼Œçº¦å®šäº†é¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­å¥JPQLã€‚ ç®€å•æ¥è¯´ï¼ŒJPAå°±æ˜¯ä¸€ç§æ¥å£è§„èŒƒï¼Œä¸€ç§å®šä¹‰äº†å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰ä»¥åŠå®ä½“å¯¹è±¡çš„æŒä¹…åŒ–æ¥å£æ ‡å‡†çš„è§„èŒƒï¼Œå¹¶ä¸æ˜¯ä¸€å¥—ç›´æ¥å¯ç”¨çš„äº§å“ï¼ˆå¦‚ï¼šHibernateï¼‰ã€‚\n2ã€ä»€ä¹ˆæ˜¯Spring Data JPA spring-data-jpaï¼šSpring Data JPAæ˜¯Spring Dataç³»åˆ—çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥è½»æ¾å¿«æ·çš„å®ç°æ•°æ®è®¿é—®å±‚çš„å¢å¼ºæ”¯æŒï¼Œè¿™ä½¿å¾—åŸºäºSpringä¸”ä½¿ç”¨äº†æ•°æ®åº“è®¿é—®æŠ€æœ¯çš„åº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“æ„å»ºã€‚ Spring Data JPA å†…ç½®äº†ç®€å•æ•°æ®åº“è¯»å†™æ“ä½œï¼ŒåŒ…æ‹¬åˆ†é¡µæŸ¥è¯¢ï¼Œå¹¶æä¾›æ¥å£ä»¥å¾…å¢å¼ºã€‚\nSpring Data JPA æ˜¯åŸºäºHibernateï¼ˆåœ¨3.2ç‰ˆæœ¬ä¸­ä¾¿å¯¹JPAæä¾›äº†å®Œå…¨çš„æ”¯æŒï¼‰ã€JPAè§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥—ORMæ¡†æ¶ï¼Œå¯ä»¥è¯´å°±æ˜¯JPAè§„èŒƒçš„ä¸€ä¸ªå®è·µè½åœ°çš„äº§å“ã€‚Spring Data JPAçš„å†…ç½®å®ç°ä¸­æä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ã€åˆ†é¡µã€è‡ªå®šä¹‰SQLçš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æä¾›æ¥å£ä»¥å¾…æ‹“å±•å¢å¼ºã€‚åŸºäºSpring Data JPAå¯ä»¥ç®€æ´çš„ä»£ç ï¼Œå¿«é€Ÿçš„å®ç°å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚\nMybatis 1ã€Mybatisæ˜¯ä»€ä¹ˆ Mybatisï¼šMybatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œä»–æ”¯æŒè‡ªå®šä¹‰SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚Mybatiså…é™¤äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚Mybatiså¯ä»¥é€šè¿‡ç®€å•çš„XMLæˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’ŒJava POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼Javaå¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚\nMybatisçš„å…³æ³¨ç‚¹åœ¨äºï¼š\nSQLä¸POJOçš„æ˜ å°„ï¼Œæˆ–è€…è¯´æŸ¥è¯¢ç»“æœé›†ä¸POJOçš„æ˜ å°„ æ•°æ®çš„é«˜æ•ˆå­˜å‚¨äºè¯»å†™ å¯å®šåˆ¶åŒ–SQLï¼Œæ”¯æŒåŸç”ŸSQL è™½ç„¶ä¸€ç›´éƒ½åœ¨ä½¿ç”¨Mybatisä½œä¸ºé¡¹ç›®ä¸­çš„ormæ¡†æ¶ï¼Œä½†æ˜¯å§‹ç»ˆæ²¡æœ‰æ·±å…¥çš„å»äº†è§£ã€‚Mybatiså°±æ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªåŠè‡ªåŠ¨çš„ORMæ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªé¢å‘æŸ¥è¯¢ç»“æœé›†çš„ORMæ¡†æ¶ï¼Œä¸€ä¸ªå…³æ³¨å®ä½“ä¸æŸ¥è¯¢ç»“æœé›†ä¹‹é—´çš„æ˜ å°„å…³ç³»çš„ORMæ¡†æ¶ï¼Œä¸”æ”¯æŒè‡ªå®šä¹‰SQLã€å­˜å‚¨è¿‡ç¨‹ã€é«˜çº§æ˜ å°„ã€‚åœ¨æ­¤åŸºç¡€ä¸Šå­˜åœ¨äºŒæ¬¡å¼€å‘çš„å¼€æºäº§å“ï¼šMybatis-Plusï¼Œå…¶åœ¨Mybatisçš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¢å¼ºã€‚\nå¯¹æ¯”åˆ†æ 1ã€åŠŸèƒ½æ€§å¯¹æ¯” åºå· åŠŸèƒ½é¡¹ Spring Data JPA Mybatis 1 å¯åŠ¨é…ç½® æ•°æ®åº“è¿æ¥+JPAç›¸å…³é…ç½® æ•°æ®åº“è¿æ¥+Mybatisç›¸å…³é…ç½® 2 æ˜ å°„å…³ç³» æ³¨è§£æ–¹å¼å®ç°POJOä¸æ•°æ®è¡¨ä¹‹é—´çš„æ˜ å°„ XMLé…ç½®ç»“åˆè‡ªåŠ¨æ˜ å°„ï¼ˆæˆ–é©¼å³°æ˜ å°„ï¼‰ï¼Œå®ç°POJOä¸SQLä¹‹é—´çš„æ˜ å°„ 3 ç±»å‹è½¬æ¢ Convertï¼Œå¤šç”¨äºå¦‚æšä¸¾å€¼çš„å­˜å– TypeHandleï¼Œå¤šç”¨äºæšä¸¾ç±»å‹æ•°æ®å­˜å‚¨ 4 è¯»å†™æ¥å£ å†…ç½®æä¾›CRUDã€åˆ†é¡µã€æ’åºã€ Exampleç­‰åŸºç¡€æ¥å£ï¼Œå¯è‡ªæˆ‘æ‹“å±• é»˜è®¤ä¸æä¾›å®ç°ï¼Œç”±ä½¿ç”¨è€…å®ç°ï¼Œä½†æ˜¯Mybatis-Plusæä¾›é€šç”¨mapperã€åˆ†é¡µ 5 æŸ¥è¯¢è¯­è¨€ æä¾›çº¦å®šçš„æŸ¥è¯¢è¯­è¨€JPQLï¼ŒåŒæ—¶æ”¯æŒåŸç”ŸSQL æ”¯æŒåŸç”ŸSQLï¼Œæ”¯æŒåŠ¨æ€SQL 6 å…¶ä»– 1ã€æ”¯æŒå¯¹è±¡æ¨¡å‹æ­£å‘åˆ›å»ºæ•°æ®åº“æ¨¡å‹ï¼›2ã€æä¾›ç¼“å­˜æœºåˆ¶ï¼›3ã€æä¾›ä¹è§‚é”æŒ‡å®š 1ã€æä¾›Interceptorï¼Œå¯ä»¥æ‹¦æˆªSQLè¿›è¡Œä¸€å®šçš„å¤„ç†ï¼›2ã€Mybatis-Plusæä¾›ä»£ç ç”Ÿæˆå™¨ã€æ”¯æŒæ•°æ®åº“æ¨¡å‹é€†å‘ç”Ÿæˆå¯¹è±¡æ¨¡å‹ 2ã€ç†è®ºåˆ†æ Spring Data JPAä¸Mybatisçš„è®¾è®¡åŸç†ä¸ä¸€æ ·ï¼Œå‰ç½®æ ¹æ®é¢†åŸŸè®¾è®¡è¿›è¡Œå»ºæ¨¡ï¼Œæå€¡é¢å‘å¯¹è±¡æ€æƒ³ï¼Œä½†æ˜¯ä¸ºäº†æä¾›å…¼å®¹æ€§ï¼Œæä¾›è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•ï¼Œå¯æ¥å…¥å…¶ä»–ORMæ¡†æ¶ï¼›åè€…æ ¹æ®æ•°æ®è®¾è®¡è¿›è¡Œå»ºæ¨¡ï¼Œå¤šæ•°å®ç°ä¸ºè´«è¡€æ¨¡å‹ã€‚ Spring Data JPAï¼šå…ˆæœ‰å¯¹è±¡å…³ç³»ï¼Œåæœ‰æ•°æ®è¡¨å…³ç³»ï¼›Mybatisï¼šå…ˆæœ‰æ•°æ®è¡¨å…³ç³»ï¼Œåæœ‰å¯¹è±¡å…³ç³»ã€‚ Spring Data JPAï¼ˆé¢å‘å¯¹è±¡è®¾è®¡ï¼‰ï¼šå¼ºè°ƒå¯¹è±¡ï¼Œä»¥åŠå¯¹è±¡çš„ç‰¹æ€§ï¼ˆå¦‚ï¼šå°è£…ï¼‰ï¼Œè€ƒè™‘çš„æ˜¯å¯¹è±¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆåŒ…æ‹¬å¯¹è±¡çš„åˆ›å»ºã€æŒä¹…åŒ–ã€çŠ¶æ€çš„å˜æ›´å’Œè¡Œä¸ºç­‰ï¼‰ï¼Œå¯¹è±¡çš„æŒä¹…åŒ–åªæ˜¯å¯¹è±¡çš„ä¸€ç§çŠ¶æ€ï¼Œæ‰€æœ‰æ“ä½œçš†ç”±å¯¹è±¡æ¥å®Œæˆï¼Œæ˜¯å¯¹è±¡çš„è¡Œä¸ºå¼•å‘çŠ¶æ€çš„æ”¹å˜ï¼Œä»è€Œå¼•èµ·æŒä¹…åŒ–çŠ¶æ€æ•°æ®çš„å˜åŒ–ï¼›Mybatisï¼ˆé¢å‘å…³ç³»è®¾è®¡ï¼‰ï¼šå¼ºè°ƒæ•°æ®çš„é«˜æ•ˆå­˜å–ï¼Œå¼€æ”¾æ•°æ®è¡¨çš„æ“ä½œï¼Œå¹¶ä¸å—å®ä½“çš„é™åˆ¶ï¼Œå¯ä»¥éšæ„è¿›è¡Œè¡¨çš„å…³è”ï¼ŒæŒä¹…åŒ–çš„æ•°æ®ç±»ä¼¼äºæŸä¸ªäº‹ç‰©çš„å¿«ç…§ï¼Œäº‹ç‰©çŠ¶æ€çš„å˜åŒ–åå¼•å‘å¯¹äºå¿«ç…§çš„ä¿®æ”¹ï¼Œæœ‰ç‚¹ç›´æ¥é¢å‘æ•°æ®åº“å¼€å‘çš„æ„Ÿè§‰ã€‚ Spring Data JPAï¼šSQLä¸ºåŠ¨æ€åˆ›å»ºï¼Œåˆ›å»ºåå­˜åœ¨SQLç¼“å­˜ï¼›Mybatisï¼šSQLä¸ºé™æ€æ–‡ä»¶ã€‚ é¢å‘å¯¹è±¡è®¾è®¡è¯•å›¾ä¸ºåŠ¨æ€çš„ä¸–ç•Œå»ºæ¨¡ï¼Œå®ƒè¦æè¿°çš„æ˜¯ä¸–ç•Œçš„è¿‡ç¨‹å’Œè§„å¾‹ï¼Œè¿›è€Œé€‚åº”å‘å±•å’Œå˜åŒ–ï¼Œé¢å‘å¯¹è±¡æ€»æ˜¯åœ¨å˜åŒ–ä¸­å¤„ç†å„ç§å„æ ·çš„å˜åŒ–ï¼›å…³ç³»å‹æ¨¡å‹æ˜¯ä¸ºé™æ€ä¸–ç•Œå»ºæ¨¡ï¼Œå®ƒé€šè¿‡æ•°æ®å¿«ç…§è®°å½•äº†ä¸–ç•Œåœ¨æŸä¸€æ—¶åˆ»çš„çŠ¶æ€ï¼Œå®ƒæ˜¯é™æ­¢çš„ã€‚ ç»¼åˆåˆ†æä¸»è¦å†…å®¹æ¥è‡ªSpring Data JPAä¸Mybatisç®€å•å¯¹æ¯”\n3ã€æ€§èƒ½åˆ†æ å¾…æµ‹è¯•\n4ã€ç»¼åˆåˆ†æ å¾…æ›´æ–°\nå‚è€ƒé“¾æ¥ï¼š\nSpring Data JPAä¸Mybatisç®€å•å¯¹æ¯” æŠ€æœ¯ä¸“é¢˜è®¨è®ºç¬¬äºŒæœŸæ€»ç»“ï¼šå¦‚ä½•å¯¹ JPA æˆ–è€… MyBatis è¿›è¡ŒæŠ€æœ¯é€‰å‹ ","permalink":"https://fuyi-atlas.github.io/posts/program/spring-data-jpa/spring-data-jpa-vs-mybatis/","summary":"å‰è¨€ å…¶å®ï¼Œæ‰‹å†™jdbcä¹Ÿæ˜¯è›®å¥½ç©çš„\u0026hellip;\nåœ¨ä¼ä¸šå¼€å‘è¿‡ç¨‹ä¸­ï¼Œé™¤å»ä¸€äº›ç‰¹æ®Šçš„è¦æ±‚å¤–ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šä½¿ç”¨å…¨è‡ªåŠ¨æˆ–åŠè‡ªåŠ¨çš„ORMæ¡†æ¶ä»£æ›¿åŸç”ŸJDBCè¿›è¡Œæ•°æ®åº“çš„è®¿é—®ã€‚è€Œåœ¨å…·ä½“é¡¹ç›®è®¾è®¡æ—¶ï¼Œå¸¸å¸¸ä¼šæ ¹æ®é¡¹ç›®ä¸šåŠ¡æƒ…å†µè¿›è¡ŒæŠ€æœ¯é€‰å‹ã€‚å…¶ä¸­å¸¸ç”¨çš„ORMæ¡†æ¶æœ‰ï¼š\nMybatis Hibernate Spring Data JPA JdbcTemplate åœ¨è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®¨è®ºMybatisä¸Spring Data JPAã€‚\nSpring Data JPA 1ã€JPAæ˜¯ä»€ä¹ˆ ç»´åŸºç™¾ç§‘ï¼šJPAï¼ˆJava Persistence APIï¼ŒJavaæŒä¹…åŒ–APIï¼‰æ˜¯ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºæ¥å£è§„èŒƒï¼Œæè¿°äº†ä½¿ç”¨Javaæ ‡å‡†å¹³å°ï¼ˆJava SEï¼‰å’ŒJavaä¼ä¸šç‰ˆå¹³å°ï¼ˆJava EEï¼‰çš„åº”ç”¨ä¸­çš„å…³ç³»æ•°æ®çš„ç®¡ç†ã€‚\nSpring Data JPA å…¨é¢è§£æï¼šJPA (Java Persistence API)Â æ˜¯ Sun å®˜æ–¹æå‡ºçš„ Java æŒä¹…åŒ–è§„èŒƒã€‚å®ƒä¸º Java å¼€å‘äººå‘˜æä¾›äº†ä¸€ç§å¯¹è±¡/å…³è”æ˜ å°„å·¥å…·æ¥ç®¡ç† Java åº”ç”¨ä¸­çš„å…³ç³»æ•°æ®ã€‚ä»–çš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–ç°æœ‰çš„æŒä¹…åŒ–å¼€å‘å·¥ä½œå’Œæ•´åˆ ORM æŠ€æœ¯ï¼Œç»“æŸç°åœ¨ Hibernateï¼ŒTopLinkï¼ŒJDO ç­‰ ORM æ¡†æ¶å„è‡ªä¸ºè¥çš„å±€é¢ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒJPA æ˜¯åœ¨å……åˆ†å¸æ”¶äº†ç°æœ‰ Hibernateï¼ŒTopLinkï¼ŒJDO ç­‰ORMæ¡†æ¶çš„åŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„ï¼Œå…·æœ‰æ˜“äºä½¿ç”¨ï¼Œä¼¸ç¼©æ€§å¼ºç­‰ä¼˜ç‚¹ã€‚ä»ç›®å‰çš„å¼€å‘ç¤¾åŒºçš„ååº”ä¸Šçœ‹ï¼ŒJPA å—åˆ°äº†æå¤§çš„æ”¯æŒå’Œèµæ‰¬ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº† Spring ä¸ EJB3.0 çš„å¼€å‘å›¢é˜Ÿ\nJPAæ‰€ç»´æŠ¤çš„æ ¸å¿ƒæ˜¯å®ä½“ï¼ˆEntity Beanï¼‰ï¼Œè€Œå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªæŒä¹…åŒ–ä¸Šä¸‹æ–‡ï¼ˆPersistence Contextï¼‰æ¥ä½¿ç”¨çš„ã€‚æŒä¹…åŒ–ä¸Šä¸‹æ–‡åŒ…å«äº†ä»¥å‰3ä¸ªéƒ¨åˆ†ï¼š\nå¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼Œç®€ç§°ORMï¼‰æè¿°ï¼ŒJPAæ”¯æŒæ³¨è§£æˆ–XMLä¸¤ç§å½¢å¼çš„æè¿°ã€‚ å®ä½“æ“ä½œAPIï¼Œå†…ç½®é€šç”¨CRUDæ“ä½œï¼Œæ¥å®Œæˆå¯¹è±¡çš„æŒä¹…åŒ–ä¸æŸ¥è¯¢ã€‚ æŸ¥è¯¢è¯­è¨€ï¼Œçº¦å®šäº†é¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­å¥JPQLã€‚ ç®€å•æ¥è¯´ï¼ŒJPAå°±æ˜¯ä¸€ç§æ¥å£è§„èŒƒï¼Œä¸€ç§å®šä¹‰äº†å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰ä»¥åŠå®ä½“å¯¹è±¡çš„æŒä¹…åŒ–æ¥å£æ ‡å‡†çš„è§„èŒƒï¼Œå¹¶ä¸æ˜¯ä¸€å¥—ç›´æ¥å¯ç”¨çš„äº§å“ï¼ˆå¦‚ï¼šHibernateï¼‰ã€‚\n2ã€ä»€ä¹ˆæ˜¯Spring Data JPA spring-data-jpaï¼šSpring Data JPAæ˜¯Spring Dataç³»åˆ—çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥è½»æ¾å¿«æ·çš„å®ç°æ•°æ®è®¿é—®å±‚çš„å¢å¼ºæ”¯æŒï¼Œè¿™ä½¿å¾—åŸºäºSpringä¸”ä½¿ç”¨äº†æ•°æ®åº“è®¿é—®æŠ€æœ¯çš„åº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“æ„å»ºã€‚ Spring Data JPA å†…ç½®äº†ç®€å•æ•°æ®åº“è¯»å†™æ“ä½œï¼ŒåŒ…æ‹¬åˆ†é¡µæŸ¥è¯¢ï¼Œå¹¶æä¾›æ¥å£ä»¥å¾…å¢å¼ºã€‚","title":"Spring Data JPA ä¸ Mybatis å¯¹æ¯”åˆ†æ"},{"content":"ä¼Šå§‹ï¼Œè§è‡ªå·± å†™åœ¨å‰é¢ ä»Šå¤©æ˜¯2020å¹´7æœˆ13æ—¥ï¼Œä»æ¯•ä¸šç°åœ¨ï¼Œå·²ç»æ•´æ•´ä¸¤å¹´ã€‚ä¸€ç›´ç”Ÿæ´»åœ¨ç„¦è™‘ä¹‹ä¸­ï¼Œæµ®èºä¹‹ä¸­ï¼Œä»€ä¹ˆéƒ½æƒ³è¦ï¼Œå´ä¸çŸ¥é“è‡ªå·±å¹¶æ²¡æœ‰è·å–çš„èƒ½åŠ›ã€‚æ·±çŸ¥é™å¿ƒæ˜¯å…³é”®ï¼Œä½†æ˜¯å§‹ç»ˆæ— æ³•åšåˆ°ï¼Œåƒåªå†™ä»£ç çš„æ¾é¼ ä¸€æ ·ï¼Œå±¯äº†å¾ˆå¤šçš„æŠ€æœ¯ä¹¦ç±ï¼ŒæŠ€æœ¯è¯¾ç¨‹ï¼Œå´ä¹Ÿåªæ˜¯æ”¾ç€ã€‚æˆ–è®¸æ¯ä¸ªäººéƒ½ä¼šå­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªé˜¶æ®µï¼Œæˆ–è®¸åªæ˜¯æˆ‘è‡ªå·±å†…å¿ƒè¿‡äºè„†å¼±ï¼Œè¿™äº›äºæˆ‘å·²ç»è¿‡å»äº†ï¼Œåªè¦ä½ çŸ¥é“ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆã€‚\nä¸€çŸ¥åŠè§£ ä¸€çŸ¥åŠè§£æ˜¯ä¸€ä»¶å¾ˆå±é™©çš„äº‹æƒ…ï¼Œå›é¡¾å·¥ä½œçš„ä¸¤å¹´æ—¶é—´ï¼Œè™½ç„¶å·²ç»æˆé•¿äº†å¾ˆå¤šï¼Œä½†æˆ‘ä»ç„¶å¸Œæœ›æˆ‘çš„ä¸¤å¹´å·¥ä½œç»éªŒå°±æ˜¯ä¸æŠ˜ä¸æ‰£çš„ä¸¤å¹´å·¥ä½œç»éªŒã€‚ç°å®æƒ…å†µä¸‹ï¼Œå·¥ä½œå†…å®¹å¤šæ˜¯é¢å‘æœç´¢å¼•æ“ï¼Œå¦‚æœæœ‰ä¸€å¤©æ²¡äº†ç½‘ï¼Œæˆ‘å¯èƒ½ä»€ä¹ˆä¹Ÿä¸ä¼šåšã€‚å¾ˆå¤šä¸œè¥¿éƒ½è¿˜æ˜¯åœ¨çŸ¥å…¶ç„¶å¹¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶çš„çŠ¶æ€ï¼Œå¯¹äºè®¡ç®—æœºã€ç½‘ç»œã€ç¼–ç¨‹è¯­è¨€åŸºç¡€çš„æŒæ¡æ›´æ˜¯ä¸€å¡Œç³Šæ¶‚ã€‚è¿™å¹¶ä¸æ˜¯å¦„è‡ªè²è–„ï¼Œåªæ˜¯å¯¹è‡ªå·±çš„æ·±å…¥å‰–æã€‚\næ±‚æ³• æˆ‘è®¤ä¸ºï¼Œä¸ç®¡ä½ åšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½éœ€è¦å…ˆè®¤è¯†è‡ªå·±ï¼Œæ˜ç¡®è‡ªå·±çš„å®šä½ï¼Œæ‰èƒ½æ›´å¥½çš„å¼€å§‹ã€‚æˆ‘æ˜¯ä¸€ä¸ªæ™®é€šäººï¼Œä¸€ä¸ªå¾ˆæ™®é€šå¾ˆæ™®é€šçš„äººï¼Œæˆ‘æ²¡æœ‰æƒ³ç€æˆ‘èƒ½åšå‡ºå¤šå¤§çš„åŠ¨é™å‡ºæ¥ï¼Œæˆ‘åªæƒ³åšå¥½æˆ‘æƒ³åšçš„äº‹æƒ…ï¼Œä¸å†æ˜¯è™å¤´è›‡å°¾ã€‚\nåšæŒå¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯æœ‰ç‚¹å›°éš¾çš„ï¼Œæˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ˜¯åœ¨2018å¹´4æœˆ1æ—¥ï¼ˆè¿™æ—¶é—´ä¸æ˜¯æ¥æç¬‘çš„å•Šï¼‰ï¼Œæœ€è¿‘çš„ä¸€ç¯‡åšå®¢å‘è¡¨å´æ˜¯åœ¨2019å¹´7æœˆ4æ—¥ï¼ˆè¿™æ˜¯ä¸€ç¯‡æ°´æ–‡ï¼‰ï¼Œä¸­é—´æ•´æ•´ä¸€å¹´æ²¡æœ‰è¿›è¡Œä»»ä½•çš„åŠ¨ä½œï¼Œå…¶å®æƒ³å†™çš„ä¸œè¥¿å¾ˆå¤šï¼Œæ‹–ç€æ‹–ç€å°±æˆè¿™æ ·äº†ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨å’ŒåŸŸåéƒ½æ˜¯å»å¹´å¹´æœ«å°±å·²ç»å¼„å¥½äº†ã€‚ä¸‡æ¶çš„æ‹–å»¶ç—‡ï¼Œä¸‡æ¶çš„æ‡’æƒ°ï¼Œä¸‡æ¶çš„è‡ªå·±ã€‚\nå†™åˆ°è¿™é‡Œï¼Œçªç„¶æœ‰ç‚¹é„™è§†è‡ªå·±ï¼Œè¿™ä¹ˆèœäº†è¿˜è¿™ä¹ˆæ‡’ã€‚ä½†æˆ‘ç›¸ä¿¡æˆ‘è¿˜æ˜¯å¯ä»¥æ”¹å˜äº†ï¼Œå°±ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘å°†é€šè¿‡åšå®¢è®°å½•è‡ªå·±çš„ç”Ÿæ´»ã€å­¦ä¹ ã€å·¥ä½œä»¥åŠå…¶ä»–æ‚è°ˆå†…å®¹ï¼ˆè¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿åªæ˜¯æƒ³å‘Šè¯‰æˆ‘è‡ªå·±æˆ‘éƒ½åšäº†äº›ä»€ä¹ˆï¼Œç»å†äº†ä»€ä¹ˆï¼‰ï¼Œä¹Ÿå¸Œæœ›é€šè¿‡è¿™æ ·çš„æ–¹å¼å¯ä»¥æ›´å¥½çš„æé«˜è‡ªå·±ã€‚\nå­¦ä¹ æ˜¯ä¸€ä»¶é€†äººæ€§çš„äº‹æƒ…ï¼Œé•¿æ—¶é—´çš„å­¦ä¹ æ›´æ˜¯ï¼Œä½†æ˜¯åªæœ‰ä¿æŒé•¿æ—¶é—´çš„å­¦ä¹ æ‰èƒ½ä¸æ–­çš„è¿›è¡Œè‡ªå·±å‡å€¼ã€‚å¦‚ä½•æ›´æœ‰æ•ˆçš„å­¦ä¹ æ˜¯ä¸€ä»¶å€¼å¾—ä¸æ–­ä¼˜åŒ–çš„äº‹æƒ…ï¼Œå…‰å‡­å€Ÿè®°å¿†è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œåªæœ‰æ·±å…¥ç†è§£ï¼Œå¹¶æœ‰ç€è‡ªå·±çš„è§è§£ï¼Œè¿˜èƒ½å¤Ÿå‹å¥½çš„é˜è¿°æ‰ç®—æ˜¯è‰¯å¥½ã€‚çº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼Œä¸ç®¡å›°éš¾è¿˜æ˜¯ç®€å•ï¼Œä¸€å®šåŠ¨æ‰‹å°è¯•å¹¶ç†è§£ã€‚\nã€Šæ˜“ç»ã€‹æœ‰äº‘ï¼šå–æ³•å…¶ä¸Šï¼Œå¾—ä¹æ³•ä¸­ï¼›å–æ³•å…¶ä¸­ï¼Œå¾—ä¹æ³•ä¸‹ï¼›å–æ³•å…¶ä¸‹ï¼Œæ³•ä¸å¾—ä¹Ÿã€‚ç›®æ ‡å¾ˆé‡è¦ï¼Œæ–¹æ³•å¾ˆé‡è¦ï¼ŒåšæŒå¾ˆé‡è¦ï¼Œåé¦ˆå¾ˆé‡è¦ï¼\n","permalink":"https://fuyi-atlas.github.io/posts/other/perception-001/","summary":"ä¼Šå§‹ï¼Œè§è‡ªå·± å†™åœ¨å‰é¢ ä»Šå¤©æ˜¯2020å¹´7æœˆ13æ—¥ï¼Œä»æ¯•ä¸šç°åœ¨ï¼Œå·²ç»æ•´æ•´ä¸¤å¹´ã€‚ä¸€ç›´ç”Ÿæ´»åœ¨ç„¦è™‘ä¹‹ä¸­ï¼Œæµ®èºä¹‹ä¸­ï¼Œä»€ä¹ˆéƒ½æƒ³è¦ï¼Œå´ä¸çŸ¥é“è‡ªå·±å¹¶æ²¡æœ‰è·å–çš„èƒ½åŠ›ã€‚æ·±çŸ¥é™å¿ƒæ˜¯å…³é”®ï¼Œä½†æ˜¯å§‹ç»ˆæ— æ³•åšåˆ°ï¼Œåƒåªå†™ä»£ç çš„æ¾é¼ ä¸€æ ·ï¼Œå±¯äº†å¾ˆå¤šçš„æŠ€æœ¯ä¹¦ç±ï¼ŒæŠ€æœ¯è¯¾ç¨‹ï¼Œå´ä¹Ÿåªæ˜¯æ”¾ç€ã€‚æˆ–è®¸æ¯ä¸ªäººéƒ½ä¼šå­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªé˜¶æ®µï¼Œæˆ–è®¸åªæ˜¯æˆ‘è‡ªå·±å†…å¿ƒè¿‡äºè„†å¼±ï¼Œè¿™äº›äºæˆ‘å·²ç»è¿‡å»äº†ï¼Œåªè¦ä½ çŸ¥é“ä½ æƒ³è¦çš„æ˜¯ä»€ä¹ˆã€‚\nä¸€çŸ¥åŠè§£ ä¸€çŸ¥åŠè§£æ˜¯ä¸€ä»¶å¾ˆå±é™©çš„äº‹æƒ…ï¼Œå›é¡¾å·¥ä½œçš„ä¸¤å¹´æ—¶é—´ï¼Œè™½ç„¶å·²ç»æˆé•¿äº†å¾ˆå¤šï¼Œä½†æˆ‘ä»ç„¶å¸Œæœ›æˆ‘çš„ä¸¤å¹´å·¥ä½œç»éªŒå°±æ˜¯ä¸æŠ˜ä¸æ‰£çš„ä¸¤å¹´å·¥ä½œç»éªŒã€‚ç°å®æƒ…å†µä¸‹ï¼Œå·¥ä½œå†…å®¹å¤šæ˜¯é¢å‘æœç´¢å¼•æ“ï¼Œå¦‚æœæœ‰ä¸€å¤©æ²¡äº†ç½‘ï¼Œæˆ‘å¯èƒ½ä»€ä¹ˆä¹Ÿä¸ä¼šåšã€‚å¾ˆå¤šä¸œè¥¿éƒ½è¿˜æ˜¯åœ¨çŸ¥å…¶ç„¶å¹¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶çš„çŠ¶æ€ï¼Œå¯¹äºè®¡ç®—æœºã€ç½‘ç»œã€ç¼–ç¨‹è¯­è¨€åŸºç¡€çš„æŒæ¡æ›´æ˜¯ä¸€å¡Œç³Šæ¶‚ã€‚è¿™å¹¶ä¸æ˜¯å¦„è‡ªè²è–„ï¼Œåªæ˜¯å¯¹è‡ªå·±çš„æ·±å…¥å‰–æã€‚\næ±‚æ³• æˆ‘è®¤ä¸ºï¼Œä¸ç®¡ä½ åšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½éœ€è¦å…ˆè®¤è¯†è‡ªå·±ï¼Œæ˜ç¡®è‡ªå·±çš„å®šä½ï¼Œæ‰èƒ½æ›´å¥½çš„å¼€å§‹ã€‚æˆ‘æ˜¯ä¸€ä¸ªæ™®é€šäººï¼Œä¸€ä¸ªå¾ˆæ™®é€šå¾ˆæ™®é€šçš„äººï¼Œæˆ‘æ²¡æœ‰æƒ³ç€æˆ‘èƒ½åšå‡ºå¤šå¤§çš„åŠ¨é™å‡ºæ¥ï¼Œæˆ‘åªæƒ³åšå¥½æˆ‘æƒ³åšçš„äº‹æƒ…ï¼Œä¸å†æ˜¯è™å¤´è›‡å°¾ã€‚\nåšæŒå¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯æœ‰ç‚¹å›°éš¾çš„ï¼Œæˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ˜¯åœ¨2018å¹´4æœˆ1æ—¥ï¼ˆè¿™æ—¶é—´ä¸æ˜¯æ¥æç¬‘çš„å•Šï¼‰ï¼Œæœ€è¿‘çš„ä¸€ç¯‡åšå®¢å‘è¡¨å´æ˜¯åœ¨2019å¹´7æœˆ4æ—¥ï¼ˆè¿™æ˜¯ä¸€ç¯‡æ°´æ–‡ï¼‰ï¼Œä¸­é—´æ•´æ•´ä¸€å¹´æ²¡æœ‰è¿›è¡Œä»»ä½•çš„åŠ¨ä½œï¼Œå…¶å®æƒ³å†™çš„ä¸œè¥¿å¾ˆå¤šï¼Œæ‹–ç€æ‹–ç€å°±æˆè¿™æ ·äº†ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨å’ŒåŸŸåéƒ½æ˜¯å»å¹´å¹´æœ«å°±å·²ç»å¼„å¥½äº†ã€‚ä¸‡æ¶çš„æ‹–å»¶ç—‡ï¼Œä¸‡æ¶çš„æ‡’æƒ°ï¼Œä¸‡æ¶çš„è‡ªå·±ã€‚\nå†™åˆ°è¿™é‡Œï¼Œçªç„¶æœ‰ç‚¹é„™è§†è‡ªå·±ï¼Œè¿™ä¹ˆèœäº†è¿˜è¿™ä¹ˆæ‡’ã€‚ä½†æˆ‘ç›¸ä¿¡æˆ‘è¿˜æ˜¯å¯ä»¥æ”¹å˜äº†ï¼Œå°±ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘å°†é€šè¿‡åšå®¢è®°å½•è‡ªå·±çš„ç”Ÿæ´»ã€å­¦ä¹ ã€å·¥ä½œä»¥åŠå…¶ä»–æ‚è°ˆå†…å®¹ï¼ˆè¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿åªæ˜¯æƒ³å‘Šè¯‰æˆ‘è‡ªå·±æˆ‘éƒ½åšäº†äº›ä»€ä¹ˆï¼Œç»å†äº†ä»€ä¹ˆï¼‰ï¼Œä¹Ÿå¸Œæœ›é€šè¿‡è¿™æ ·çš„æ–¹å¼å¯ä»¥æ›´å¥½çš„æé«˜è‡ªå·±ã€‚\nå­¦ä¹ æ˜¯ä¸€ä»¶é€†äººæ€§çš„äº‹æƒ…ï¼Œé•¿æ—¶é—´çš„å­¦ä¹ æ›´æ˜¯ï¼Œä½†æ˜¯åªæœ‰ä¿æŒé•¿æ—¶é—´çš„å­¦ä¹ æ‰èƒ½ä¸æ–­çš„è¿›è¡Œè‡ªå·±å‡å€¼ã€‚å¦‚ä½•æ›´æœ‰æ•ˆçš„å­¦ä¹ æ˜¯ä¸€ä»¶å€¼å¾—ä¸æ–­ä¼˜åŒ–çš„äº‹æƒ…ï¼Œå…‰å‡­å€Ÿè®°å¿†è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œåªæœ‰æ·±å…¥ç†è§£ï¼Œå¹¶æœ‰ç€è‡ªå·±çš„è§è§£ï¼Œè¿˜èƒ½å¤Ÿå‹å¥½çš„é˜è¿°æ‰ç®—æ˜¯è‰¯å¥½ã€‚çº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼Œä¸ç®¡å›°éš¾è¿˜æ˜¯ç®€å•ï¼Œä¸€å®šåŠ¨æ‰‹å°è¯•å¹¶ç†è§£ã€‚\nã€Šæ˜“ç»ã€‹æœ‰äº‘ï¼šå–æ³•å…¶ä¸Šï¼Œå¾—ä¹æ³•ä¸­ï¼›å–æ³•å…¶ä¸­ï¼Œå¾—ä¹æ³•ä¸‹ï¼›å–æ³•å…¶ä¸‹ï¼Œæ³•ä¸å¾—ä¹Ÿã€‚ç›®æ ‡å¾ˆé‡è¦ï¼Œæ–¹æ³•å¾ˆé‡è¦ï¼ŒåšæŒå¾ˆé‡è¦ï¼Œåé¦ˆå¾ˆé‡è¦ï¼","title":"ä¼Šå§‹ï¼Œè§è‡ªå·±"}]